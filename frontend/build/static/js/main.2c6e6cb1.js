/*! For license information please see main.2c6e6cb1.js.LICENSE.txt */
(()=>{var __webpack_modules__={43:(t,e,n)=>{"use strict";t.exports=n(202)},45:(t,e,n)=>{var A=n(738).default;t.exports=function(t,e){if("object"!=A(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=A(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},88:(t,e,n)=>{var A=n(756);t.exports=function(t,e,n){return t.set(A(t,e),n),n},t.exports.__esModule=!0,t.exports.default=t.exports},101:t=>{t.exports=function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")},t.exports.__esModule=!0,t.exports.default=t.exports},149:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var A=n(195);function i(t,e,n){(0,A.A)(t,e),e.set(t,n)}},153:(t,e,n)=>{"use strict";var A=n(43),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var A,r={},l=null,c=null;for(A in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)s.call(e,A)&&!o.hasOwnProperty(A)&&(r[A]=e[A]);if(t&&t.defaultProps)for(A in e=t.defaultProps)void 0===r[A]&&(r[A]=e[A]);return{$$typeof:i,type:t,key:l,ref:c,props:r,_owner:a.current}}e.Fragment=r,e.jsx=l,e.jsxs=l},165:(module,__unused_webpack_exports,__webpack_require__)=>{var _objectSpread=__webpack_require__(897).default,_defineProperty=__webpack_require__(693).default,_classPrivateMethodInitSpec=__webpack_require__(312).default,_classPrivateFieldInitSpec=__webpack_require__(459).default,_classPrivateFieldSet=__webpack_require__(88).default,_classPrivateFieldGet=__webpack_require__(668).default,_assertClassBrand=__webpack_require__(756).default,factory;globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=c,e.arraysToBytes=function(t){const e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];let n=0;for(let r=0;r<e;r++)n+=c(t[r]);let A=0;const i=new Uint8Array(n);for(let r=0;r<e;r++){let e=t[r];e instanceof Uint8Array||(e="string"===typeof e?l(e):new Uint8Array(e));const n=e.byteLength;i.set(e,A),A+=n}return i},e.assert=function(t,e){t||s(e)},e.bytesToString=function(t){"object"===typeof t&&null!==t&&void 0!==t.length||s("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const A=[];for(let i=0;i<e;i+=n){const r=Math.min(i+n,e),s=t.subarray(i,r);A.push(String.fromCharCode.apply(null,s))}return A.join("")},e.createPromiseCapability=function(){const t=Object.create(null);let e=!1;return Object.defineProperty(t,"settled",{get:()=>e}),t.promise=new Promise(function(n,A){t.resolve=function(t){e=!0,n(t)},t.reject=function(t){e=!0,A(t)}}),t},e.createValidAbsoluteUrl=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);e&&e.length>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=p(t)}catch(A){}}const i=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(A){}return null},e.escapeString=function(t){return t.replace(/([()\\\n\r])/g,t=>"\n"===t?"\\n":"\r"===t?"\\r":"\\".concat(t))},e.getModificationDate=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")].join("")},e.getVerbosityLevel=function(){return i},e.info=function(t){i>=A.INFOS&&console.log("Info: ".concat(t))},e.isArrayBuffer=function(t){return"object"===typeof t&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){if(t.length!==e.length)return!1;for(let n=0,A=t.length;n<A;n++)if(t[n]!==e[n])return!1;return!0},e.isAscii=function(t){return/^[\x00-\x7F]*$/.test(t)},e.objectFromMap=function(t){const e=Object.create(null);for(const[n,A]of t)e[n]=A;return e},e.objectSize=function(t){return Object.keys(t).length},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(i=t)},e.shadow=a,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=l,e.stringToPDFString=function(t){if(t[0]>="\xef"){let e;if("\xfe"===t[0]&&"\xff"===t[1]?e="utf-16be":"\xff"===t[0]&&"\xfe"===t[1]?e="utf-16le":"\xef"===t[0]&&"\xbb"===t[1]&&"\xbf"===t[2]&&(e="utf-8"),e)try{const n=new TextDecoder(e,{fatal:!0}),A=l(t);return n.decode(A)}catch(n){r('stringToPDFString: "'.concat(n,'".'))}}const e=[];for(let A=0,i=t.length;A<i;A++){const n=d[t.charCodeAt(A)];e.push(n?String.fromCharCode(n):t.charAt(A))}return e.join("")},e.stringToUTF16BEString=function(t){const e=["\xfe\xff"];for(let n=0,A=t.length;n<A;n++){const A=t.charCodeAt(n);e.push(String.fromCharCode(A>>8&255),String.fromCharCode(255&A))}return e.join("")},e.stringToUTF8String=p,e.unreachable=s,e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=r,n(2),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.LINE_FACTOR=1.35,e.LINE_DESCENT_FACTOR=.35,e.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},e.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e.AnnotationEditorPrefix="pdfjs_internal_editor_",e.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},e.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const A={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=A,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=A.WARNINGS;function r(t){i>=A.WARNINGS&&console.log("Warning: ".concat(t))}function s(t){throw new Error(t)}function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const o=function(){function t(e,n){this.constructor===t&&s("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();function l(t){"string"!==typeof t&&s("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let A=0;A<e;++A)n[A]=255&t.charCodeAt(A);return n}function c(t){return void 0!==t.length?t.length:void 0!==t.byteLength?t.byteLength:void s("Invalid argument for arrayByteLength")}e.BaseException=o,e.PasswordException=class extends o{constructor(t,e){super(t,"PasswordException"),this.code=e}},e.UnknownErrorException=class extends o{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},e.InvalidPDFException=class extends o{constructor(t){super(t,"InvalidPDFException")}},e.MissingPDFException=class extends o{constructor(t){super(t,"MissingPDFException")}},e.UnexpectedResponseException=class extends o{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}},e.FormatError=class extends o{constructor(t){super(t,"FormatError")}},e.AbortException=class extends o{constructor(t){super(t,"AbortException")}},e.FeatureTest=class{static get isLittleEndian(){return a(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return a(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return a(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}};const h=[...Array(256).keys()].map(t=>t.toString(16).padStart(2,"0"));class u{static makeHexColor(t,e,n){return"#".concat(h[t]).concat(h[e]).concat(h[n])}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[1],e[1]=n),e[0]*=t[0],e[1]*=t[0],t[3]<0&&(n=e[2],e[2]=e[3],e[3]=n),e[2]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[2],e[2]=n,n=e[1],e[1]=e[3],e[3]=n,t[1]<0&&(n=e[2],e[2]=e[3],e[3]=n),e[2]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[1],e[1]=n),e[0]*=t[2],e[1]*=t[2]),e[0]+=t[4],e[1]+=t[4],e[2]+=t[5],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}static getAxialAlignedBoundingBox(t,e){const n=u.applyTransform(t,e),A=u.applyTransform(t.slice(2,4),e),i=u.applyTransform([t[0],t[3]],e),r=u.applyTransform([t[2],t[1]],e);return[Math.min(n[0],A[0],i[0],r[0]),Math.min(n[1],A[1],i[1],r[1]),Math.max(n[0],A[0],i[0],r[0]),Math.max(n[1],A[1],i[1],r[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static apply3dTransform(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],A=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],r=t[2]*e[1]+t[3]*e[3],s=(n+r)/2,a=Math.sqrt((n+r)**2-4*(n*r-i*A))/2,o=s+a||1,l=s-a||1;return[Math.sqrt(o),Math.sqrt(l)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),A=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>A)return null;const i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>r?null:[n,i,A,r]}static bezierBoundingBox(t,e,n,A,i,r,s,a){const o=[],l=[[],[]];let c,h,u,d,p,g,f,m;for(let y=0;y<2;++y)if(0===y?(h=6*t-12*n+6*i,c=-3*t+9*n-9*i+3*s,u=3*n-3*t):(h=6*e-12*A+6*r,c=-3*e+9*A-9*r+3*a,u=3*A-3*e),Math.abs(c)<1e-12){if(Math.abs(h)<1e-12)continue;d=-u/h,0<d&&d<1&&o.push(d)}else f=h*h-4*u*c,m=Math.sqrt(f),f<0||(p=(-h+m)/(2*c),0<p&&p<1&&o.push(p),g=(-h-m)/(2*c),0<g&&g<1&&o.push(g));let v,w=o.length;const B=w;for(;w--;)d=o[w],v=1-d,l[0][w]=v*v*v*t+3*v*v*d*n+3*v*d*d*i+d*d*d*s,l[1][w]=v*v*v*e+3*v*v*d*A+3*v*d*d*r+d*d*d*a;return l[0][B]=t,l[1][B]=e,l[0][B+1]=s,l[1][B+1]=a,l[0].length=l[1].length=B+2,[Math.min(...l[0]),Math.min(...l[1]),Math.max(...l[0]),Math.max(...l[1])]}}e.Util=u;const d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function p(t){return decodeURIComponent(escape(t))}},(t,e,n)=>{n(3)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const n="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);e.isNodeJS=n},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:t,NodeCMapReaderFactory:e,NodeStandardFontDataFactory:n}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=t,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=e,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=n}function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){const e=new PDFDocumentLoadingTask;let n;if("string"===typeof t||t instanceof URL)n={url:t};else if((0,_util.isArrayBuffer)(t))n={data:t};else if(t instanceof PDFDataRangeTransport)n={range:t};else{if("object"!==typeof t)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=t}const A=Object.create(null);let i=null,r=null;for(const o in n){const t=n[o];switch(o){case"url":if("undefined"!==typeof window)try{A[o]=new URL(t,window.location).href;continue}catch(a){(0,_util.warn)('Cannot create valid URL: "'.concat(a,'".'))}else if("string"===typeof t||t instanceof URL){A[o]=t.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=t;continue;case"worker":r=t;continue;case"data":if(_is_node.isNodeJS&&"undefined"!==typeof Buffer&&t instanceof Buffer)A[o]=new Uint8Array(t);else{if(t instanceof Uint8Array)break;if("string"===typeof t)A[o]=(0,_util.stringToBytes)(t);else if("object"!==typeof t||null===t||isNaN(t.length)){if(!(0,_util.isArrayBuffer)(t))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");A[o]=new Uint8Array(t)}else A[o]=new Uint8Array(t)}continue}A[o]=t}if(A.CMapReaderFactory=A.CMapReaderFactory||DefaultCMapReaderFactory,A.StandardFontDataFactory=A.StandardFontDataFactory||DefaultStandardFontDataFactory,A.ignoreErrors=!0!==A.stopAtErrors,A.fontExtraProperties=!0===A.fontExtraProperties,A.pdfBug=!0===A.pdfBug,A.enableXfa=!0===A.enableXfa,(!Number.isInteger(A.rangeChunkSize)||A.rangeChunkSize<1)&&(A.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!==typeof A.docBaseUrl||(0,_display_utils.isDataScheme)(A.docBaseUrl))&&(A.docBaseUrl=null),(!Number.isInteger(A.maxImageSize)||A.maxImageSize<-1)&&(A.maxImageSize=-1),"string"!==typeof A.cMapUrl&&(A.cMapUrl=null),"string"!==typeof A.standardFontDataUrl&&(A.standardFontDataUrl=null),"boolean"!==typeof A.useWorkerFetch&&(A.useWorkerFetch=A.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&A.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!==typeof A.isEvalSupported&&(A.isEvalSupported=!0),"boolean"!==typeof A.disableFontFace&&(A.disableFontFace=_is_node.isNodeJS),"boolean"!==typeof A.useSystemFonts&&(A.useSystemFonts=!_is_node.isNodeJS&&!A.disableFontFace),"object"===typeof A.ownerDocument&&null!==A.ownerDocument||(A.ownerDocument=globalThis.document),"boolean"!==typeof A.disableRange&&(A.disableRange=!1),"boolean"!==typeof A.disableStream&&(A.disableStream=!1),"boolean"!==typeof A.disableAutoFetch&&(A.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(A.verbosity),!r){const t={verbosity:A.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};r=t.port?PDFWorker.fromPort(t):new PDFWorker(t),e._worker=r}const s=e.docId;return r.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");const t=_fetchDocument(r,A,i,s),n=new Promise(function(t){let e;i?e=new _transport_stream.PDFDataTransportStream({length:A.length,initialData:A.initialData,progressiveDone:A.progressiveDone,contentDispositionFilename:A.contentDispositionFilename,disableRange:A.disableRange,disableStream:A.disableStream},i):A.data||(e=createPDFNetworkStream({url:A.url,length:A.length,httpHeaders:A.httpHeaders,withCredentials:A.withCredentials,rangeChunkSize:A.rangeChunkSize,disableRange:A.disableRange,disableStream:A.disableStream})),t(e)});return Promise.all([t,n]).then(function(t){let[n,i]=t;if(e.destroyed)throw new Error("Loading aborted");const a=new _message_handler.MessageHandler(s,n,r.port),o=new WorkerTransport(a,e,i,A);e._transport=o,a.send("Ready",null)})}).catch(e._capability.reject),e}async function _fetchDocument(t,e,n,A){if(t.destroyed)throw new Error("Worker was destroyed");n&&(e.length=n.length,e.initialData=n.initialData,e.progressiveDone=n.progressiveDone,e.contentDispositionFilename=n.contentDispositionFilename);const i=await t.messageHandler.sendWithPromise("GetDocRequest",{docId:A,apiVersion:"2.16.105",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(e.data&&(e.data=null),t.destroyed)throw new Error("Worker was destroyed");return i}class PDFDocumentLoadingTask{constructor(){var t,e;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat((_docId._=(t=_docId._,e=t++,t),e)),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var t;this.destroyed=!0,await(null===(t=this._transport)||void 0===t?void 0:t.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var _docId={_:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=A,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,e){this._pdfInfo=t,this._transport=e,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,e,n,A){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._pageIndex=t,this._pageInfo=e,this._ownerDocument=A,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:A=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:A,dontFlip:i})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this._transport.getRenderingIntent(t);let n=this._annotationPromises.get(e.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,e.renderingIntent),this._annotationPromises.set(e.cacheKey,n),n=n.then(t=>{for(const e of t)void 0!==e.titleObj&&Object.defineProperty(e,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),e.titleObj.str)}),void 0!==e.contentsObj&&Object.defineProperty(e,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),e.contentsObj.str)});return t})),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var t;return(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null}render(t){var e,n,A;let{canvasContext:i,viewport:r,intent:s="display",annotationMode:a=_util.AnnotationMode.ENABLE,transform:o=null,imageLayer:l=null,canvasFactory:c=null,background:h=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:g=null}=t;void 0!==(null===(e=arguments[0])||void 0===e?void 0:e.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&a===_util.AnnotationMode.ENABLE&&(a=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(n=arguments[0])||void 0===n?void 0:n.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&a===_util.AnnotationMode.ENABLE&&(a=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const f=this._transport.getRenderingIntent(s,a,g);this.pendingCleanup=!1,u||(u=this._transport.getOptionalContentConfig());let m=this._intentStates.get(f.cacheKey);m||(m=Object.create(null),this._intentStates.set(f.cacheKey,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const v=c||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),w=!!(f.renderingIntent&_util.RenderingIntentFlag.PRINT);m.displayReadyCapability||(m.displayReadyCapability=(0,_util.createPromiseCapability)(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(f));const B=t=>{m.renderTasks.delete(y),(this.cleanupAfterRender||w)&&(this.pendingCleanup=!0),this._tryCleanup(),t?(y.capability.reject(t),this._abortOperatorList({intentState:m,reason:t instanceof Error?t:new Error(t)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},y=new InternalRenderTask({callback:B,params:{canvasContext:i,viewport:r,transform:o,imageLayer:l,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:v,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:p});((A=m).renderTasks||(A.renderTasks=new Set)).add(y);const b=y.task;return Promise.all([m.displayReadyCapability.promise,u]).then(t=>{let[e,n]=t;this.pendingCleanup?B():(this._stats&&this._stats.time("Rendering"),y.initializeGraphics({transparency:e,optionalContentConfig:n}),y.operatorListChanged())}).catch(B),b}getOperatorList(){let{intent:t="display",annotationMode:e=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const A=this._transport.getRenderingIntent(t,e,n,!0);let i,r=this._intentStates.get(A.cacheKey);var s;return r||(r=Object.create(null),this._intentStates.set(A.cacheKey,r)),r.opListReadCapability||(i=Object.create(null),i.operatorListChanged=function(){r.operatorList.lastChunk&&(r.opListReadCapability.resolve(r.operatorList),r.renderTasks.delete(i))},r.opListReadCapability=(0,_util.createPromiseCapability)(),((s=r).renderTasks||(s.renderTasks=new Set)).add(i),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(A)),r.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:t=!1,includeMarkedContent:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==t,includeMarkedContent:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(t=>_xfa_text.XfaText.textContent(t));const e=this.streamTextContent(t);return new Promise(function(t,n){const A=e.getReader(),i={items:[],styles:Object.create(null)};!function e(){A.read().then(function(n){let{value:A,done:r}=n;r?t(i):(Object.assign(i.styles,A.styles),i.items.push(...A.items),e())},n)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();this.objs.clear();for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(t))}_renderPageChunk(t,e){for(let n=0,A=t.length;n<A;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageMap:A}=t;const i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:A}).getReader(),r=this._intentStates.get(n);r.streamReader=i;const s=()=>{i.read().then(t=>{let{value:e,done:n}=t;n?r.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,r),s())},t=>{if(r.streamReader=null,!this._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(const t of r.renderTasks)t.operatorListChanged();this._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(t);else{if(!r.opListReadCapability)throw t;r.opListReadCapability.reject(t)}}})};s()}_abortOperatorList(t){let{intentState:e,reason:n,force:A=!1}=t;if(e.streamReader){if(!A){if(e.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException)return void(e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:n,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(e.streamReader.cancel(new _util.AbortException(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(t,e){const n={data:structuredClone(t,e)};this._deferred.then(()=>{for(const t of this._listeners)t.call(this,n)})}addEventListener(t,e){this._listeners.push(e)}removeEventListener(t,e){const n=this._listeners.indexOf(e);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){var _document;const t=null===(_document=document)||void 0===_document||null===(_document=_document.currentScript)||void 0===_document?void 0:_document.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch(i){return!1}const A=new URL(e,n);return n.origin===A.origin},PDFWorkerUtil.createCDNWrapper=function(t){const e='importScripts("'.concat(t,'");');return URL.createObjectURL(new Blob([e]))};class PDFWorker{constructor(){let{name:t=null,port:e=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&_workerPorts._.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e)return _workerPorts._.set(e,this),void this._initializeFromPort(e);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),A=()=>{t.removeEventListener("error",i),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||A()};t.addEventListener("error",i),n.on("test",e=>{t.removeEventListener("error",i),this.destroyed?A():e?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())}),n.on("ready",e=>{if(t.removeEventListener("error",i),this.destroyed)A();else try{r()}catch(n){this._setupFakeWorker()}});const r=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void r()}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new LoopbackPort;this._port=e;const n="fake".concat(PDFWorkerUtil.fakeWorkerId++),A=new _message_handler.MessageHandler(n+"_worker",n,e);t.setup(A,e);const i=new _message_handler.MessageHandler(n,n+"_worker",e);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_workerPorts._.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(null===t||void 0===t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _assertClassBrand(PDFWorker,this,_workerPorts)._.has(t.port)?_assertClassBrand(PDFWorker,this,_workerPorts)._.get(t.port):new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={_:new WeakMap};exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(t,e,n,A){_classPrivateFieldInitSpec(this,_docStats,null),_classPrivateFieldInitSpec(this,_pageCache,new Map),_classPrivateFieldInitSpec(this,_pagePromises,new Map),_classPrivateFieldInitSpec(this,_metadataPromise,null),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:e.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:A.ownerDocument,styleElement:A.styleElement}),this._params=A,A.useWorkerFetch||(this.CMapReaderFactory=new A.CMapReaderFactory({baseUrl:A.cMapUrl,isCompressed:A.cMapPacked}),this.StandardFontDataFactory=new A.StandardFontDataFactory({baseUrl:A.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(_docStats,this)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_util.RenderingIntentFlag.DISPLAY,r=null;switch(t){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(e){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,r=(i&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(e))}return A&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:"".concat(i,"_").concat(_annotation_storage.AnnotationStorage.getHash(r)),annotationStorageMap:r}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of _classPrivateFieldGet(_pageCache,this).values())t.push(n._destroy());_classPrivateFieldGet(_pageCache,this).clear(),_classPrivateFieldGet(_pagePromises,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(_metadataPromise,this,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(t,e)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then(function(t){let{value:n,done:A}=t;A?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(n),"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))}).catch(t=>{e.error(t)})},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch(t=>{if(!this.destroyed)throw t})}}),t.on("ReaderHeadersReady",t=>{const n=(0,_util.createPromiseCapability)(),A=this._fullReader;return A.headersReady.then(()=>{var t;A.isStreamingSupported&&A.isRangeSupported||(this._lastProgress&&(null===(t=e.onProgress)||void 0===t||t.call(e,this._lastProgress)),A.onProgress=t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})});n.resolve({isStreamingSupported:A.isStreamingSupported,isRangeSupported:A.isRangeSupported,contentLength:A.contentLength})},n.reject),n.promise}),t.on("GetRangeReader",(t,e)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then(function(t){let{value:n,done:A}=t;A?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(n),"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))}).catch(t=>{e.error(t)})},e.onCancel=t=>{n.cancel(t),e.ready.catch(t=>{if(!this.destroyed)throw t})}):e.close()}),t.on("GetDoc",t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new PDFDocumentProxy(n,this))}),t.on("DocException",function(t){let n;switch(t.name){case"PasswordException":n=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":n=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}e._capability.reject(n)}),t.on("PasswordRequest",t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),e.onPassword){const A=t=>{t instanceof Error?this._passwordCapability.reject(t):this._passwordCapability.resolve({password:t})};try{e.onPassword(A,t.code)}catch(n){this._passwordCapability.reject(n)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise}),t.on("DataLoaded",t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),t.on("StartRenderPage",t=>{this.destroyed||_classPrivateFieldGet(_pageCache,this).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)}),t.on("commonobj",e=>{var n;let[A,i,r]=e;if(!this.destroyed&&!this.commonObjs.has(A))switch(i){case"Font":const e=this._params;if("error"in r){const t=r.error;(0,_util.warn)("Error during font loading: ".concat(t)),this.commonObjs.resolve(A,t);break}let s=null;e.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled&&(s={registerFont(t,e){globalThis.FontInspector.fontAdded(t,e)}});const a=new _font_loader.FontFaceObject(r,{isEvalSupported:e.isEvalSupported,disableFontFace:e.disableFontFace,ignoreErrors:e.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:s});this.fontLoader.bind(a).catch(e=>t.sendWithPromise("FontFallback",{id:A})).finally(()=>{!e.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(A,a)});break;case"FontPath":case"Image":this.commonObjs.resolve(A,r);break;default:throw new Error("Got unknown common object type ".concat(i))}}),t.on("obj",t=>{let[e,n,A,i]=t;if(this.destroyed)return;const r=_classPrivateFieldGet(_pageCache,this).get(n);if(!r.objs.has(e))switch(A){case"Image":r.objs.resolve(e,i);const t=8e6;if(i){let e;if(i.bitmap){const{bitmap:t,width:n,height:A}=i;e=n*A*4,r._bitmaps.add(t)}else{var s;e=(null===(s=i.data)||void 0===s?void 0:s.length)||0}e>t&&(r.cleanupAfterRender=!0)}break;case"Pattern":r.objs.resolve(e,i);break;default:throw new Error("Got unknown object type ".concat(A))}}),t.on("DocProgress",t=>{var n;this.destroyed||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})}),t.on("DocStats",t=>{this.destroyed||_classPrivateFieldSet(_docStats,this,Object.freeze({streamTypes:Object.freeze(t.streamTypes),fontTypes:Object.freeze(t.fontTypes)}))}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature(t){var e,n;let{featureId:A}=t;this.destroyed||null===(e=(n=this.loadingTask).onUnsupportedFeature)||void 0===e||e.call(n,A)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=_classPrivateFieldGet(_pagePromises,this).get(e);if(n)return n;const A=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(t=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(e,t,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(_pageCache,this).set(e,n),n});return _classPrivateFieldGet(_pagePromises,this).set(e,A),A}getPageIndex(t){return"object"!==typeof t||null===t||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}saveDocument(){var t,e;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(t=>new _optional_content_config.OptionalContentConfig(t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(_metadataPromise,this)||_classPrivateFieldSet(_metadataPromise,this,this.messageHandler.sendWithPromise("GetMetadata",null).then(t=>{var e,n,A,i;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:null!==(e=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==e?e:null,contentLength:null!==(A=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==A?A:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const t of _classPrivateFieldGet(_pageCache,this).values())if(!t.cleanup())throw new Error("startCleanup: Page ".concat(t.pageNumber," is currently rendering."));this.commonObjs.clear(),t||this.fontLoader.clear(),_classPrivateFieldSet(_metadataPromise,this,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}var _objs=new WeakMap,_PDFObjects_brand=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_PDFObjects_brand),_classPrivateFieldInitSpec(this,_objs,Object.create(null))}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,t);return n.capability.promise.then(()=>e(n.data)),null}const n=_classPrivateFieldGet(_objs,this)[t];if(null===n||void 0===n||!n.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}has(t){const e=_classPrivateFieldGet(_objs,this)[t];return(null===e||void 0===e?void 0:e.capability.settled)||!1}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,t);n.data=e,n.capability.resolve()}clear(){_classPrivateFieldSet(_objs,this,Object.create(null))}}function _ensureObj(t){const e=_classPrivateFieldGet(_objs,this)[t];return e||(_classPrivateFieldGet(_objs,this)[t]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(t){_classPrivateFieldInitSpec(this,_internalRenderTask,null),_classPrivateFieldSet(_internalRenderTask,this,t),this.onContinue=null}get promise(){return _classPrivateFieldGet(_internalRenderTask,this).capability.promise}cancel(){_classPrivateFieldGet(_internalRenderTask,this).cancel()}get separateAnnots(){const{separateAnnots:t}=_classPrivateFieldGet(_internalRenderTask,this).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=_classPrivateFieldGet(_internalRenderTask,this);return t.form||t.canvas&&(null===e||void 0===e?void 0:e.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(t){let{callback:e,params:n,objs:A,commonObjs:i,annotationCanvasMap:r,operatorList:s,pageIndex:a,canvasFactory:o,useRequestAnimationFrame:l=!1,pdfBug:c=!1,pageColors:h=null}=t;this.callback=e,this.params=n,this.objs=A,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=o,this._pdfBug=c,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!==typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(t){var e;let{transparency:n=!1,optionalContentConfig:A}=t;if(this.cancelled)return;if(this._canvas){if(_canvasInUse._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_canvasInUse._.add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,imageLayer:a,background:o}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,a,A,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:n,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_canvasInUse._.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_canvasInUse._.delete(this._canvas),this.callback())))}}var _canvasInUse={_:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var A=n(1),i=n(6),r=n(10),s=new WeakSet;class a{constructor(){_classPrivateMethodInitSpec(this,s),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this._storage.get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return this._storage.get(t)}remove(t){if(this._storage.delete(t),0===this._storage.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const t of this._storage.values())if(t instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this._storage.get(t);let A=!1;if(void 0!==n)for(const[i,r]of Object.entries(e))n[i]!==r&&(A=!0,n[i]=r);else A=!0,this._storage.set(t,e);A&&_assertClassBrand(s,this,o).call(this),e instanceof i.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(t){return this._storage.has(t)}getAll(){return this._storage.size>0?(0,A.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new c(this)}get serializable(){if(0===this._storage.size)return null;const t=new Map;for(const[e,n]of this._storage){const A=n instanceof i.AnnotationEditor?n.serialize():n;A&&t.set(e,A)}return t}static getHash(t){if(!t)return"";const e=new r.MurmurHash3_64;for(const[n,A]of t)e.update("".concat(n,":").concat(JSON.stringify(A)));return e.hexdigest()}}function o(){this._modified||(this._modified=!0,"function"===typeof this.onSetModified&&this.onSetModified())}e.AnnotationStorage=a;var l=new WeakMap;class c extends a{constructor(t){super(),_classPrivateFieldInitSpec(this,l,null),_classPrivateFieldSet(l,this,structuredClone(t.serializable))}get print(){(0,A.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(l,this)}}e.PrintAnnotationStorage=c},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var A=n(7),i=n(1),r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap;class h{constructor(t){_classPrivateFieldInitSpec(this,r,this.focusin.bind(this)),_classPrivateFieldInitSpec(this,s,this.focusout.bind(this)),_classPrivateFieldInitSpec(this,a,!1),_classPrivateFieldInitSpec(this,o,!1),_classPrivateFieldInitSpec(this,l,!1),_classPrivateFieldInitSpec(this,c,h._zIndex++),this.constructor===h&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null;const[e,n]=this.parent.viewportBaseDimensions;this.x=t.x/e,this.y=t.y/n,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(c,this)}focusin(t){_classPrivateFieldGet(a,this)?_classPrivateFieldSet(a,this,!1):this.parent.setSelected(this)}focusout(t){if(!this.isAttachedToDOM)return;const e=t.relatedTarget;null!==e&&void 0!==e&&e.closest("#".concat(this.id))||(t.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(t){const e=this.parent.div.getBoundingClientRect();this.startX=t.clientX-e.x,this.startY=t.clientY-e.y,t.dataTransfer.setData("text/plain",this.id),t.dataTransfer.effectAllowed="move"}setAt(t,e,n,A){const[i,r]=this.parent.viewportBaseDimensions;[n,A]=this.screenToPageTranslation(n,A),this.x=(t+n)/i,this.y=(e+A)/r,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}translate(t,e){const[n,A]=this.parent.viewportBaseDimensions;[t,e]=this.screenToPageTranslation(t,e),this.x+=t/n,this.y+=e/A,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}screenToPageTranslation(t,e){const{rotation:n}=this.parent.viewport;switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}setDims(t,e){const[n,A]=this.parent.viewportBaseDimensions;this.div.style.width="".concat(100*t/n,"%"),this.div.style.height="".concat(100*e/A,"%")}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(r,this)),this.div.addEventListener("focusout",_classPrivateFieldGet(s,this));const[t,e]=this.getInitialTranslation();return this.translate(t,e),(0,A.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(t){const e=A.KeyboardManager.platform.isMac;0!==t.button||t.ctrlKey&&e?t.preventDefault():(t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this),_classPrivateFieldSet(a,this,!0))}getRect(t,e){const[n,A]=this.parent.viewportBaseDimensions,[i,r]=this.parent.pageDimensions,s=i*t/n,a=r*e/A,o=this.x*i,l=this.y*r,c=this.width*i,h=this.height*r;switch(this.rotation){case 0:return[o+s,r-l-a-h,o+s+c,r-l-a];case 90:return[o+a,r-l+s,o+a+h,r-l+s+c];case 180:return[o-s-c,r-l+a,o-s,r-l+a+h];case 270:return[o-a-h,r-l-s-c,o-a,r-l-s];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,A,i,r]=t,s=i-n,a=r-A;switch(this.rotation){case 0:return[n,e-r,s,a];case 90:return[n,e-A,a,s];case 180:return[i,e-A,s,a];case 270:return[i,e-r,a,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(l,this,!0)}disableEditMode(){_classPrivateFieldSet(l,this,!1)}isInEditMode(){return _classPrivateFieldGet(l,this)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t;null===(t=this.div)||void 0===t||t.addEventListener("focusin",_classPrivateFieldGet(r,this))}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(t,e){const n=new this.prototype.constructor({parent:e,id:e.getNextId()});n.rotation=t.rotation;const[A,i]=e.pageDimensions,[r,s,a,o]=n.getRectInCurrentCoords(t.rect,i);return n.x=r/A,n.y=s/i,n.width=a/A,n.height=o/i,n}remove(){this.div.removeEventListener("focusin",_classPrivateFieldGet(r,this)),this.div.removeEventListener("focusout",_classPrivateFieldGet(s,this)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var t;null===(t=this.div)||void 0===t||t.classList.add("selectedEditor")}unselect(){var t;null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor")}updateParams(t,e){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(o,this)}set isEditing(t){_classPrivateFieldSet(o,this,t),t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}_defineProperty(h,"_colorManager",new A.ColorManager),_defineProperty(h,"_zIndex",1),e.AnnotationEditor=h},(t,e,n)=>{var A;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=function(t,e,n){for(const A of n)e.addEventListener(A,t[A].bind(t))},e.opacityToHex=function(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")};var i=n(1),r=n(8),s=new WeakMap;class a{constructor(){_classPrivateFieldInitSpec(this,s,0)}getId(){var t,e;return"".concat(i.AnnotationEditorPrefix).concat((_classPrivateFieldSet(s,this,(t=_classPrivateFieldGet(s,this),e=t++,t)),e))}}var o=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap;class u{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;_classPrivateFieldInitSpec(this,o,[]),_classPrivateFieldInitSpec(this,l,!1),_classPrivateFieldInitSpec(this,c,void 0),_classPrivateFieldInitSpec(this,h,-1),_classPrivateFieldSet(c,this,t)}add(t){let{cmd:e,undo:n,mustExec:A,type:i=NaN,overwriteIfSameType:r=!1,keepUndo:s=!1}=t;if(A&&e(),_classPrivateFieldGet(l,this))return;const a={cmd:e,undo:n,type:i};if(-1===_classPrivateFieldGet(h,this))return _classPrivateFieldGet(o,this).length>0&&(_classPrivateFieldGet(o,this).length=0),_classPrivateFieldSet(h,this,0),void _classPrivateFieldGet(o,this).push(a);if(r&&_classPrivateFieldGet(o,this)[_classPrivateFieldGet(h,this)].type===i)return s&&(a.undo=_classPrivateFieldGet(o,this)[_classPrivateFieldGet(h,this)].undo),void(_classPrivateFieldGet(o,this)[_classPrivateFieldGet(h,this)]=a);const u=_classPrivateFieldGet(h,this)+1;u===_classPrivateFieldGet(c,this)?_classPrivateFieldGet(o,this).splice(0,1):(_classPrivateFieldSet(h,this,u),u<_classPrivateFieldGet(o,this).length&&_classPrivateFieldGet(o,this).splice(u)),_classPrivateFieldGet(o,this).push(a)}undo(){-1!==_classPrivateFieldGet(h,this)&&(_classPrivateFieldSet(l,this,!0),_classPrivateFieldGet(o,this)[_classPrivateFieldGet(h,this)].undo(),_classPrivateFieldSet(l,this,!1),_classPrivateFieldSet(h,this,_classPrivateFieldGet(h,this)-1))}redo(){_classPrivateFieldGet(h,this)<_classPrivateFieldGet(o,this).length-1&&(_classPrivateFieldSet(h,this,_classPrivateFieldGet(h,this)+1),_classPrivateFieldSet(l,this,!0),_classPrivateFieldGet(o,this)[_classPrivateFieldGet(h,this)].cmd(),_classPrivateFieldSet(l,this,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(h,this)}hasSomethingToRedo(){return _classPrivateFieldGet(h,this)<_classPrivateFieldGet(o,this).length-1}destroy(){_classPrivateFieldSet(o,this,null)}}e.CommandManager=u;var d=new WeakSet;class p{constructor(t){_classPrivateMethodInitSpec(this,d),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const e=p.platform.isMac;for(const[n,A]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),A),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,A),this.allKeys.add(t.split("+").at(-1)))}}static get platform(){const t="undefined"!==typeof navigator?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(_assertClassBrand(d,this,g).call(this,e));n&&(n.bind(t)(),e.stopPropagation(),e.preventDefault())}}function g(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}e.KeyboardManager=p;var f=new WeakMap;class m{constructor(){_classPrivateFieldInitSpec(this,f,null)}copy(t){t&&(Array.isArray(t)?_classPrivateFieldSet(f,this,t.map(t=>t.serialize())):_classPrivateFieldSet(f,this,[t.serialize()]),_classPrivateFieldSet(f,this,_classPrivateFieldGet(f,this).filter(t=>!!t)),0===_classPrivateFieldGet(f,this).length&&_classPrivateFieldSet(f,this,null))}paste(){return _classPrivateFieldGet(f,this)}isEmpty(){return null===_classPrivateFieldGet(f,this)}destroy(){_classPrivateFieldSet(f,this,null)}}class v{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return(0,r.getColorValues)(t),(0,i.shadow)(this,"_colors",t)}convert(t){const e=(0,r.getRGB)(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,A]of this._colors)if(A.every((t,n)=>t===e[n]))return v._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?i.Util.makeHexColor(...e):t}}_defineProperty(v,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),e.ColorManager=v;var w=new WeakMap,B=new WeakMap,y=new WeakMap,b=new WeakMap,C=new WeakMap,_=new WeakMap,F=new WeakMap,E=new WeakMap,x=new WeakMap,S=new WeakMap,k=new WeakMap,U=new WeakMap,Q=new WeakMap,P=new WeakMap,M=new WeakMap,I=new WeakMap,T=new WeakMap,D=new WeakSet;class L{constructor(t,e){_classPrivateMethodInitSpec(this,D),_classPrivateFieldInitSpec(this,w,null),_classPrivateFieldInitSpec(this,B,new Map),_classPrivateFieldInitSpec(this,y,new Map),_classPrivateFieldInitSpec(this,b,new m),_classPrivateFieldInitSpec(this,C,new u),_classPrivateFieldInitSpec(this,_,0),_classPrivateFieldInitSpec(this,F,null),_classPrivateFieldInitSpec(this,E,null),_classPrivateFieldInitSpec(this,x,new a),_classPrivateFieldInitSpec(this,S,!1),_classPrivateFieldInitSpec(this,k,i.AnnotationEditorType.NONE),_classPrivateFieldInitSpec(this,U,new Set),_classPrivateFieldInitSpec(this,Q,this.keydown.bind(this)),_classPrivateFieldInitSpec(this,P,this.onEditingAction.bind(this)),_classPrivateFieldInitSpec(this,M,this.onPageChanging.bind(this)),_classPrivateFieldInitSpec(this,I,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}),_classPrivateFieldInitSpec(this,T,null),_classPrivateFieldSet(T,this,t),_classPrivateFieldSet(E,this,e),_classPrivateFieldGet(E,this)._on("editingaction",_classPrivateFieldGet(P,this)),_classPrivateFieldGet(E,this)._on("pagechanging",_classPrivateFieldGet(M,this))}destroy(){_assertClassBrand(D,this,O).call(this),_classPrivateFieldGet(E,this)._off("editingaction",_classPrivateFieldGet(P,this)),_classPrivateFieldGet(E,this)._off("pagechanging",_classPrivateFieldGet(M,this));for(const t of _classPrivateFieldGet(y,this).values())t.destroy();_classPrivateFieldGet(y,this).clear(),_classPrivateFieldGet(B,this).clear(),_classPrivateFieldSet(w,this,null),_classPrivateFieldGet(U,this).clear(),_classPrivateFieldGet(b,this).destroy(),_classPrivateFieldGet(C,this).destroy()}onPageChanging(t){let{pageNumber:e}=t;_classPrivateFieldSet(_,this,e-1)}focusMainContainer(){_classPrivateFieldGet(T,this).focus()}keydown(t){var e;null!==(e=this.getActive())&&void 0!==e&&e.shouldGetKeyboardEvents()||L._keyboardManager.exec(this,t)}onEditingAction(t){["undo","redo","cut","copy","paste","delete","selectAll"].includes(t.name)&&this[t.name]()}setEditingState(t){t?(_assertClassBrand(D,this,R).call(this),_assertClassBrand(D,this,H).call(this,{isEditing:_classPrivateFieldGet(k,this)!==i.AnnotationEditorType.NONE,isEmpty:_assertClassBrand(D,this,j).call(this),hasSomethingToUndo:_classPrivateFieldGet(C,this).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(C,this).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:_classPrivateFieldGet(b,this).isEmpty()})):(_assertClassBrand(D,this,O).call(this),_assertClassBrand(D,this,H).call(this,{isEditing:!1}))}registerEditorTypes(t){_classPrivateFieldSet(F,this,t);for(const e of _classPrivateFieldGet(F,this))_assertClassBrand(D,this,N).call(this,e.defaultPropertiesToUpdate)}getId(){return _classPrivateFieldGet(x,this).getId()}addLayer(t){_classPrivateFieldGet(y,this).set(t.pageIndex,t),_classPrivateFieldGet(S,this)?t.enable():t.disable()}removeLayer(t){_classPrivateFieldGet(y,this).delete(t.pageIndex)}updateMode(t){if(_classPrivateFieldSet(k,this,t),t===i.AnnotationEditorType.NONE)this.setEditingState(!1),_assertClassBrand(D,this,K).call(this);else{this.setEditingState(!0),_assertClassBrand(D,this,G).call(this);for(const e of _classPrivateFieldGet(y,this).values())e.updateMode(t)}}updateToolbar(t){t!==_classPrivateFieldGet(k,this)&&_classPrivateFieldGet(E,this).dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){for(const n of _classPrivateFieldGet(U,this))n.updateParams(t,e);for(const n of _classPrivateFieldGet(F,this))n.updateDefaultParams(t,e)}getEditors(t){const e=[];for(const n of _classPrivateFieldGet(B,this).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return _classPrivateFieldGet(B,this).get(t)}addEditor(t){_classPrivateFieldGet(B,this).set(t.id,t)}removeEditor(t){_classPrivateFieldGet(B,this).delete(t.id),this.unselect(t)}setActiveEditor(t){_classPrivateFieldGet(w,this)!==t&&(_classPrivateFieldSet(w,this,t),t&&_assertClassBrand(D,this,N).call(this,t.propertiesToUpdate))}toggleSelected(t){if(_classPrivateFieldGet(U,this).has(t))return _classPrivateFieldGet(U,this).delete(t),t.unselect(),void _assertClassBrand(D,this,H).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(U,this).add(t),t.select(),_assertClassBrand(D,this,N).call(this,t.propertiesToUpdate),_assertClassBrand(D,this,H).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of _classPrivateFieldGet(U,this))e!==t&&e.unselect();_classPrivateFieldGet(U,this).clear(),_classPrivateFieldGet(U,this).add(t),t.select(),_assertClassBrand(D,this,N).call(this,t.propertiesToUpdate),_assertClassBrand(D,this,H).call(this,{hasSelectedEditor:!0})}isSelected(t){return _classPrivateFieldGet(U,this).has(t)}unselect(t){t.unselect(),_classPrivateFieldGet(U,this).delete(t),_assertClassBrand(D,this,H).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(U,this).size}undo(){_classPrivateFieldGet(C,this).undo(),_assertClassBrand(D,this,H).call(this,{hasSomethingToUndo:_classPrivateFieldGet(C,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_assertClassBrand(D,this,j).call(this)})}redo(){_classPrivateFieldGet(C,this).redo(),_assertClassBrand(D,this,H).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(C,this).hasSomethingToRedo(),isEmpty:_assertClassBrand(D,this,j).call(this)})}addCommands(t){_classPrivateFieldGet(C,this).add(t),_assertClassBrand(D,this,H).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_assertClassBrand(D,this,j).call(this)})}delete(){if(_classPrivateFieldGet(w,this)&&_classPrivateFieldGet(w,this).commitOrRemove(),!this.hasSelection)return;const t=[..._classPrivateFieldGet(U,this)];this.addCommands({cmd:()=>{for(const e of t)e.remove()},undo:()=>{for(const e of t)_assertClassBrand(D,this,W).call(this,e)},mustExec:!0})}copy(){if(_classPrivateFieldGet(w,this)&&_classPrivateFieldGet(w,this).commitOrRemove(),this.hasSelection){const t=[];for(const e of _classPrivateFieldGet(U,this))e.isEmpty()||t.push(e);if(0===t.length)return;_classPrivateFieldGet(b,this).copy(t),_assertClassBrand(D,this,H).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(_classPrivateFieldGet(b,this).isEmpty())return;this.unselectAll();const t=_classPrivateFieldGet(y,this).get(_classPrivateFieldGet(_,this)),e=_classPrivateFieldGet(b,this).paste().map(e=>t.deserialize(e));this.addCommands({cmd:()=>{for(const t of e)_assertClassBrand(D,this,W).call(this,t);_assertClassBrand(D,this,V).call(this,e)},undo:()=>{for(const t of e)t.remove()},mustExec:!0})}selectAll(){for(const t of _classPrivateFieldGet(U,this))t.commit();_assertClassBrand(D,this,V).call(this,_classPrivateFieldGet(B,this).values())}unselectAll(){if(_classPrivateFieldGet(w,this))_classPrivateFieldGet(w,this).commitOrRemove();else if(0!==_assertClassBrand(D,this,V).size){for(const t of _classPrivateFieldGet(U,this))t.unselect();_classPrivateFieldGet(U,this).clear(),_assertClassBrand(D,this,H).call(this,{hasSelectedEditor:!1})}}isActive(t){return _classPrivateFieldGet(w,this)===t}getActive(){return _classPrivateFieldGet(w,this)}getMode(){return _classPrivateFieldGet(k,this)}}function R(){_classPrivateFieldGet(T,this).addEventListener("keydown",_classPrivateFieldGet(Q,this))}function O(){_classPrivateFieldGet(T,this).removeEventListener("keydown",_classPrivateFieldGet(Q,this))}function H(t){Object.entries(t).some(t=>{let[e,n]=t;return _classPrivateFieldGet(I,this)[e]!==n})&&_classPrivateFieldGet(E,this).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(I,this),t)})}function N(t){_classPrivateFieldGet(E,this).dispatch("annotationeditorparamschanged",{source:this,details:t})}function G(){if(!_classPrivateFieldGet(S,this)){_classPrivateFieldSet(S,this,!0);for(const t of _classPrivateFieldGet(y,this).values())t.enable()}}function K(){if(this.unselectAll(),_classPrivateFieldGet(S,this)){_classPrivateFieldSet(S,this,!1);for(const t of _classPrivateFieldGet(y,this).values())t.disable()}}function W(t){const e=_classPrivateFieldGet(y,this).get(t.pageIndex);e?e.addOrRebuild(t):this.addEditor(t)}function j(){if(0===_classPrivateFieldGet(B,this).size)return!0;if(1===_classPrivateFieldGet(B,this).size)for(const t of _classPrivateFieldGet(B,this).values())return t.isEmpty();return!1}function V(t){_classPrivateFieldGet(U,this).clear();for(const e of t)e.isEmpty()||(_classPrivateFieldGet(U,this).add(e),e.select());_assertClassBrand(D,this,H).call(this,{hasSelectedEditor:!0})}_defineProperty(L,"_keyboardManager",new p([[["ctrl+a","mac+meta+a"],(A=L).prototype.selectAll],[["ctrl+c","mac+meta+c"],A.prototype.copy],[["ctrl+v","mac+meta+v"],A.prototype.paste],[["ctrl+x","mac+meta+x"],A.prototype.cut],[["ctrl+z","mac+meta+z"],A.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],A.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],A.prototype.delete],[["Escape","mac+Escape"],A.prototype.unselectAll]])),e.AnnotationEditorUIManager=L},(t,e,n)=>{var A;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.getColorValues=function(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const A=window.getComputedStyle(e).color;t.set(n,m(A))}e.remove()},e.getCurrentTransform=function(t){const{a:e,b:n,c:A,d:i,e:r,f:s}=t.getTransform();return[e,n,A,i,r,s]},e.getCurrentTransformInverse=function(t){const{a:e,b:n,c:A,d:i,e:r,f:s}=t.getTransform().invertSelf();return[e,n,A,i,r,s]},e.getFilenameFromUrl=function(t){const e=t.indexOf("#"),n=t.indexOf("?"),A=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",A)+1,A)},e.getPdfFilenameFromUrl=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(p(t))return(0,r.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,A=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let i=n.exec(A[1])||n.exec(A[2])||n.exec(A[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch(s){}return i||e},e.getRGB=m,e.getXfaPageViewport=function(t,e){let{scale:n=1,rotation:A=0}=e;const{width:i,height:r}=t.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new u({viewBox:s,scale:n,rotation:A})},e.isDataScheme=p,e.isPdfFile=function(t){return"string"===typeof t&&/\.pdf$/i.test(t)},e.isValidFetchUrl=g,e.loadScript=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((n,A)=>{const i=document.createElement("script");i.src=t,i.onload=function(t){e&&i.remove(),n(t)},i.onerror=function(){A(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).append(i)})};var i=n(9),r=n(1);e.AnnotationPrefix="pdfjs_internal_id_";class s{}A=s,_defineProperty(s,"CSS",96),_defineProperty(s,"PDF",72),_defineProperty(s,"PDF_TO_CSS_UNITS",A.CSS/A.PDF),e.PixelsPerInch=s;class a extends i.BaseCanvasFactory{constructor(){let{ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}async function o(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(g(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);return e?new Uint8Array(await n.arrayBuffer()):(0,r.stringToBytes)(await n.text())}return new Promise((n,A)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),e&&(i.responseType="arraybuffer"),i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(200===i.status||0===i.status){let t;if(e&&i.response?t=new Uint8Array(i.response):!e&&i.responseText&&(t=(0,r.stringToBytes)(i.responseText)),t)return void n(t)}A(new Error(i.statusText))}},i.send(null)})}e.DOMCanvasFactory=a;class l extends i.BaseCMapReaderFactory{_fetchData(t,e){return o(t,this.isCompressed).then(t=>({cMapData:t,compressionType:e}))}}e.DOMCMapReaderFactory=l;class c extends i.BaseStandardFontDataFactory{_fetchData(t){return o(t,!0)}}e.DOMStandardFontDataFactory=c;class h extends i.BaseSVGFactory{_createSVG(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}}e.DOMSVGFactory=h;class u{constructor(t){let{viewBox:e,scale:n,rotation:A,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}=t;this.viewBox=e,this.scale=n,this.rotation=A,this.offsetX=i,this.offsetY=r;const a=(e[2]+e[0])/2,o=(e[3]+e[1])/2;let l,c,h,u,d,p,g,f;switch(A%=360,A<0&&(A+=360),A){case 180:l=-1,c=0,h=0,u=1;break;case 90:l=0,c=1,h=1,u=0;break;case 270:l=0,c=-1,h=-1,u=0;break;case 0:l=1,c=0,h=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(h=-h,u=-u),0===l?(d=Math.abs(o-e[1])*n+i,p=Math.abs(a-e[0])*n+r,g=Math.abs(e[3]-e[1])*n,f=Math.abs(e[2]-e[0])*n):(d=Math.abs(a-e[0])*n+i,p=Math.abs(o-e[1])*n+r,g=Math.abs(e[2]-e[0])*n,f=Math.abs(e[3]-e[1])*n),this.transform=[l*n,c*n,h*n,u*n,d-l*n*a-h*n*o,p-c*n*a-u*n*o],this.width=g,this.height=f}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:A=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new u({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:A,dontFlip:i})}convertToViewportPoint(t,e){return r.Util.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=r.Util.applyTransform([t[0],t[1]],this.transform),n=r.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return r.Util.applyInverseTransform([t,e],this.transform)}}e.PageViewport=u;class d extends r.BaseException{constructor(t,e){super(t,"RenderingCancelledException"),this.type=e}}function p(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function g(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return"http:"===n||"https:"===n}catch(n){return!1}}let f;function m(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(t=>parseInt(t)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):((0,r.warn)('Not a valid color format: "'.concat(t,'"')),[0,0,0])}e.RenderingCancelledException=d,e.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(t){t in this.started&&(0,r.warn)("Timer is already running for ".concat(t)),this.started[t]=Date.now()}timeEnd(t){t in this.started||(0,r.warn)("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const n of this.times){const t=n.name;t.length>e&&(e=t.length)}for(const n of this.times){const A=n.end-n.start;t.push("".concat(n.name.padEnd(e)," ").concat(A,"ms\n"))}return t.join("")}},e.PDFDateString=class{static toDateObject(t){if(!t||"string"!==typeof t)return null;f||(f=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=f.exec(t);if(!e)return null;const n=parseInt(e[1],10);let A=parseInt(e[2],10);A=A>=1&&A<=12?A-1:0;let i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;let a=parseInt(e[6],10);a=a>=0&&a<=59?a:0;const o=e[7]||"Z";let l=parseInt(e[8],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[9],10)||0;return c=c>=0&&c<=59?c:0,"-"===o?(r+=l,s+=c):"+"===o&&(r-=l,s-=c),new Date(Date.UTC(n,A,i,r,s,a))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var A=n(1);class i{constructor(){this.constructor===i&&(0,A.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){(0,A.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=i;class r{constructor(t){let{baseUrl:e=null,isCompressed:n=!1}=t;this.constructor===r&&(0,A.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?A.CMapCompressionType.BINARY:A.CMapCompressionType.NONE;return this._fetchData(n,i).catch(t=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))})}_fetchData(t,e){(0,A.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=r;class s{constructor(t){let{baseUrl:e=null}=t;this.constructor===s&&(0,A.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetchData(n).catch(t=>{throw new Error("Unable to load font data at: ".concat(n))})}_fetchData(t){(0,A.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=s;class a{constructor(){this.constructor===a&&(0,A.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const A=this._createSVG("svg:svg");return A.setAttribute("version","1.1"),n||(A.setAttribute("width","".concat(t,"px")),A.setAttribute("height","".concat(e,"px"))),A.setAttribute("preserveAspectRatio","none"),A.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),A}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,A.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=a},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var A=n(1);const i=3285377520,r=4294901760,s=65535;e.MurmurHash3_64=class{constructor(t){this.h1=t?4294967295&t:i,this.h2=t?4294967295&t:i}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let A=0,i=t.length;A<i;A++){const i=t.charCodeAt(A);i<=255?e[n++]=i:(e[n++]=i>>>8,e[n++]=255&i)}}else{if(!(0,A.isArrayBuffer)(t))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");e=t.slice(),n=e.byteLength}const i=n>>2,a=n-4*i,o=new Uint32Array(e.buffer,0,i);let l=0,c=0,h=this.h1,u=this.h2;const d=3432918353,p=461845907,g=11601,f=13715;for(let A=0;A<i;A++)1&A?(l=o[A],l=l*d&r|l*g&s,l=l<<15|l>>>17,l=l*p&r|l*f&s,h^=l,h=h<<13|h>>>19,h=5*h+3864292196):(c=o[A],c=c*d&r|c*g&s,c=c<<15|c>>>17,c=c*p&r|c*f&s,u^=c,u=u<<13|u>>>19,u=5*u+3864292196);switch(l=0,a){case 3:l^=e[4*i+2]<<16;case 2:l^=e[4*i+1]<<8;case 1:l^=e[4*i],l=l*d&r|l*g&s,l=l<<15|l>>>17,l=l*p&r|l*f&s,1&i?h^=l:u^=l}this.h1=h,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;t^=e>>>1,t=3981806797*t&r|36045*t&s,e=4283543511*e&r|(2950163797*(e<<16|t>>>16)&r)>>>16,t^=e>>>1,t=444984403*t&r|60499*t&s,e=3301882366*e&r|(3120437893*(e<<16|t>>>16)&r)>>>16,t^=e>>>1;const n=(t>>>0).toString(16),A=(e>>>0).toString(16);return n.padStart(8,"0")+A.padStart(8,"0")}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var A=n(1);class i{constructor(t){let{docId:e,onUnsupportedFeature:n,ownerDocument:r=globalThis.document,styleElement:s=null}=t;this.constructor===i&&(0,A.unreachable)("Cannot initialize BaseFontLoader."),this.docId=e,this._onUnsupportedFeature=n,this._document=r,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}insertRule(t){let e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].append(e));const n=e.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(t){if(t.attached||t.missingFile)return;if(t.attached=!0,this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw this._onUnsupportedFeature({featureId:A.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,A.warn)("Failed to load font '".concat(e.family,"': '").concat(n,"'.")),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const A=this._queueLoadingCallback(n);this._prepareFontLoadEvent([e],[t],A)})}}_queueLoadingCallback(t){(0,A.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var t;const e=!(null===(t=this._document)||void 0===t||!t.fonts);return(0,A.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){(0,A.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,A.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(t,e,n){(0,A.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let r;e.FontLoader=r,e.FontLoader=r=class extends i{constructor(t){super(t),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let t=!1;if("undefined"===typeof navigator)t=!0;else{const e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null===e||void 0===e?void 0:e[1])>=14&&(t=!0)}return(0,A.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const e=this.loadingContext,n={id:"pdfjs-font-loading-".concat(e.nextRequestId++),done:!1,complete:function(){for((0,A.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.requests.length>0&&e.requests[0].done;){const t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(n),n}get _loadTestFont(){return(0,A.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e,n){function i(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function r(t,e,n,A){return t.substring(0,e)+A+t.substring(e+n)}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;const h="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=r(u,976,h.length,h);const d=1482184792;let p=i(u,16);for(s=0,a=h.length-3;s<a;s+=4)p=p-d+i(h,s)|0;s<h.length&&(p=p-d+i(h+"XXX",s)|0),u=r(u,16,4,(0,A.string32)(p));const g="url(data:font/opentype;base64,".concat(btoa(u),");"),f='@font-face {font-family:"'.concat(h,'";src:').concat(g,"}");this.insertRule(f);const m=[];for(const A of e)m.push(A.loadedName);m.push(h);const v=this._document.createElement("div");v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px";for(const A of m){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=A,v.append(t)}this._document.body.append(v),function t(e,n){if(c++,c>30)return(0,A.warn)("Load test font never loaded."),void n();l.font="30px "+e,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(h,()=>{v.remove(),n.complete()})}},e.FontFaceObject=class{constructor(t,e){let{isEvalSupported:n=!0,disableFontFace:A=!1,ignoreErrors:i=!1,onUnsupportedFeature:r,fontRegistry:s=null}=e;this.compiledGlyphs=Object.create(null);for(const a in t)this[a]=t[a];this.isEvalSupported=!1!==n,this.disableFontFace=!0===A,this.ignoreErrors=!0===i,this._onUnsupportedFeature=r,this.fontRegistry=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=(0,A.bytesToString)(this.data),e="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");let n;if(this.cssFontInfo){let t="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(t+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(t,"src:").concat(e,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(e,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(i){if(!this.ignoreErrors)throw i;return this._onUnsupportedFeature({featureId:A.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,A.warn)('getPathGenerator - ignoring character: "'.concat(i,'".')),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&A.FeatureTest.isEvalSupported){const t=[];for(const e of n){const n=void 0!==e.args?e.args.join(","):"";t.push("c.",e.cmd,"(",n,");\n")}return this.compiledGlyphs[e]=new Function("c","size",t.join(""))}return this.compiledGlyphs[e]=function(t,e){for(const A of n)"scale"===A.cmd&&(A.args=[e,-e]),t[A.cmd].apply(t,A.args)}}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var A=n(8),i=n(1),r=n(13),s=n(14),a=n(3);const o=4096,l=a.isNodeJS&&"undefined"===typeof Path2D?-1:1e3,c=16;class h{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let A;return void 0!==this.cache[t]?(A=this.cache[t],this.canvasFactory.reset(A,e,n)):(A=this.canvasFactory.create(e,n),this.cache[t]=A),A}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function u(t,e,n,i,r,s,a,o,l,c){const[h,u,d,p,g,f]=(0,A.getCurrentTransform)(t);if(0===u&&0===d){const A=a*h+g,m=Math.round(A),v=o*p+f,w=Math.round(v),B=(a+l)*h+g,y=Math.abs(Math.round(B)-m)||1,b=(o+c)*p+f,C=Math.abs(Math.round(b)-w)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(p),m,w),t.drawImage(e,n,i,r,s,0,0,y,C),t.setTransform(h,u,d,p,g,f),[y,C]}if(0===h&&0===p){const A=o*d+g,m=Math.round(A),v=a*u+f,w=Math.round(v),B=(o+c)*d+g,y=Math.abs(Math.round(B)-m)||1,b=(a+l)*u+f,C=Math.abs(Math.round(b)-w)||1;return t.setTransform(0,Math.sign(u),Math.sign(d),0,m,w),t.drawImage(e,n,i,r,s,0,0,C,y),t.setTransform(h,u,d,p,g,f),[C,y]}return t.drawImage(e,n,i,r,s,a,o,l,c),[Math.hypot(h,u)*l,Math.hypot(d,p)*c]}class d{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=i.Util.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=i.Util.applyTransform(e,t),A=i.Util.applyTransform(e.slice(2),t);this.minX=Math.min(this.minX,n[0],A[0]),this.minY=Math.min(this.minY,n[1],A[1]),this.maxX=Math.max(this.maxX,n[0],A[0]),this.maxY=Math.max(this.maxY,n[1],A[1])}updateScalingPathMinMax(t,e){i.Util.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,A,r,s,a,o,l,c){const h=i.Util.bezierBoundingBox(e,n,A,r,s,a,o,l);if(c)return c[0]=Math.min(c[0],h[0],h[2]),c[1]=Math.max(c[1],h[0],h[2]),c[2]=Math.min(c[2],h[1],h[3]),void(c[3]=Math.max(c[3],h[1],h[3]));this.updateRectMinMax(t,h)}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.PathType.FILL,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===r.PathType.STROKE){e||(0,i.unreachable)("Stroke bounding box must include transform.");const t=i.Util.singularValueDecompose2dScale(e),A=t[0]*this.lineWidth/2,r=t[1]*this.lineWidth/2;n[0]-=A,n[1]-=r,n[2]+=A,n[3]+=r}return n}updateClipFromPath(){const t=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.PathType.FILL,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Util.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function p(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!==typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);const A=e.height,r=e.width,s=A%c,a=(A-s)/c,o=0===s?a:a+1,l=t.createImageData(r,c);let h,u=0;const d=e.data,p=l.data;let g,f,m,v,w,B,y,b;if(n)switch(n.length){case 1:w=n[0],B=n[0],y=n[0],b=n[0];break;case 4:w=n[0],B=n[1],y=n[2],b=n[3]}if(e.kind===i.ImageKind.GRAYSCALE_1BPP){const e=d.byteLength,n=new Uint32Array(p.buffer,0,p.byteLength>>2),A=n.length,v=r+7>>3;let w=4294967295,B=i.FeatureTest.isLittleEndian?4278190080:255;for(b&&255===b[0]&&0===b[255]&&([w,B]=[B,w]),g=0;g<o;g++){for(m=g<a?c:s,h=0,f=0;f<m;f++){const t=e-u;let A=0;const i=t>v?r:8*t-7,s=-8&i;let a=0,o=0;for(;A<s;A+=8)o=d[u++],n[h++]=128&o?w:B,n[h++]=64&o?w:B,n[h++]=32&o?w:B,n[h++]=16&o?w:B,n[h++]=8&o?w:B,n[h++]=4&o?w:B,n[h++]=2&o?w:B,n[h++]=1&o?w:B;for(;A<i;A++)0===a&&(o=d[u++],a=128),n[h++]=o&a?w:B,a>>=1}for(;h<A;)n[h++]=0;t.putImageData(l,0,g*c)}}else if(e.kind===i.ImageKind.RGBA_32BPP){const e=!!(w||B||y);for(f=0,v=r*c*4,g=0;g<a;g++){if(p.set(d.subarray(u,u+v)),u+=v,e)for(let t=0;t<v;t+=4)w&&(p[t+0]=w[p[t+0]]),B&&(p[t+1]=B[p[t+1]]),y&&(p[t+2]=y[p[t+2]]);t.putImageData(l,0,f),f+=c}if(g<o){if(v=r*s*4,p.set(d.subarray(u,u+v)),e)for(let t=0;t<v;t+=4)w&&(p[t+0]=w[p[t+0]]),B&&(p[t+1]=B[p[t+1]]),y&&(p[t+2]=y[p[t+2]]);t.putImageData(l,0,f)}}else{if(e.kind!==i.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));{const e=!!(w||B||y);for(m=c,v=r*m,g=0;g<o;g++){for(g>=a&&(m=s,v=r*m),h=0,f=v;f--;)p[h++]=d[u++],p[h++]=d[u++],p[h++]=d[u++],p[h++]=255;if(e)for(let t=0;t<h;t+=4)w&&(p[t+0]=w[p[t+0]]),B&&(p[t+1]=B[p[t+1]]),y&&(p[t+2]=y[p[t+2]]);t.putImageData(l,0,g*c)}}}}function g(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,A=e.width,i=n%c,r=(n-i)/c,a=0===i?r:r+1,o=t.createImageData(A,c);let l=0;const h=e.data,u=o.data;for(let d=0;d<a;d++){const e=d<r?c:i;({srcPos:l}=(0,s.applyMaskImageData)({src:h,srcPos:l,dest:u,width:A,height:e})),t.putImageData(o,0,d*c)}}function f(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let A=0,i=n.length;A<i;A++){const i=n[A];void 0!==t[i]&&(e[i]=t[i])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function m(t,e){t.strokeStyle=t.fillStyle=e||"#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function v(t,e,n,A){const i=t.length;for(let r=3;r<i;r+=4){const i=t[r];if(0===i)t[r-3]=e,t[r-2]=n,t[r-1]=A;else if(i<255){const s=255-i;t[r-3]=t[r-3]*i+e*s>>8,t[r-2]=t[r-2]*i+n*s>>8,t[r-1]=t[r-1]*i+A*s>>8}}}function w(t,e,n){const A=t.length,i=1/255;for(let r=3;r<A;r+=4){const A=n?n[t[r]]:t[r];e[r]=e[r]*A*i|0}}function B(t,e,n){const A=t.length;for(let i=3;i<A;i+=4){const A=77*t[i-3]+152*t[i-2]+28*t[i-1];e[i]=n?e[i]*n[A>>8]>>8:e[i]*A>>16}}function y(t,e,n,A){const i=A[0],r=A[1],s=A[2]-i,a=A[3]-r;0!==s&&0!==a&&(function(t,e,n,A,i,r,s,a,o,l,c){const h=!!r,u=h?r[0]:0,d=h?r[1]:0,p=h?r[2]:0;let g;g="Luminosity"===i?B:w;const f=Math.min(A,Math.ceil(1048576/n));for(let m=0;m<A;m+=f){const i=Math.min(f,A-m),r=t.getImageData(a-l,m+(o-c),n,i),w=e.getImageData(a,m+o,n,i);h&&v(r.data,u,d,p),g(r.data,w.data,s),e.putImageData(w,a,m+o)}}(e.context,n,s,a,e.subtype,e.backdrop,e.transferMap,i,r,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}function b(t,e){const n=i.Util.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*A.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:n[0]<=r||n[1]<=r}const C=["butt","round","square"],_=["miter","round","bevel"],F={},E={};var x=new WeakSet;class S{constructor(t,e,n,A,i,r,s,a){_classPrivateMethodInitSpec(this,x),this.ctx=t,this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=A,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=r,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null===a||void 0===a?void 0:a.background)||null,this.foregroundColor=(null===a||void 0===a?void 0:a.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing(t){let{transform:e,viewport:n,transparency:i=!1,background:r=null}=t;const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=r||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const t=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const e=this.backgroundColor=this.ctx.fillStyle;let n=!0,i=o;if(this.ctx.fillStyle=o,i=this.ctx.fillStyle,n="string"===typeof i&&/^#[0-9A-Fa-f]{6}$/.test(i),"#000000"===t&&"#ffffff"===e||t===e||!n)this.foregroundColor=this.backgroundColor=null;else{const[n,r,s]=(0,A.getRGB)(i),a=t=>(t/=255)<=.03928?t/12.92:((t+.055)/1.055)**2.4,o=Math.round(.2126*a(n)+.7152*a(r)+.0722*a(s));this.selectColor=(n,A,i)=>{const r=.2126*a(n)+.7152*a(A)+.0722*a(i);return Math.round(r)===o?e:t}}}if(this.ctx.fillStyle=this.backgroundColor||o,this.ctx.fillRect(0,0,s,a),this.ctx.restore(),i){const t=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...(0,A.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),m(this.ctx,this.foregroundColor),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,A.getCurrentTransform)(this.ctx),this.imageLayer&&((0,A.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(t,e,n,A){const r=t.argsArray,s=t.fnArray;let a=e||0;const o=r.length;if(o===a)return a;const l=o-a>10&&"function"===typeof n,c=l?Date.now()+15:0;let h=0;const u=this.commonObjs,d=this.objs;let p;for(;;){if(void 0!==A&&a===A.nextBreakPoint)return A.breakIt(a,n),a;if(p=s[a],p!==i.OPS.dependency)this[p].apply(this,r[a]);else for(const t of r[a]){const e=t.startsWith("g_")?u:d;if(!e.has(t))return e.get(t,n),a}if(a++,a===o)return a;if(l&&++h>10){if(Date.now()>c)return n(),a;h=0}}}endDrawing(){_assertClassBrand(x,this,k).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(t,e){const n=t.width,A=t.height;let i,r,s=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),o=n,l=A,c="prescale1";for(;s>2&&o>1||a>2&&l>1;){let e=o,n=l;s>2&&o>1&&(e=Math.ceil(o/2),s/=o/e),a>2&&l>1&&(n=Math.ceil(l/2),a/=l/n),i=this.cachedCanvases.getCanvas(c,e,n),r=i.context,r.clearRect(0,0,e,n),r.drawImage(t,0,0,o,l,0,0,e,n),t=i.canvas,o=e,l=n,c="prescale1"===c?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=(0,A.getCurrentTransform)(e);let c,h,d,p;if((t.bitmap||t.data)&&t.count>1){const e=t.bitmap||t.data.buffer,n=l.slice(0,4);h=JSON.stringify(o?n:[n,a]),c=this._cachedBitmapsMap.get(e),c||(c=new Map,this._cachedBitmapsMap.set(e,c));const A=c.get(h);if(A&&!o)return{canvas:A,offsetX:Math.round(Math.min(l[0],l[2])+l[4]),offsetY:Math.round(Math.min(l[1],l[3])+l[5])};d=A}d||(p=this.cachedCanvases.getCanvas("maskCanvas",n,s),g(p.context,t));let f=i.Util.transform(l,[1/n,0,0,-1/s,0,0]);f=i.Util.transform(f,[1,0,0,1,0,-s]);const m=i.Util.applyTransform([0,0],f),v=i.Util.applyTransform([n,s],f),w=i.Util.normalizeRect([m[0],m[1],v[0],v[1]]),B=Math.round(w[2]-w[0])||1,y=Math.round(w[3]-w[1])||1,C=this.cachedCanvases.getCanvas("fillCanvas",B,y),_=C.context,F=Math.min(m[0],v[0]),E=Math.min(m[1],v[1]);_.translate(-F,-E),_.transform(...f),d||(d=this._scaleImage(p.canvas,(0,A.getCurrentTransformInverse)(_)),d=d.img,c&&o&&c.set(h,d)),_.imageSmoothingEnabled=b((0,A.getCurrentTransform)(_),t.interpolate),u(_,d,0,0,d.width,d.height,0,0,n,s),_.globalCompositeOperation="source-in";const x=i.Util.transform((0,A.getCurrentTransformInverse)(_),[1,0,0,1,-F,-E]);return _.fillStyle=o?a.getPattern(e,this,x,r.PathType.FILL):a,_.fillRect(0,0,n,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,C.canvas)),{canvas:C.canvas,offsetX:Math.round(F),offsetY:Math.round(E)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=C[t]}setLineJoin(t){this.ctx.lineJoin=_[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(let e=0,n=t.length;e<n;e++){const n=t[e],A=n[0],i=n[1];switch(A){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=i}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...(0,A.getCurrentTransform)(this.suspendedCtx)),f(this.suspendedCtx,r),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,A,i,r,s){e.transform(t,n,A,i,r,s),this.__originalTransform(t,n,A,i,r,s)},t.setTransform=function(t,n,A,i,r,s){e.setTransform(t,n,A,i,r,s),this.__originalSetTransform(t,n,A,i,r,s)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,A,i,r,s){e.bezierCurveTo(t,n,A,i,r,s),this.__originalBezierCurveTo(t,n,A,i,r,s)},t.rect=function(t,n,A,i){e.rect(t,n,A,i),this.__originalRect(t,n,A,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),f(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask;y(this.suspendedCtx,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(f(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),f(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,A,i,r){this.ctx.transform(t,e,n,A,i,r),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const r=this.ctx,s=this.current;let a,o,l=s.x,c=s.y;const h=(0,A.getCurrentTransform)(r),u=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],d=u?n.slice(0):null;for(let A=0,p=0,g=t.length;A<g;A++)switch(0|t[A]){case i.OPS.rectangle:l=e[p++],c=e[p++];const t=e[p++],n=e[p++],A=l+t,g=c+n;r.moveTo(l,c),0===t||0===n?r.lineTo(A,g):(r.lineTo(A,c),r.lineTo(A,g),r.lineTo(l,g)),u||s.updateRectMinMax(h,[l,c,A,g]),r.closePath();break;case i.OPS.moveTo:l=e[p++],c=e[p++],r.moveTo(l,c),u||s.updatePathMinMax(h,l,c);break;case i.OPS.lineTo:l=e[p++],c=e[p++],r.lineTo(l,c),u||s.updatePathMinMax(h,l,c);break;case i.OPS.curveTo:a=l,o=c,l=e[p+4],c=e[p+5],r.bezierCurveTo(e[p],e[p+1],e[p+2],e[p+3],l,c),s.updateCurvePathMinMax(h,a,o,e[p],e[p+1],e[p+2],e[p+3],l,c,d),p+=6;break;case i.OPS.curveTo2:a=l,o=c,r.bezierCurveTo(l,c,e[p],e[p+1],e[p+2],e[p+3]),s.updateCurvePathMinMax(h,a,o,l,c,e[p],e[p+1],e[p+2],e[p+3],d),l=e[p+2],c=e[p+3],p+=4;break;case i.OPS.curveTo3:a=l,o=c,l=e[p+2],c=e[p+3],r.bezierCurveTo(e[p],e[p+1],l,c,l,c),s.updateCurvePathMinMax(h,a,o,e[p],e[p+1],l,c,l,c,d),p+=4;break;case i.OPS.closePath:r.closePath()}u&&s.updateScalingPathMinMax(h,d),s.setCurrentPoint(l,c)}closePath(){this.ctx.closePath()}stroke(t){t="undefined"===typeof t||t;const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,(0,A.getCurrentTransformInverse)(e),r.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t){t="undefined"===typeof t||t;const e=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,(0,A.getCurrentTransformInverse)(e),r.PathType.FILL),i=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),i&&e.restore(),t&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=F}eoClip(){this.pendingClip=E}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),A=this.current;if(!n)throw new Error("Can't find font for ".concat(t));if(A.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX,0!==A.fontMatrix[0]&&0!==A.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+t),e<0?(e=-e,A.fontDirection=-1):A.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const r=n.loadedName||"sans-serif";let s="normal";n.black?s="900":n.bold&&(s="bold");const a=n.italic?"italic":"normal",o='"'.concat(r,'", ').concat(n.fallbackName);let l=e;e<16?l=16:e>100&&(l=100),this.current.fontSizeScale=e/l,this.ctx.font="".concat(a," ").concat(s," ").concat(l,"px ").concat(o)}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,A,i,r){this.current.textMatrix=[t,e,n,A,i,r],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,r){const s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,h=l&i.TextRenderingMode.FILL_STROKE_MASK,u=!!(l&i.TextRenderingMode.ADD_TO_PATH_FLAG),d=a.patternFill&&!o.missingFile;let p;(o.disableFontFace||u||d)&&(p=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace||d?(s.save(),s.translate(e,n),s.beginPath(),p(s,c),r&&s.setTransform(...r),h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||s.fill(),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||s.fillText(t,e,n),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||s.strokeText(t,e,n)),u&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,A.getCurrentTransform)(s),x:e,y:n,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let A=3;A<e.length;A+=4)if(e[A]>0&&e[A]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(0===s)return;const a=this.ctx,o=e.fontSizeScale,l=e.charSpacing,c=e.wordSpacing,h=e.fontDirection,u=e.textHScale*h,d=t.length,p=n.vertical,g=p?1:-1,f=n.defaultVMetrics,m=s*e.fontMatrix[0],v=e.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;let w;if(a.save(),a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),h>0?a.scale(u,-1):a.scale(u,1),e.patternFill){a.save();const t=e.fillColor.getPattern(a,this,(0,A.getCurrentTransformInverse)(a),r.PathType.FILL);w=(0,A.getCurrentTransform)(a),a.restore(),a.fillStyle=t}let B=e.lineWidth;const y=e.textMatrixScale;if(0===y||0===B){const t=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;t!==i.TextRenderingMode.STROKE&&t!==i.TextRenderingMode.FILL_STROKE||(B=this.getSinglePixelWidth())}else B/=y;1!==o&&(a.scale(o,o),B/=o),a.lineWidth=B;let b,C=0;for(b=0;b<d;++b){const e=t[b];if("number"===typeof e){C+=g*e*s/1e3;continue}let A=!1;const i=(e.isSpace?c:0)+l,r=e.fontChar,u=e.accent;let d,B,y,_=e.width;if(p){const t=e.vmetric||f,n=-(e.vmetric?t[1]:.5*_)*m,A=t[2]*m;_=t?-t[0]:_,d=n/o,B=(C+A)/o}else d=C/o,B=0;if(n.remeasure&&_>0){const t=1e3*a.measureText(r).width/s*o;if(_<t&&this.isFontSubpixelAAEnabled){const e=_/t;A=!0,a.save(),a.scale(e,1),d/=e}else _!==t&&(d+=(_-t)/2e3*s/o)}if(this.contentVisible&&(e.isInFont||n.missingFile))if(v&&!u)a.fillText(r,d,B);else if(this.paintChar(r,d,B,w),u){const t=d+s*u.offset.x/o,e=B-s*u.offset.y/o;this.paintChar(u.fontChar,t,e,w)}y=p?_*m-i*h:_*m+i*h,C+=y,A&&a.restore()}p?e.y-=C:e.x+=C*u,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,A=n.font,r=n.fontSize,s=n.fontDirection,a=A.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*s,h=n.fontMatrix||i.FONT_IDENTITY_MATRIX,u=t.length;let d,p,g,f;if(n.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==r){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(c,s),d=0;d<u;++d){if(p=t[d],"number"===typeof p){f=a*p*r/1e3,this.ctx.translate(f,0),n.x+=f*c;continue}const s=(p.isSpace?l:0)+o,u=A.charProcOperatorList[p.operatorListId];u?(this.contentVisible&&(this.processingType3=p,this.save(),e.scale(r,r),e.transform(...h),this.executeOperatorList(u),this.restore()),g=i.Util.applyTransform([p.width,0],h)[0]*r+s,e.translate(g,0),n.x+=g*c):(0,i.warn)('Type3 character "'.concat(p.operatorListId,'" is not available.'))}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,A,i,r){this.ctx.rect(n,A,i-n,r-A),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if("TilingPattern"===t[0]){const n=t[1],i=this.baseTransform||(0,A.getCurrentTransform)(this.ctx),s={createCanvasGraphics:t=>new S(t,this.commonObjs,this.objs,this.canvasFactory)};e=new r.TilingPattern(t,n,this.ctx,s,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){var A;const r=(null===(A=this.selectColor)||void 0===A?void 0:A.call(this,t,e,n))||i.Util.makeHexColor(t,e,n);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(t,e,n){var A;const r=(null===(A=this.selectColor)||void 0===A?void 0:A.call(this,t,e,n))||i.Util.makeHexColor(t,e,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=(0,r.getShadingPattern)(this.objs.get(t)),this.cachedPatterns.set(t,e)),n&&(e.matrix=n),e}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,(0,A.getCurrentTransformInverse)(e),r.PathType.SHADING);const s=(0,A.getCurrentTransformInverse)(e);if(s){const t=e.canvas,n=t.width,A=t.height,r=i.Util.applyTransform([0,0],s),a=i.Util.applyTransform([0,A],s),o=i.Util.applyTransform([n,0],s),l=i.Util.applyTransform([n,A],s),c=Math.min(r[0],a[0],o[0],l[0]),h=Math.min(r[1],a[1],o[1],l[1]),u=Math.max(r[0],a[0],o[0],l[0]),d=Math.max(r[1],a[1],o[1],l[1]);this.ctx.fillRect(c,h,u-c,d-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform(...t),this.baseTransform=(0,A.getCurrentTransform)(this.ctx),e)){const t=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],t,n),this.current.updateRectMinMax((0,A.getCurrentTransform)(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||(0,i.info)("TODO: Support non-isolated groups."),t.knockout&&(0,i.warn)("Knockout groups not supported.");const n=(0,A.getCurrentTransform)(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=i.Util.getAxialAlignedBoundingBox(t.bbox,(0,A.getCurrentTransform)(e));const s=[0,0,e.canvas.width,e.canvas.height];r=i.Util.intersect(r,s)||[0,0,0,0];const a=Math.floor(r[0]),l=Math.floor(r[1]);let c=Math.max(Math.ceil(r[2])-a,1),h=Math.max(Math.ceil(r[3])-l,1),u=1,d=1;c>o&&(u=c/o,c=o),h>o&&(d=h/o,h=o),this.current.startNewPathAndClipBox([0,0,c,h]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,c,h),m=g.context;m.scale(1/u,1/d),m.translate(-a,-l),m.transform(...n),t.smask?this.smaskStack.push({canvas:g.canvas,context:m,offsetX:a,offsetY:l,scaleX:u,scaleY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,l),e.scale(u,d),e.save()),f(e,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const t=(0,A.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...t);const n=i.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],t);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,r,s){if(_assertClassBrand(x,this,k).call(this),m(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(e)&&4===e.length){const r=e[2]-e[0],a=e[3]-e[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=e[0],n[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=r,e[3]=a;const[s,o]=i.Util.singularValueDecompose2dScale((0,A.getCurrentTransform)(this.ctx)),{viewportScale:l}=this,c=Math.ceil(r*this.outputScaleX*l),h=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,h);const{canvas:u,context:d}=this.annotationCanvas;this.annotationCanvasMap.set(t,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=d,this.ctx.setTransform(s,0,0,-o,0,a*o),m(this.ctx,this.foregroundColor)}else m(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],r,a),this.ctx.clip(),this.endPath()}this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;(t=this.getObject(t.data,t)).count=e;const n=this.ctx,A=this.processingType3;if(A&&(void 0===A.compiled&&(A.compiled=function(t){const{width:e,height:n}=t;if(e>l||n>l)return null;const A=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let r,s,a,o=new Uint8Array(i*(n+1));const c=e+7&-8;let h=new Uint8Array(c*n),u=0;for(const l of t.data){let t=128;for(;t>0;)h[u++]=l&t?0:255,t>>=1}let d=0;for(u=0,0!==h[u]&&(o[0]=1,++d),s=1;s<e;s++)h[u]!==h[u+1]&&(o[s]=h[u]?2:1,++d),u++;for(0!==h[u]&&(o[s]=2,++d),r=1;r<n;r++){u=r*c,a=r*i,h[u-c]!==h[u]&&(o[a]=h[u]?1:8,++d);let t=(h[u]?4:0)+(h[u-c]?8:0);for(s=1;s<e;s++)t=(t>>2)+(h[u+1]?4:0)+(h[u-c+1]?8:0),A[t]&&(o[a+s]=A[t],++d),u++;if(h[u-c]!==h[u]&&(o[a+s]=h[u]?2:4,++d),d>1e3)return null}for(u=c*(n-1),a=r*i,0!==h[u]&&(o[a]=8,++d),s=1;s<e;s++)h[u]!==h[u+1]&&(o[a+s]=h[u]?4:8,++d),u++;if(0!==h[u]&&(o[a+s]=4,++d),d>1e3)return null;const p=new Int32Array([0,i,-1,0,-i,0,0,0,1]),g=new Path2D;for(r=0;d&&r<=n;r++){let t=r*i;const n=t+e;for(;t<n&&!o[t];)t++;if(t===n)continue;g.moveTo(t%i,r);const A=t;let s=o[t];do{const e=p[s];do{t+=e}while(!o[t]);const n=o[t];5!==n&&10!==n?(s=n,o[t]=0):(s=n&51*s>>4,o[t]&=s>>2|s<<2),g.lineTo(t%i,t/i|0),o[t]||--d}while(A!==t);--r}return h=null,o=null,function(t){t.save(),t.scale(1/e,-1/n),t.translate(0,-n),t.fill(g),t.beginPath(),t.restore()}}(t)),A.compiled))return void A.compiled(n);const i=this._createMaskCanvas(t),r=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(r,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const l=(0,A.getCurrentTransform)(o);o.transform(e,n,r,s,0,0);const c=this._createMaskCanvas(t);o.setTransform(1,0,0,1,0,0);for(let A=0,h=a.length;A<h;A+=2){const t=i.Util.transform(l,[e,n,r,s,a[A],a[A+1]]),[h,u]=i.Util.applyTransform([0,0],t);o.drawImage(c.canvas,h,u)}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of t){const{data:t,width:a,height:o,transform:l}=s,c=this.cachedCanvases.getCanvas("maskCanvas",a,o),h=c.context;h.save(),g(h,this.getObject(t,s)),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this,(0,A.getCurrentTransformInverse)(e),r.PathType.FILL):n,h.fillRect(0,0,a,o),h.restore(),e.save(),e.transform(...l),e.scale(1,-1),u(e,c.canvas,0,0,a,o,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,A){if(!this.contentVisible)return;const r=this.getObject(t);if(!r)return void(0,i.warn)("Dependent image isn't ready yet");const s=r.width,a=r.height,o=[];for(let i=0,l=A.length;i<l;i+=2)o.push({transform:[e,0,0,n,A[i],A[i+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(r,o)}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;let s;if(this.save(),r.scale(1/e,-1/n),"function"===typeof HTMLElement&&t instanceof HTMLElement||!t.data)s=t;else{const A=this.cachedCanvases.getCanvas("inlineImage",e,n);p(A.context,t,this.current.transferMaps),s=A.canvas}const a=this._scaleImage(s,(0,A.getCurrentTransformInverse)(r));r.imageSmoothingEnabled=b((0,A.getCurrentTransform)(r),t.interpolate);const[o,l]=u(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,e,n);if(this.imageLayer){const[e,r]=i.Util.applyTransform([0,-n],(0,A.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:t,left:e,top:r,width:o,height:l})}this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,r=t.width,s=t.height,a=this.cachedCanvases.getCanvas("inlineImage",r,s);p(a.context,t,this.current.transferMaps);for(const o of e){if(n.save(),n.transform(...o.transform),n.scale(1,-1),u(n,a.canvas,o.x,o.y,o.w,o.h,0,-1,1,1),this.imageLayer){const[e,n]=i.Util.applyTransform([o.x,o.y],(0,A.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:t,left:e,top:n,width:r,height:s})}n.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===E?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=(0,A.getCurrentTransform)(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),A=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,A)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:t}=this.current,e=(0,A.getCurrentTransform)(this.ctx);let n,i;if(0===e[1]&&0===e[2]){const A=Math.abs(e[0]),r=Math.abs(e[3]);if(0===t)n=1/A,i=1/r;else{const e=A*t,s=r*t;n=e<1?1/e:1,i=s<1?1/s:1}}else{const A=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[1]),s=Math.hypot(e[2],e[3]);if(0===t)n=s/A,i=r/A;else{const e=t*A;n=s>e?s/e:1,i=r>e?r/e:1}}this._cachedScaleForStroking=[n,i]}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[i,r]=this.getScaleForStroking();if(e.lineWidth=n||1,1===i&&1===r)return void e.stroke();let s,a,o;t&&(s=(0,A.getCurrentTransform)(e),a=e.getLineDash().slice(),o=e.lineDashOffset),e.scale(i,r);const l=Math.max(i,r);e.setLineDash(e.getLineDash().map(t=>t/l)),e.lineDashOffset/=l,e.stroke(),t&&(e.setTransform(...s),e.setLineDash(a),e.lineDashOffset=o)}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}function k(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}e.CanvasGraphics=S;for(const U in i.OPS)void 0!==S.prototype[U]&&(S.prototype[i.OPS[U]]=S.prototype[U])},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=function(t){switch(t[0]){case"RadialAxial":return new l(t);case"Mesh":return new u(t);case"Dummy":return new d}throw new Error("Unknown IR type: ".concat(t[0]))};var A=n(1),i=n(8),r=n(3);const s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function a(t,e){if(!e||r.isNodeJS)return;const n=e[2]-e[0],A=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,A),t.clip(i)}e.PathType=s;class o{constructor(){this.constructor===o&&(0,A.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,A.unreachable)("Abstract method `getPattern` called.")}}class l extends o{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let o;if(r===s.STROKE||r===s.FILL){const s=e.current.getClippedPathBoundingBox(r,(0,i.getCurrentTransform)(t))||[0,0,0,0],c=Math.ceil(s[2]-s[0])||1,h=Math.ceil(s[3]-s[1])||1,u=e.cachedCanvases.getCanvas("pattern",c,h,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-s[0],-s[1]),n=A.Util.transform(n,[1,0,0,1,s[0],s[1]]),d.transform(...e.baseTransform),this.matrix&&d.transform(...this.matrix),a(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),o=t.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(n);try{o.setTransform(p)}catch(l){(0,A.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null===l||void 0===l?void 0:l.message,'".'))}}else a(t,this._bbox),o=this._createGradient(t);return o}}function c(t,e,n,A,i,r,s,a){const o=e.coords,l=e.colors,c=t.data,h=4*t.width;let u;o[n+1]>o[A+1]&&(u=n,n=A,A=u,u=r,r=s,s=u),o[A+1]>o[i+1]&&(u=A,A=i,i=u,u=s,s=a,a=u),o[n+1]>o[A+1]&&(u=n,n=A,A=u,u=r,r=s,s=u);const d=(o[n]+e.offsetX)*e.scaleX,p=(o[n+1]+e.offsetY)*e.scaleY,g=(o[A]+e.offsetX)*e.scaleX,f=(o[A+1]+e.offsetY)*e.scaleY,m=(o[i]+e.offsetX)*e.scaleX,v=(o[i+1]+e.offsetY)*e.scaleY;if(p>=v)return;const w=l[r],B=l[r+1],y=l[r+2],b=l[s],C=l[s+1],_=l[s+2],F=l[a],E=l[a+1],x=l[a+2],S=Math.round(p),k=Math.round(v);let U,Q,P,M,I,T,D,L;for(let R=S;R<=k;R++){if(R<f){let t;t=R<p?0:(p-R)/(p-f),U=d-(d-g)*t,Q=w-(w-b)*t,P=B-(B-C)*t,M=y-(y-_)*t}else{let t;t=R>v?1:f===v?0:(f-R)/(f-v),U=g-(g-m)*t,Q=b-(b-F)*t,P=C-(C-E)*t,M=_-(_-x)*t}let t;t=R<p?0:R>v?1:(p-R)/(p-v),I=d-(d-m)*t,T=w-(w-F)*t,D=B-(B-E)*t,L=y-(y-x)*t;const e=Math.round(Math.min(U,I)),n=Math.round(Math.max(U,I));let A=h*R+4*e;for(let i=e;i<=n;i++)t=(U-i)/(U-I),t<0?t=0:t>1&&(t=1),c[A++]=Q-(Q-T)*t|0,c[A++]=P-(P-D)*t|0,c[A++]=M-(M-L)*t|0,c[A++]=255}}function h(t,e,n){const A=e.coords,i=e.colors;let r,s;switch(e.type){case"lattice":const a=e.verticesPerRow,o=Math.floor(A.length/a)-1,l=a-1;for(r=0;r<o;r++){let e=r*a;for(let r=0;r<l;r++,e++)c(t,n,A[e],A[e+1],A[e+a],i[e],i[e+1],i[e+a]),c(t,n,A[e+a+1],A[e+1],A[e+a],i[e+a+1],i[e+1],i[e+a])}break;case"triangles":for(r=0,s=A.length;r<s;r+=3)c(t,n,A[r],A[r+1],A[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class u extends o{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const A=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),r=Math.ceil(this._bounds[2])-A,s=Math.ceil(this._bounds[3])-i,a=Math.min(Math.ceil(Math.abs(r*t[0]*1.1)),3e3),o=Math.min(Math.ceil(Math.abs(s*t[1]*1.1)),3e3),l=r/a,c=s/o,u={coords:this._coords,colors:this._colors,offsetX:-A,offsetY:-i,scaleX:1/l,scaleY:1/c},d=a+4,p=o+4,g=n.getCanvas("mesh",d,p,!1),f=g.context,m=f.createImageData(a,o);if(e){const t=m.data;for(let n=0,A=t.length;n<A;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const v of this._figures)h(m,v,u);return f.putImageData(m,2,2),{canvas:g.canvas,offsetX:A-2*l,offsetY:i-2*c,scaleX:l,scaleY:c}}getPattern(t,e,n,r){let o;if(a(t,this._bbox),r===s.SHADING)o=A.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(t));else if(o=A.Util.singularValueDecompose2dScale(e.baseTransform),this.matrix){const t=A.Util.singularValueDecompose2dScale(this.matrix);o=[o[0]*t[0],o[1]*t[1]]}const l=this._createMeshCanvas(o,r===s.SHADING?null:this._background,e.cachedCanvases);return r!==s.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class d extends o{getPattern(){return"hotpink"}}const p=1,g=2;class f{static get MAX_PATTERN_SIZE(){return(0,A.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(t,e,n,A,i){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=A,this.baseTransform=i}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,r=this.xstep,s=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,A.info)("TilingType: "+o);const h=n[0],u=n[1],d=n[2],p=n[3],g=A.Util.singularValueDecompose2dScale(this.matrix),f=A.Util.singularValueDecompose2dScale(this.baseTransform),m=[g[0]*f[0],g[1]*f[1]],v=this.getSizeAndScale(r,this.ctx.canvas.width,m[0]),w=this.getSizeAndScale(s,this.ctx.canvas.height,m[1]),B=t.cachedCanvases.getCanvas("pattern",v.size,w.size,!0),y=B.context,b=c.createCanvasGraphics(y);b.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(b,a,l);let C=h,_=u,F=d,E=p;return h<0&&(C=0,F+=Math.abs(h)),u<0&&(_=0,E+=Math.abs(u)),y.translate(-v.scale*C,-w.scale*_),b.transform(v.scale,0,0,w.scale,0,0),y.save(),this.clipBbox(b,C,_,F,E),b.baseTransform=(0,i.getCurrentTransform)(b.ctx),b.executeOperatorList(e),b.endDrawing(),{canvas:B.canvas,scaleX:v.scale,scaleY:w.scale,offsetX:C,offsetY:_}}getSizeAndScale(t,e,n){t=Math.abs(t);const A=Math.max(f.MAX_PATTERN_SIZE,e);let i=Math.ceil(t*n);return i>=A?i=A:n=i/t,{scale:n,size:i}}clipBbox(t,e,n,A,r){const s=A-e,a=r-n;t.ctx.rect(e,n,s,a),t.current.updateRectMinMax((0,i.getCurrentTransform)(t.ctx),[e,n,A,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,r=t.current;switch(e){case p:const t=this.ctx;i.fillStyle=t.fillStyle,i.strokeStyle=t.strokeStyle,r.fillColor=t.fillStyle,r.strokeColor=t.strokeStyle;break;case g:const s=A.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,r.fillColor=s,r.strokeColor=s;break;default:throw new A.FormatError("Unsupported paint type: ".concat(e))}}getPattern(t,e,n,i){let r=n;i!==s.SHADING&&(r=A.Util.transform(r,e.baseTransform),this.matrix&&(r=A.Util.transform(r,this.matrix)));const a=this.createPatternCanvas(e);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=t.createPattern(a.canvas,"repeat");try{l.setTransform(o)}catch(c){(0,A.warn)('TilingPattern.getPattern: "'.concat(null===c||void 0===c?void 0:c.message,'".'))}return l}}e.TilingPattern=f},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=function(t){let{src:e,srcPos:n=0,dest:i,destPos:r=0,width:s,height:a,inverseDecode:o=!1}=t;const l=A.FeatureTest.isLittleEndian?4278190080:255,[c,h]=o?[0,l]:[l,0],u=s>>3,d=7&s,p=e.length;i=new Uint32Array(i.buffer);for(let A=0;A<a;A++){for(const A=n+u;n<A;n++){const t=n<p?e[n]:255;i[r++]=128&t?h:c,i[r++]=64&t?h:c,i[r++]=32&t?h:c,i[r++]=16&t?h:c,i[r++]=8&t?h:c,i[r++]=4&t?h:c,i[r++]=2&t?h:c,i[r++]=1&t?h:c}if(0===d)continue;const t=n<p?e[n++]:255;for(let e=0;e<d;e++)i[r++]=t&1<<7-e?h:c}return{srcPos:n,destPos:r}};var A=n(1)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var A=n(1);const i=1,r=2,s=1,a=2,o=3,l=4,c=5,h=6,u=7,d=8;function p(t){switch(t instanceof Error||"object"===typeof t&&null!==t||(0,A.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new A.AbortException(t.message);case"MissingPDFException":return new A.MissingPDFException(t.message);case"PasswordException":return new A.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new A.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new A.UnknownErrorException(t.message,t.details);default:return new A.UnknownErrorException(t.message,t.toString())}}e.MessageHandler=class{constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this._processStreamMessage(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error("Cannot resolve callback ".concat(t));if(delete this.callbackCapabilities[t],e.callback===i)n.resolve(e.data);else{if(e.callback!==r)throw new Error("Unexpected callback case");n.reject(p(e.reason))}return}const A=this.actionHandler[e.action];if(!A)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){const t=this.sourceName,s=e.sourceName;return void new Promise(function(t){t(A(e.data))}).then(function(A){n.postMessage({sourceName:t,targetName:s,callback:i,callbackId:e.callbackId,data:A})},function(A){n.postMessage({sourceName:t,targetName:s,callback:r,callbackId:e.callbackId,reason:p(A)})})}e.streamId?this._createStreamSink(e):A(e.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,r=(0,A.createPromiseCapability)();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(s){r.reject(s)}return r.promise}sendWithStream(t,e,n,i){const r=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:n=>{const s=(0,A.createPromiseCapability)();return this.streamControllers[r]={controller:n,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:t,streamId:r,data:e,desiredSize:n.desiredSize},i),s.promise},pull:t=>{const e=(0,A.createPromiseCapability)();return this.streamControllers[r].pullCall=e,l.postMessage({sourceName:a,targetName:o,stream:h,streamId:r,desiredSize:t.desiredSize}),e.promise},cancel:t=>{(0,A.assert)(t instanceof Error,"cancel must have a valid reason");const e=(0,A.createPromiseCapability)();return this.streamControllers[r].cancelCall=e,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:s,streamId:r,reason:p(t)}),e.promise}},n)}_createStreamSink(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,s=this,a=this.actionHandler[t.action],h={enqueue(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=s,o>0&&this.desiredSize<=0&&(this.sinkCapability=(0,A.createPromiseCapability)(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:l,streamId:e,chunk:t},a)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:o,streamId:e}),delete s.streamSinks[e])},error(t){(0,A.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:c,streamId:e,reason:p(t)}))},sinkCapability:(0,A.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,new Promise(function(e){e(a(t.data,h))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:d,streamId:e,success:!0})},function(t){r.postMessage({sourceName:n,targetName:i,stream:d,streamId:e,reason:p(t)})})}_processStreamMessage(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,g=this.streamControllers[e],f=this.streamSinks[e];switch(t.stream){case d:t.success?g.startCall.resolve():g.startCall.reject(p(t.reason));break;case u:t.success?g.pullCall.resolve():g.pullCall.reject(p(t.reason));break;case h:if(!f){r.postMessage({sourceName:n,targetName:i,stream:u,streamId:e,success:!0});break}f.desiredSize<=0&&t.desiredSize>0&&f.sinkCapability.resolve(),f.desiredSize=t.desiredSize,new Promise(function(t){t(f.onPull&&f.onPull())}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:u,streamId:e,success:!0})},function(t){r.postMessage({sourceName:n,targetName:i,stream:u,streamId:e,reason:p(t)})});break;case l:if((0,A.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(t.chunk);break;case o:if((0,A.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),this._deleteStreamController(g,e);break;case c:(0,A.assert)(g,"error should have stream controller"),g.controller.error(p(t.reason)),this._deleteStreamController(g,e);break;case a:t.success?g.cancelCall.resolve():g.cancelCall.reject(p(t.reason)),this._deleteStreamController(g,e);break;case s:if(!f)break;new Promise(function(e){e(f.onCancel&&f.onCancel(p(t.reason)))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:a,streamId:e,success:!0})},function(t){r.postMessage({sourceName:n,targetName:i,stream:a,streamId:e,reason:p(t)})}),f.sinkCapability.reject(p(t.reason)),f.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t,e){await Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete this.streamControllers[e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var A=n(1),i=new WeakMap,r=new WeakMap;e.Metadata=class{constructor(t){let{parsedData:e,rawData:n}=t;_classPrivateFieldInitSpec(this,i,void 0),_classPrivateFieldInitSpec(this,r,void 0),_classPrivateFieldSet(i,this,e),_classPrivateFieldSet(r,this,n)}getRaw(){return _classPrivateFieldGet(r,this)}get(t){var e;return null!==(e=_classPrivateFieldGet(i,this).get(t))&&void 0!==e?e:null}getAll(){return(0,A.objectFromMap)(_classPrivateFieldGet(i,this))}has(t){return _classPrivateFieldGet(i,this).has(t)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var A=n(1);const i=Symbol("INTERNAL");var r=new WeakMap;class s{constructor(t,e){_classPrivateFieldInitSpec(this,r,!0),this.name=t,this.intent=e}get visible(){return _classPrivateFieldGet(r,this)}_setVisible(t,e){t!==i&&(0,A.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(r,this,e)}}var a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakSet;function u(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let r;if(Array.isArray(e))r=_assertClassBrand(h,this,u).call(this,e);else{if(!_classPrivateFieldGet(o,this).has(e))return(0,A.warn)("Optional content group not found: ".concat(e)),!0;r=_classPrivateFieldGet(o,this).get(e).visible}switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===n}e.OptionalContentConfig=class{constructor(t){if(_classPrivateMethodInitSpec(this,h),_classPrivateFieldInitSpec(this,a,!0),_classPrivateFieldInitSpec(this,o,new Map),_classPrivateFieldInitSpec(this,l,null),_classPrivateFieldInitSpec(this,c,null),this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,_classPrivateFieldSet(c,this,t.order);for(const e of t.groups)_classPrivateFieldGet(o,this).set(e.id,new s(e.name,e.intent));if("OFF"===t.baseState)for(const t of _classPrivateFieldGet(o,this).values())t._setVisible(i,!1);for(const e of t.on)_classPrivateFieldGet(o,this).get(e)._setVisible(i,!0);for(const e of t.off)_classPrivateFieldGet(o,this).get(e)._setVisible(i,!1);_classPrivateFieldSet(l,this,new Map);for(const[t,e]of _classPrivateFieldGet(o,this))_classPrivateFieldGet(l,this).set(t,e.visible)}}isVisible(t){if(0===_classPrivateFieldGet(o,this).size)return!0;if(!t)return(0,A.warn)("Optional content group not defined."),!0;if("OCG"===t.type)return _classPrivateFieldGet(o,this).has(t.id)?_classPrivateFieldGet(o,this).get(t.id).visible:((0,A.warn)("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return _assertClassBrand(h,this,u).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!_classPrivateFieldGet(o,this).has(e))return(0,A.warn)("Optional content group not found: ".concat(e)),!0;if(_classPrivateFieldGet(o,this).get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!_classPrivateFieldGet(o,this).has(e))return(0,A.warn)("Optional content group not found: ".concat(e)),!0;if(!_classPrivateFieldGet(o,this).get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!_classPrivateFieldGet(o,this).has(e))return(0,A.warn)("Optional content group not found: ".concat(e)),!0;if(!_classPrivateFieldGet(o,this).get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!_classPrivateFieldGet(o,this).has(e))return(0,A.warn)("Optional content group not found: ".concat(e)),!0;if(_classPrivateFieldGet(o,this).get(e).visible)return!1}return!0}return(0,A.warn)("Unknown optional content policy ".concat(t.policy,".")),!0}return(0,A.warn)("Unknown group type ".concat(t.type,".")),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classPrivateFieldGet(o,this).has(t)?(_classPrivateFieldGet(o,this).get(t)._setVisible(i,!!e),_classPrivateFieldSet(a,this,null)):(0,A.warn)("Optional content group not found: ".concat(t))}get hasInitialVisibility(){if(null!==_classPrivateFieldGet(a,this))return _classPrivateFieldGet(a,this);for(const[t,e]of _classPrivateFieldGet(o,this)){const n=_classPrivateFieldGet(l,this).get(t);if(e.visible!==n)return _classPrivateFieldSet(a,this,!1)}return _classPrivateFieldSet(a,this,!0)}getOrder(){return _classPrivateFieldGet(o,this).size?_classPrivateFieldGet(c,this)?_classPrivateFieldGet(c,this).slice():[..._classPrivateFieldGet(o,this).keys()]:null}getGroups(){return _classPrivateFieldGet(o,this).size>0?(0,A.objectFromMap)(_classPrivateFieldGet(o,this)):null}getGroup(t){return _classPrivateFieldGet(o,this).get(t)||null}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var A=n(1),i=n(8);e.PDFDataTransportStream=class{constructor(t,e){(0,A.assert)(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const n=t.initialData;if((null===n||void 0===n?void 0:n.length)>0){const t=new Uint8Array(n).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((t,e)=>{this._onReceiveData({begin:t,chunk:e})}),this._pdfDataRangeTransport.addProgressListener((t,e)=>{this._onProgress({loaded:t,total:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(t=>{this._onReceiveData({chunk:t})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{const n=this._rangeReaders.some(function(n){return n._begin===t.begin&&(n._enqueue(e),!0)});(0,A.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}_onProgress(t){if(void 0===t.total){const e=this._rangeReaders[0];null!==e&&void 0!==e&&e.onProgress&&e.onProgress({loaded:t.loaded})}else{const e=this._fullRequestReader;null!==e&&void 0!==e&&e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){(0,A.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new r(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new s(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}};class r{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=(0,i.isPdfFile)(A)?A:null,this._queuedChunks=e||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,A.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,A.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class n{static textContent(t){const e=[],A={items:e,styles:Object.create(null)};return function t(A){var i;if(!A)return;let r=null;const s=A.name;if("#text"===s)r=A.value;else{if(!n.shouldBuildText(s))return;null!==A&&void 0!==A&&null!==(i=A.attributes)&&void 0!==i&&i.textContent?r=A.attributes.textContent:A.value&&(r=A.value)}if(null!==r&&e.push({str:r}),A.children)for(const e of A.children)t(e)}(t),A}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}e.XfaText=n},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var A=n(9);const i=function(t){return new Promise((e,n)=>{__webpack_require__(851).readFile(t,(t,A)=>{!t&&A?e(new Uint8Array(A)):n(new Error(t))})})};class r extends A.BaseCanvasFactory{_createCanvas(t,e){return __webpack_require__(406).createCanvas(t,e)}}e.NodeCanvasFactory=r;class s extends A.BaseCMapReaderFactory{_fetchData(t,e){return i(t).then(t=>({cMapData:t,compressionType:e}))}}e.NodeCMapReaderFactory=s;class a extends A.BaseStandardFontDataFactory{_fetchData(t){return i(t)}}e.NodeStandardFontDataFactory=a},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var A=n(7),i=n(1),r=n(23),s=n(24),a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,g=new WeakSet;class f{constructor(t){_classPrivateMethodInitSpec(this,g),_classPrivateFieldInitSpec(this,a,void 0),_classPrivateFieldInitSpec(this,o,!1),_classPrivateFieldInitSpec(this,l,this.pointerup.bind(this)),_classPrivateFieldInitSpec(this,c,this.pointerdown.bind(this)),_classPrivateFieldInitSpec(this,h,new Map),_classPrivateFieldInitSpec(this,u,!1),_classPrivateFieldInitSpec(this,d,!1),_classPrivateFieldInitSpec(this,p,void 0),f._initialized||(f._initialized=!0,r.FreeTextEditor.initialize(t.l10n),s.InkEditor.initialize(t.l10n),t.uiManager.registerEditorTypes([r.FreeTextEditor,s.InkEditor])),_classPrivateFieldSet(p,this,t.uiManager),this.annotationStorage=t.annotationStorage,this.pageIndex=t.pageIndex,this.div=t.div,_classPrivateFieldSet(a,this,t.accessibilityManager),_classPrivateFieldGet(p,this).addLayer(this)}updateToolbar(t){_classPrivateFieldGet(p,this).updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_classPrivateFieldGet(p,this).getMode();_assertClassBrand(g,this,B).call(this),t===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_classPrivateFieldGet(p,this).unselectAll()}addInkEditorIfNeeded(t){if(t||_classPrivateFieldGet(p,this).getMode()===i.AnnotationEditorType.INK){if(!t)for(const t of _classPrivateFieldGet(h,this).values())if(t.isEmpty())return void t.setInBackground();_assertClassBrand(g,this,w).call(this,{offsetX:0,offsetY:0}).setInBackground()}}setEditingState(t){_classPrivateFieldGet(p,this).setEditingState(t)}addCommands(t){_classPrivateFieldGet(p,this).addCommands(t)}enable(){this.div.style.pointerEvents="auto";for(const t of _classPrivateFieldGet(h,this).values())t.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const t of _classPrivateFieldGet(h,this).values())t.disableEditing()}setActiveEditor(t){_classPrivateFieldGet(p,this).getActive()!==t&&_classPrivateFieldGet(p,this).setActiveEditor(t)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(c,this)),this.div.addEventListener("pointerup",_classPrivateFieldGet(l,this))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(c,this)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(l,this))}attach(t){_classPrivateFieldGet(h,this).set(t.id,t)}detach(t){var e;_classPrivateFieldGet(h,this).delete(t.id),null===(e=_classPrivateFieldGet(a,this))||void 0===e||e.removePointerInTextLayer(t.contentDiv)}remove(t){_classPrivateFieldGet(p,this).removeEditor(t),this.detach(t),this.annotationStorage.remove(t.id),t.div.style.display="none",setTimeout(()=>{t.div.style.display="",t.div.remove(),t.isAttachedToDOM=!1,document.activeElement===document.body&&_classPrivateFieldGet(p,this).focusMainContainer()},0),_classPrivateFieldGet(d,this)||this.addInkEditorIfNeeded(!1)}add(t){if(_assertClassBrand(g,this,m).call(this,t),_classPrivateFieldGet(p,this).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}this.moveEditorInDOM(t),t.onceAdded(),this.addToAnnotationStorage(t)}moveEditorInDOM(t){var e;null===(e=_classPrivateFieldGet(a,this))||void 0===e||e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addToAnnotationStorage(t){t.isEmpty()||this.annotationStorage.has(t.id)||this.annotationStorage.setValue(t.id,t)}addOrRebuild(t){t.needsToBeRebuilt()?t.rebuild():this.add(t)}addANewEditor(t){this.addCommands({cmd:()=>{this.addOrRebuild(t)},undo:()=>{t.remove()},mustExec:!0})}addUndoableEditor(t){this.addCommands({cmd:()=>{this.addOrRebuild(t)},undo:()=>{t.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(p,this).getId()}deserialize(t){switch(t.annotationType){case i.AnnotationEditorType.FREETEXT:return r.FreeTextEditor.deserialize(t,this);case i.AnnotationEditorType.INK:return s.InkEditor.deserialize(t,this)}return null}setSelected(t){_classPrivateFieldGet(p,this).setSelected(t)}toggleSelected(t){_classPrivateFieldGet(p,this).toggleSelected(t)}isSelected(t){return _classPrivateFieldGet(p,this).isSelected(t)}unselect(t){_classPrivateFieldGet(p,this).unselect(t)}pointerup(t){const e=A.KeyboardManager.platform.isMac;0!==t.button||t.ctrlKey&&e||t.target===this.div&&_classPrivateFieldGet(u,this)&&(_classPrivateFieldSet(u,this,!1),_classPrivateFieldGet(o,this)?_assertClassBrand(g,this,w).call(this,t):_classPrivateFieldSet(o,this,!0))}pointerdown(t){const e=A.KeyboardManager.platform.isMac;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;_classPrivateFieldSet(u,this,!0);const n=_classPrivateFieldGet(p,this).getActive();_classPrivateFieldSet(o,this,!n||n.isEmpty())}drop(t){const e=t.dataTransfer.getData("text/plain"),n=_classPrivateFieldGet(p,this).getEditor(e);if(!n)return;t.preventDefault(),t.dataTransfer.dropEffect="move",_assertClassBrand(g,this,m).call(this,n);const A=this.div.getBoundingClientRect(),i=t.clientX-A.x,r=t.clientY-A.y;n.translate(i-n.startX,r-n.startY),this.moveEditorInDOM(n),n.div.focus()}dragover(t){t.preventDefault()}destroy(){var t;(null===(t=_classPrivateFieldGet(p,this).getActive())||void 0===t?void 0:t.parent)===this&&_classPrivateFieldGet(p,this).setActiveEditor(null);for(const n of _classPrivateFieldGet(h,this).values()){var e;null===(e=_classPrivateFieldGet(a,this))||void 0===e||e.removePointerInTextLayer(n.contentDiv),n.isAttachedToDOM=!1,n.div.remove(),n.parent=null}this.div=null,_classPrivateFieldGet(h,this).clear(),_classPrivateFieldGet(p,this).removeLayer(this)}render(t){this.viewport=t.viewport,(0,A.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const e of _classPrivateFieldGet(p,this).getEditors(this.pageIndex))this.add(e);this.updateMode()}update(t){this.viewport=t.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[t,e,n,A]=this.viewport.viewBox;return[n-t,A-e]}get viewportBaseDimensions(){const{width:t,height:e,rotation:n}=this.viewport;return n%180===0?[t,e]:[e,t]}setDimensions(){const{width:t,height:e,rotation:n}=this.viewport,A=n%180!==0,i=Math.floor(t)+"px",r=Math.floor(e)+"px";this.div.style.width=A?r:i,this.div.style.height=A?i:r,this.div.setAttribute("data-main-rotation",n)}}function m(t){var e;t.parent!==this&&(this.attach(t),t.pageIndex=this.pageIndex,null===(e=t.parent)||void 0===e||e.detach(t),t.parent=this,t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}function v(t){switch(_classPrivateFieldGet(p,this).getMode()){case i.AnnotationEditorType.FREETEXT:return new r.FreeTextEditor(t);case i.AnnotationEditorType.INK:return new s.InkEditor(t)}return null}function w(t){const e=this.getNextId(),n=_assertClassBrand(g,this,v).call(this,{parent:this,id:e,x:t.offsetX,y:t.offsetY});return n&&this.add(n),n}function B(){_classPrivateFieldSet(d,this,!0);for(const t of _classPrivateFieldGet(h,this).values())t.isEmpty()&&t.remove();_classPrivateFieldSet(d,this,!1)}_defineProperty(f,"_initialized",!1),e.AnnotationEditorLayer=f},(t,e,n)=>{var A;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var i=n(1),r=n(7),s=n(6),a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakSet;class g extends s.AnnotationEditor{constructor(t){super(_objectSpread(_objectSpread({},t),{},{name:"freeTextEditor"})),_classPrivateMethodInitSpec(this,p),_classPrivateFieldInitSpec(this,a,this.editorDivBlur.bind(this)),_classPrivateFieldInitSpec(this,o,this.editorDivFocus.bind(this)),_classPrivateFieldInitSpec(this,l,this.editorDivKeydown.bind(this)),_classPrivateFieldInitSpec(this,c,void 0),_classPrivateFieldInitSpec(this,h,""),_classPrivateFieldInitSpec(this,u,!1),_classPrivateFieldInitSpec(this,d,void 0),_classPrivateFieldSet(c,this,t.color||g._defaultColor||s.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(d,this,t.fontSize||g._defaultFontSize)}static initialize(t){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(e=>[e,t.get(e)]));const e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case i.AnnotationEditorParamsType.FREETEXT_SIZE:g._defaultFontSize=e;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:g._defaultColor=e}}updateParams(t,e){switch(t){case i.AnnotationEditorParamsType.FREETEXT_SIZE:_assertClassBrand(p,this,f).call(this,e);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:_assertClassBrand(p,this,m).call(this,e)}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,g._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,g._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(d,this)],[i.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(c,this)]]}getInitialTranslation(){return[-g._internalPadding*this.parent.scaleFactor,-(g._internalPadding+_classPrivateFieldGet(d,this))*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(l,this)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(o,this)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(a,this)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(l,this)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(o,this)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(a,this)),this.div.focus(),this.isEditing=!1)}focusin(t){super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),_classPrivateFieldGet(u,this)||(_classPrivateFieldSet(u,this,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_classPrivateFieldSet(h,this,_assertClassBrand(p,this,v).call(this).trimEnd()),_assertClassBrand(p,this,w).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(t){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(t){g._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id","".concat(this.id,"-editor")),this.enableEditing(),g._l10nPromise.get("editor_free_text_aria_label").then(t=>{var e;return null===(e=this.editorDiv)||void 0===e?void 0:e.setAttribute("aria-label",t)}),g._l10nPromise.get("free_text_default_content").then(t=>{var e;return null===(e=this.editorDiv)||void 0===e?void 0:e.setAttribute("default-content",t)}),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(_classPrivateFieldGet(d,this),"px * var(--scale-factor))"),n.color=_classPrivateFieldGet(c,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,r.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,A]=this.parent.viewportBaseDimensions;this.setAt(t*n,e*A,this.width*n,this.height*A);for(const t of _classPrivateFieldGet(h,this).split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(t,e){const n=super.deserialize(t,e);return _classPrivateFieldSet(d,n,t.fontSize),_classPrivateFieldSet(c,n,i.Util.makeHexColor(...t.color)),_classPrivateFieldSet(h,n,t.value),n}serialize(){if(this.isEmpty())return null;const t=g._internalPadding*this.parent.scaleFactor,e=this.getRect(t,t),n=s.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:i.AnnotationEditorType.FREETEXT,color:n,fontSize:_classPrivateFieldGet(d,this),value:_classPrivateFieldGet(h,this),pageIndex:this.parent.pageIndex,rect:e,rotation:this.rotation}}}function f(t){const e=t=>{this.editorDiv.style.fontSize="calc(".concat(t,"px * var(--scale-factor))"),this.translate(0,-(t-_classPrivateFieldGet(d,this))*this.parent.scaleFactor),_classPrivateFieldSet(d,this,t),_assertClassBrand(p,this,w).call(this)},n=_classPrivateFieldGet(d,this);this.parent.addCommands({cmd:()=>{e(t)},undo:()=>{e(n)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function m(t){const e=_classPrivateFieldGet(c,this);this.parent.addCommands({cmd:()=>{_classPrivateFieldSet(c,this,t),this.editorDiv.style.color=t},undo:()=>{_classPrivateFieldSet(c,this,e),this.editorDiv.style.color=e},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function v(){const t=this.editorDiv.getElementsByTagName("div");if(0===t.length)return this.editorDiv.innerText;const e=[];for(let n=0,A=t.length;n<A;n++){const A=t[n].firstChild;"#text"===(null===A||void 0===A?void 0:A.nodeName)?e.push(A.data):e.push("")}return e.join("\n")}function w(){const[t,e]=this.parent.viewportBaseDimensions,n=this.div.getBoundingClientRect();this.width=n.width/t,this.height=n.height/e}A=g,_defineProperty(g,"_freeTextDefaultContent",""),_defineProperty(g,"_l10nPromise",void 0),_defineProperty(g,"_internalPadding",0),_defineProperty(g,"_defaultColor",null),_defineProperty(g,"_defaultFontSize",10),_defineProperty(g,"_keyboardManager",new r.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],A.prototype.commitOrRemove]])),_defineProperty(g,"_type","freetext"),e.FreeTextEditor=g},(t,e,n)=>{var A;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return s.fitCurve}});var i=n(1),r=n(6),s=n(25),a=n(7);const o=16;var l=new WeakMap,c=new WeakMap,h=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,g=new WeakMap,f=new WeakMap,m=new WeakMap,v=new WeakMap,w=new WeakMap,B=new WeakMap,y=new WeakMap,b=new WeakMap,C=new WeakSet;class _ extends r.AnnotationEditor{constructor(t){super(_objectSpread(_objectSpread({},t),{},{name:"inkEditor"})),_classPrivateMethodInitSpec(this,C),_classPrivateFieldInitSpec(this,l,0),_classPrivateFieldInitSpec(this,c,0),_classPrivateFieldInitSpec(this,h,0),_classPrivateFieldInitSpec(this,u,this.canvasPointermove.bind(this)),_classPrivateFieldInitSpec(this,d,this.canvasPointerleave.bind(this)),_classPrivateFieldInitSpec(this,p,this.canvasPointerup.bind(this)),_classPrivateFieldInitSpec(this,g,this.canvasPointerdown.bind(this)),_classPrivateFieldInitSpec(this,f,!1),_classPrivateFieldInitSpec(this,m,!1),_classPrivateFieldInitSpec(this,v,null),_classPrivateFieldInitSpec(this,w,null),_classPrivateFieldInitSpec(this,B,0),_classPrivateFieldInitSpec(this,y,0),_classPrivateFieldInitSpec(this,b,null),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(t){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(e=>[e,t.get(e)]))}static updateDefaultParams(t,e){switch(t){case i.AnnotationEditorParamsType.INK_THICKNESS:_._defaultThickness=e;break;case i.AnnotationEditorParamsType.INK_COLOR:_._defaultColor=e;break;case i.AnnotationEditorParamsType.INK_OPACITY:_._defaultOpacity=e/100}}updateParams(t,e){switch(t){case i.AnnotationEditorParamsType.INK_THICKNESS:_assertClassBrand(C,this,F).call(this,e);break;case i.AnnotationEditorParamsType.INK_COLOR:_assertClassBrand(C,this,E).call(this,e);break;case i.AnnotationEditorParamsType.INK_OPACITY:_assertClassBrand(C,this,x).call(this,e)}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,_._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,_._defaultColor||r.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*_._defaultOpacity)]]}get propertiesToUpdate(){var t;return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||_._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||_._defaultColor||r.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(t=this.opacity)&&void 0!==t?t:_._defaultOpacity))]]}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(_assertClassBrand(C,this,T).call(this),_assertClassBrand(C,this,D).call(this)),this.isAttachedToDOM||(this.parent.add(this),_assertClassBrand(C,this,L).call(this)),_assertClassBrand(C,this,V).call(this))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(w,this).disconnect(),_classPrivateFieldSet(w,this,null),super.remove())}enableEditMode(){_classPrivateFieldGet(f,this)||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(g,this)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(p,this)))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(g,this)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(p,this)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(f,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(f,this,!0),this.div.classList.add("disabled"),_assertClassBrand(C,this,V).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(t){super.focusin(t),this.enableEditMode()}canvasPointerdown(t){0===t.button&&this.isInEditMode()&&!_classPrivateFieldGet(f,this)&&(this.setInForeground(),"mouse"!==t.type&&this.div.focus(),t.stopPropagation(),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(d,this)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(u,this)),_assertClassBrand(C,this,U).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.stopPropagation(),_assertClassBrand(C,this,Q).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){0===t.button&&this.isInEditMode()&&0!==this.currentPath.length&&(t.stopPropagation(),_assertClassBrand(C,this,I).call(this,t),this.setInBackground())}canvasPointerleave(t){_assertClassBrand(C,this,I).call(this,t),this.setInBackground()}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),_._l10nPromise.get("editor_ink_aria_label").then(t=>{var e;return null===(e=this.div)||void 0===e?void 0:e.setAttribute("aria-label",t)});const[n,A,i,r]=_assertClassBrand(C,this,S).call(this);if(this.setAt(n,A,0,0),this.setDims(i,r),_assertClassBrand(C,this,T).call(this),this.width){const[n,A]=this.parent.viewportBaseDimensions;this.setAt(t*n,e*A,this.width*n,this.height*A),_classPrivateFieldSet(m,this,!0),_assertClassBrand(C,this,L).call(this),this.setDims(this.width*n,this.height*A),_assertClassBrand(C,this,M).call(this),_assertClassBrand(C,this,z).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _assertClassBrand(C,this,D).call(this),this.div}setDimensions(t,e){const n=Math.round(t),A=Math.round(e);if(_classPrivateFieldGet(B,this)===n&&_classPrivateFieldGet(y,this)===A)return;_classPrivateFieldSet(B,this,n),_classPrivateFieldSet(y,this,A),this.canvas.style.visibility="hidden",_classPrivateFieldGet(l,this)&&Math.abs(_classPrivateFieldGet(l,this)-t/e)>.01&&(e=Math.ceil(t/_classPrivateFieldGet(l,this)),this.setDims(t,e));const[i,r]=this.parent.viewportBaseDimensions;this.width=t/i,this.height=e/r,_classPrivateFieldGet(f,this)&&_assertClassBrand(C,this,R).call(this,t,e),_assertClassBrand(C,this,L).call(this),_assertClassBrand(C,this,M).call(this),this.canvas.style.visibility="visible"}static deserialize(t,e){const n=super.deserialize(t,e);n.thickness=t.thickness,n.color=i.Util.makeHexColor(...t.color),n.opacity=t.opacity;const[A,r]=e.pageDimensions,s=n.width*A,a=n.height*r,u=e.scaleFactor,d=t.thickness/2;_classPrivateFieldSet(l,n,s/a),_classPrivateFieldSet(f,n,!0),_classPrivateFieldSet(B,n,Math.round(s)),_classPrivateFieldSet(y,n,Math.round(a));for(const{bezier:i}of t.paths){const t=[];n.paths.push(t);let e=u*(i[0]-d),A=u*(a-i[1]-d);for(let n=2,s=i.length;n<s;n+=6){const r=u*(i[n]-d),s=u*(a-i[n+1]-d),o=u*(i[n+2]-d),l=u*(a-i[n+3]-d),c=u*(i[n+4]-d),h=u*(a-i[n+5]-d);t.push([[e,A],[r,s],[o,l],[c,h]]),e=c,A=h}const r=_assertClassBrand(_,this,H).call(this,t);n.bezierPath2D.push(r)}const p=_assertClassBrand(C,n,W).call(n);return _classPrivateFieldSet(h,n,Math.max(o,p[2]-p[0])),_classPrivateFieldSet(c,n,Math.max(o,p[3]-p[1])),_assertClassBrand(C,n,R).call(n,s,a),n}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=this.rotation%180===0?t[3]-t[1]:t[2]-t[0],n=r.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:_assertClassBrand(C,this,N).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,e),pageIndex:this.parent.pageIndex,rect:t,rotation:this.rotation}}}function F(t){const e=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=t,_assertClassBrand(C,this,V).call(this)},undo:()=>{this.thickness=e,_assertClassBrand(C,this,V).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function E(t){const e=this.color;this.parent.addCommands({cmd:()=>{this.color=t,_assertClassBrand(C,this,M).call(this)},undo:()=>{this.color=e,_assertClassBrand(C,this,M).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function x(t){t/=100;const e=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=t,_assertClassBrand(C,this,M).call(this)},undo:()=>{this.opacity=e,_assertClassBrand(C,this,M).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function S(){const{width:t,height:e,rotation:n}=this.parent.viewport;switch(n){case 90:return[0,t,t,e];case 180:return[t,e,t,e];case 270:return[e,0,t,e];default:return[0,0,t,e]}}function k(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle="".concat(this.color).concat((0,a.opacityToHex)(this.opacity))}function U(t,e){var n;this.isEditing=!0,_classPrivateFieldGet(m,this)||(_classPrivateFieldSet(m,this,!0),_assertClassBrand(C,this,L).call(this),this.thickness||(this.thickness=A._defaultThickness),this.color||(this.color=A._defaultColor||r.AnnotationEditor._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=A._defaultOpacity)),this.currentPath.push([t,e]),_classPrivateFieldSet(v,this,null),_assertClassBrand(C,this,k).call(this),this.ctx.beginPath(),this.ctx.moveTo(t,e),_classPrivateFieldSet(b,this,()=>{_classPrivateFieldGet(b,this)&&(_classPrivateFieldGet(v,this)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):_assertClassBrand(C,this,M).call(this),this.ctx.lineTo(..._classPrivateFieldGet(v,this)),_classPrivateFieldSet(v,this,null),this.ctx.stroke()),window.requestAnimationFrame(_classPrivateFieldGet(b,this)))}),window.requestAnimationFrame(_classPrivateFieldGet(b,this))}function Q(t,e){const[n,A]=this.currentPath.at(-1);t===n&&e===A||(this.currentPath.push([t,e]),_classPrivateFieldSet(v,this,[t,e]))}function P(t,e){this.ctx.closePath(),_classPrivateFieldSet(b,this,null),t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height);const[n,i]=this.currentPath.at(-1);let r;if(t===n&&e===i||this.currentPath.push([t,e]),1!==this.currentPath.length)r=(0,s.fitCurve)(this.currentPath,30,null);else{const n=[t,e];r=[[n,n.slice(),n.slice(),n]]}const a=H.call(A,r);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(r),this.bezierPath2D.push(a),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_assertClassBrand(C,this,T).call(this),_assertClassBrand(C,this,D).call(this)),_assertClassBrand(C,this,V).call(this))},mustExec:!0})}function M(){if(this.isEmpty())return void _assertClassBrand(C,this,O).call(this);_assertClassBrand(C,this,k).call(this);const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),_assertClassBrand(C,this,O).call(this);for(const n of this.bezierPath2D)e.stroke(n)}function I(t){_assertClassBrand(C,this,P).call(this,t.offsetX,t.offsetY),this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(d,this)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(u,this)),this.parent.addToAnnotationStorage(this)}function T(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",A._l10nPromise.get("editor_ink_canvas_aria_label").then(t=>{var e;return null===(e=this.canvas)||void 0===e?void 0:e.setAttribute("aria-label",t)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function D(){_classPrivateFieldSet(w,this,new ResizeObserver(t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)})),_classPrivateFieldGet(w,this).observe(this.div)}function L(){if(!_classPrivateFieldGet(m,this))return;const[t,e]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),_assertClassBrand(C,this,O).call(this)}function R(t,e){const n=_assertClassBrand(C,this,j).call(this),A=(t-n)/_classPrivateFieldGet(h,this),i=(e-n)/_classPrivateFieldGet(c,this);this.scaleFactor=Math.min(A,i)}function O(){const t=_assertClassBrand(C,this,j).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}function H(t){const e=new Path2D;for(let n=0,A=t.length;n<A;n++){const[A,i,r,s]=t[n];0===n&&e.moveTo(...A),e.bezierCurveTo(i[0],i[1],r[0],r[1],s[0],s[1])}return e}function N(t,e,n,A){const i=[],r=this.thickness/2;let s,a;for(const o of this.paths){s=[],a=[];for(let i=0,l=o.length;i<l;i++){const[l,c,h,u]=o[i],d=t*(l[0]+e)+r,p=A-t*(l[1]+n)-r,g=t*(c[0]+e)+r,f=A-t*(c[1]+n)-r,m=t*(h[0]+e)+r,v=A-t*(h[1]+n)-r,w=t*(u[0]+e)+r,B=A-t*(u[1]+n)-r;0===i&&(s.push(d,p),a.push(d,p)),s.push(g,f,m,v,w,B),_assertClassBrand(C,this,G).call(this,d,p,g,f,m,v,w,B,4,a)}i.push({bezier:s,points:a})}return i}function G(t,e,n,A,i,r,s,a,o,l){if(_assertClassBrand(C,this,K).call(this,t,e,n,A,i,r,s,a))l.push(s,a);else{for(let c=1;c<o-1;c++){const h=c/o,u=1-h;let d=h*t+u*n,p=h*e+u*A,g=h*n+u*i,f=h*A+u*r;d=h*d+u*g,p=h*p+u*f,g=h*g+u*(h*i+u*s),f=h*f+u*(h*r+u*a),d=h*d+u*g,p=h*p+u*f,l.push(d,p)}l.push(s,a)}}function K(t,e,n,A,i,r,s,a){const o=(3*n-2*t-s)**2,l=(3*A-2*e-a)**2,c=(3*i-t-2*s)**2,h=(3*r-e-2*a)**2;return Math.max(o,c)+Math.max(l,h)<=10}function W(){let t=1/0,e=-1/0,n=1/0,A=-1/0;for(const r of this.paths)for(const[s,a,o,l]of r){const r=i.Util.bezierBoundingBox(...s,...a,...o,...l);t=Math.min(t,r[0]),n=Math.min(n,r[1]),e=Math.max(e,r[2]),A=Math.max(A,r[3])}return[t,n,e,A]}function j(){return _classPrivateFieldGet(f,this)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function V(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!_classPrivateFieldGet(f,this))return void _assertClassBrand(C,this,M).call(this);const e=_assertClassBrand(C,this,W).call(this),n=_assertClassBrand(C,this,j).call(this);_classPrivateFieldSet(h,this,Math.max(o,e[2]-e[0])),_classPrivateFieldSet(c,this,Math.max(o,e[3]-e[1]));const A=Math.ceil(n+_classPrivateFieldGet(h,this)*this.scaleFactor),i=Math.ceil(n+_classPrivateFieldGet(c,this)*this.scaleFactor),[r,s]=this.parent.viewportBaseDimensions;this.width=A/r,this.height=i/s,_classPrivateFieldSet(l,this,A/i),_assertClassBrand(C,this,z).call(this);const a=this.translationX,u=this.translationY;this.translationX=-e[0],this.translationY=-e[1],_assertClassBrand(C,this,L).call(this),_assertClassBrand(C,this,M).call(this),_classPrivateFieldSet(B,this,A),_classPrivateFieldSet(y,this,i),this.setDims(A,i);const d=t?n/this.scaleFactor/2:0;this.translate(a-this.translationX-d,u-this.translationY-d)}function z(){const{style:t}=this.div;_classPrivateFieldGet(l,this)>=1?(t.minHeight="".concat(o,"px"),t.minWidth="".concat(Math.round(_classPrivateFieldGet(l,this)*o),"px")):(t.minWidth="".concat(o,"px"),t.minHeight="".concat(Math.round(o/_classPrivateFieldGet(l,this)),"px"))}A=_,_defineProperty(_,"_defaultColor",null),_defineProperty(_,"_defaultOpacity",1),_defineProperty(_,"_defaultThickness",1),_defineProperty(_,"_l10nPromise",void 0),_defineProperty(_,"_type","ink"),e.InkEditor=_},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const A=n(26);e.fitCurve=A},t=>{function e(t,i,r,s,a){var l,c,h,u,d,p,g,f,m,v,w,B,y;if(2===t.length)return B=o.vectorLen(o.subtract(t[0],t[1]))/3,[l=[t[0],o.addArrays(t[0],o.mulItems(i,B)),o.addArrays(t[1],o.mulItems(r,B)),t[1]]];if(c=function(t){var e,n,A,i=[];return t.forEach((t,r)=>{e=r?n+o.vectorLen(o.subtract(t,A)):0,i.push(e),n=e,A=t}),i=i.map(t=>t/n)}(t),[l,u,p]=n(t,c,c,i,r,a),0===u||u<s)return[l];if(u<s*s)for(h=c,d=u,g=p,y=0;y<20;y++){if(h=A(l,t,h),[l,u,p]=n(t,c,h,i,r,a),u<s)return[l];if(p===g){let t=u/d;if(t>.9999&&t<1.0001)break}d=u,g=p}return w=[],(f=o.subtract(t[p-1],t[p+1])).every(t=>0===t)&&(f=o.subtract(t[p-1],t[p]),[f[0],f[1]]=[-f[1],f[0]]),m=o.normalize(f),v=o.mulItems(m,-1),w=(w=w.concat(e(t.slice(0,p+1),i,m,s,a))).concat(e(t.slice(p),v,r,s,a))}function n(t,e,n,A,i,a){var c,h,u;return c=function(t,e,n,A){var i,r,s,a,c,h,u,d,p,g,f,m,v,w,B,y,b,C=t[0],_=t[t.length-1];for(i=[C,null,null,_],r=o.zeros_Xx2x2(e.length),v=0,w=e.length;v<w;v++)b=1-(y=e[v]),(s=r[v])[0]=o.mulItems(n,3*y*(b*b)),s[1]=o.mulItems(A,3*b*(y*y));for(a=[[0,0],[0,0]],c=[0,0],v=0,w=t.length;v<w;v++)y=e[v],s=r[v],a[0][0]+=o.dot(s[0],s[0]),a[0][1]+=o.dot(s[0],s[1]),a[1][0]+=o.dot(s[0],s[1]),a[1][1]+=o.dot(s[1],s[1]),B=o.subtract(t[v],l.q([C,C,_,_],y)),c[0]+=o.dot(s[0],B),c[1]+=o.dot(s[1],B);return h=a[0][0]*a[1][1]-a[1][0]*a[0][1],u=a[0][0]*c[1]-a[1][0]*c[0],d=c[0]*a[1][1]-c[1]*a[0][1],p=0===h?0:d/h,g=0===h?0:u/h,m=o.vectorLen(o.subtract(C,_)),p<(f=1e-6*m)||g<f?(i[1]=o.addArrays(C,o.mulItems(n,m/3)),i[2]=o.addArrays(_,o.mulItems(A,m/3))):(i[1]=o.addArrays(C,o.mulItems(n,p)),i[2]=o.addArrays(_,o.mulItems(A,g))),i}(t,n,A,i),[h,u]=function(t,e,n){var A,i,a,c,h,u,d,p;i=0,a=Math.floor(t.length/2);const g=r(e,10);for(h=0,u=t.length;h<u;h++)d=t[h],p=s(0,n[h],g,10),(A=(c=o.subtract(l.q(e,p),d))[0]*c[0]+c[1]*c[1])>i&&(i=A,a=h);return[i,a]}(t,c,e),a&&a({bez:c,points:t,params:e,maxErr:h,maxPoint:u}),[c,h,u]}function A(t,e,n){return n.map((n,A)=>i(t,e[A],n))}function i(t,e,n){var A=o.subtract(l.q(t,n),e),i=l.qprime(t,n),r=o.mulMatrix(A,i),s=o.sum(o.squareItems(i))+2*o.mulMatrix(A,l.qprimeprime(t,n));return 0===s?n:n-r/s}var r=function(t,e){for(var n,A=[0],i=t[0],r=0,s=1;s<=e;s++)n=l.q(t,s/e),r+=o.vectorLen(o.subtract(n,i)),A.push(r),i=n;return A=A.map(t=>t/r)};function s(t,e,n,A){if(e<0)return 0;if(e>1)return 1;for(var i,r,s,a,o=1;o<=A;o++)if(e<=n[o]){s=(o-1)/A,r=o/A,a=(e-(i=n[o-1]))/(n[o]-i)*(r-s)+s;break}return a}function a(t,e){return o.normalize(o.subtract(t,e))}class o{static zeros_Xx2x2(t){for(var e=[];t--;)e.push([0,0]);return e}static mulItems(t,e){return t.map(t=>t*e)}static mulMatrix(t,e){return t.reduce((t,n,A)=>t+n*e[A],0)}static subtract(t,e){return t.map((t,n)=>t-e[n])}static addArrays(t,e){return t.map((t,n)=>t+e[n])}static addItems(t,e){return t.map(t=>t+e)}static sum(t){return t.reduce((t,e)=>t+e)}static dot(t,e){return o.mulMatrix(t,e)}static vectorLen(t){return Math.hypot(...t)}static divItems(t,e){return t.map(t=>t/e)}static squareItems(t){return t.map(t=>t*t)}static normalize(t){return this.divItems(t,this.vectorLen(t))}}class l{static q(t,e){var n=1-e,A=o.mulItems(t[0],n*n*n),i=o.mulItems(t[1],3*n*n*e),r=o.mulItems(t[2],3*n*e*e),s=o.mulItems(t[3],e*e*e);return o.addArrays(o.addArrays(A,i),o.addArrays(r,s))}static qprime(t,e){var n=1-e,A=o.mulItems(o.subtract(t[1],t[0]),3*n*n),i=o.mulItems(o.subtract(t[2],t[1]),6*n*e),r=o.mulItems(o.subtract(t[3],t[2]),3*e*e);return o.addArrays(o.addArrays(A,i),r)}static qprimeprime(t,e){return o.addArrays(o.mulItems(o.addArrays(o.subtract(t[2],o.mulItems(t[1],2)),t[0]),6*(1-e)),o.mulItems(o.addArrays(o.subtract(t[3],o.mulItems(t[2],2)),t[1]),6*e))}}t.exports=function(t,n,A){if(!Array.isArray(t))throw new TypeError("First argument should be an array");if(t.forEach(e=>{if(!Array.isArray(e)||e.some(t=>"number"!==typeof t)||e.length!==t[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(t=t.filter((e,n)=>0===n||!e.every((e,A)=>e===t[n-1][A]))).length<2)return[];const i=t.length,r=a(t[1],t[0]),s=a(t[i-2],t[i-1]);return e(t,r,s,n,A)},t.exports.fitCubic=e,t.exports.createTangent=a},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var A=n(1),i=n(8),r=n(5),s=n(28),a=n(29);const o=1e3,l=new WeakSet;function c(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class h{static create(t){switch(t.data.annotationType){case A.AnnotationType.LINK:return new d(t);case A.AnnotationType.TEXT:return new p(t);case A.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new f(t);case"Btn":return t.data.radioButton?new v(t):t.data.checkBox?new m(t):new w(t);case"Ch":return new B(t)}return new g(t);case A.AnnotationType.POPUP:return new y(t);case A.AnnotationType.FREETEXT:return new C(t);case A.AnnotationType.LINE:return new _(t);case A.AnnotationType.SQUARE:return new F(t);case A.AnnotationType.CIRCLE:return new E(t);case A.AnnotationType.POLYLINE:return new x(t);case A.AnnotationType.CARET:return new k(t);case A.AnnotationType.INK:return new U(t);case A.AnnotationType.POLYGON:return new S(t);case A.AnnotationType.HIGHLIGHT:return new Q(t);case A.AnnotationType.UNDERLINE:return new P(t);case A.AnnotationType.SQUIGGLY:return new M(t);case A.AnnotationType.STRIKEOUT:return new I(t);case A.AnnotationType.STAMP:return new T(t);case A.AnnotationType.FILEATTACHMENT:return new D(t);default:return new u(t)}}}class u{constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:A=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,e&&(this.container=this._createContainer(n)),A&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.data,n=this.page,i=this.viewport,r=document.createElement("section"),{width:s,height:a}=c(e.rect),[o,l,h,u]=i.viewBox,d=h-o,p=u-l;r.setAttribute("data-annotation-id",e.id);const g=A.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(!t&&e.borderStyle.width>0){r.style.borderWidth="".concat(e.borderStyle.width,"px");const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e="calc(".concat(t,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");r.style.borderRadius=e}else if(this instanceof v){const t="calc(".concat(s,"px * var(--scale-factor)) / calc(").concat(a,"px * var(--scale-factor))");r.style.borderRadius=t}switch(e.borderStyle.style){case A.AnnotationBorderStyleType.SOLID:r.style.borderStyle="solid";break;case A.AnnotationBorderStyleType.DASHED:r.style.borderStyle="dashed";break;case A.AnnotationBorderStyleType.BEVELED:(0,A.warn)("Unimplemented border style: beveled");break;case A.AnnotationBorderStyleType.INSET:(0,A.warn)("Unimplemented border style: inset");break;case A.AnnotationBorderStyleType.UNDERLINE:r.style.borderBottomStyle="solid"}const i=e.borderColor||null;i?r.style.borderColor=A.Util.makeHexColor(0|i[0],0|i[1],0|i[2]):r.style.borderWidth=0}r.style.left="".concat(100*(g[0]-o)/d,"%"),r.style.top="".concat(100*(g[1]-l)/p,"%");const{rotation:f}=e;return e.hasOwnCanvas||0===f?(r.style.width="".concat(100*s/d,"%"),r.style.height="".concat(100*a/p,"%")):this.setRotation(f,r),r}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;const[n,A,i,r]=this.viewport.viewBox,s=i-n,a=r-A,{width:o,height:l}=c(this.data.rect);let h,u;t%180===0?(h=100*o/s,u=100*l/a):(h=100*l/s,u=100*o/a),e.style.width="".concat(h,"%"),e.style.height="".concat(u,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const A=n.detail[t];n.target.style[e]=s.ColorConverters["".concat(A[0],"_HTML")](A.slice(1))};return(0,A.shadow)(this,"_commonActions",{display:t=>{const e=t.detail.display%2===1;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e,print:0===t.detail.display||3===t.detail.display})},print:t=>{this.annotationStorage.setValue(this.data.id,{print:t.detail.print})},hidden:t=>{this.container.style.visibility=t.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t.detail.hidden})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const A of Object.keys(e.detail)){const i=t[A]||n[A];i&&i(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[A,i]of Object.entries(e)){const r=n[A];r&&(r({detail:{[A]:i},target:t}),delete e[A])}}_createQuadrilaterals(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;const e=[],n=this.data.rect;for(const A of this.data.quadPoints)this.data.rect=[A[2].x,A[2].y,A[1].x,A[1].y],e.push(this._createContainer(t));return this.data.rect=n,e}_createPopup(t,e){let n=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,n=this.quadrilaterals[0]),t||((t=document.createElement("div")).className="popupTriggerArea",n.append(t));const A=new b({container:n,trigger:t,color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,hideWrapper:!0}).render();A.style.left="100%",n.append(A)}_renderQuadrilaterals(t){for(const e of this.quadrilaterals)e.className=t;return this.quadrilaterals}render(){(0,A.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:r,exportValues:s}of i){if(-1===t)continue;if(r===e)continue;const i="string"===typeof s?s:null,a=document.querySelector('[data-element-id="'.concat(r,'"]'));!a||l.has(a)?n.push({id:r,exportValue:i,domElement:a}):(0,A.warn)("_getElementsByName - element not allowed: ".concat(r))}return n}for(const A of document.getElementsByName(t)){const{id:t,exportValue:i}=A;t!==e&&l.has(A)&&n.push({id:t,exportValue:i,domElement:A})}return n}static get platform(){const t="undefined"!==typeof navigator?navigator.platform:"";return(0,A.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class d extends u{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!(null===e||void 0===e||!e.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let A=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),A=!0):t.action?(this._bindNamedAction(n,t.action),A=!0):t.dest?(this._bindLink(n,t.dest),A=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),A=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),A=!0):this.isTooltipOnly&&!A&&(this._bindLink(n,""),A=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((t,e)=>{const A=0===e?n:n.cloneNode();return t.append(A),t}):(this.container.className="linkAnnotation",A&&this.container.append(n),this.container)}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&(t.className="internalLink")}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),t.className="internalLink"}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const A of Object.keys(e.actions)){const i=n.get(A);i&&(t[i]=()=>{var t;return null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:A}}),!1})}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,A.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{n&&n();const{fields:t,refs:i,include:r}=e,s=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===r&&s.push(n)}else for(const e of Object.values(this._fieldObjects))s.push(...e);const a=this.annotationStorage,o=[];for(const e of s){const{id:t}=e;switch(o.push(t),e.type){case"text":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;a.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(t,'"]'));n&&(l.has(n)?n.dispatchEvent(new Event("resetform")):(0,A.warn)("_bindResetFormAction - element not allowed: ".concat(t)))}var c;return this.enableScripting&&(null===(c=this.linkService.eventBus)||void 0===c||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}})),!1}}}class p extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.append(t),this.container}}class g extends u{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:e,isMac:n}=u.platform;return e&&t.ctrlKey||n&&t.metaKey}_setEventListener(t,e,n,A){e.includes("mouse")?t.addEventListener(e,t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:A(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})}):t.addEventListener(e,t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:A(t)}})})}_setEventListeners(t,e,n){for(const[i,r]of e){var A;("Action"===r||null!==(A=this.data.actions)&&void 0!==A&&A[r])&&this._setEventListener(t,i,r,n)}}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":A.Util.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,r=t.style;let s;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]),e=t/(Math.round(t/(A.LINE_FACTOR*i))||1);s=Math.min(i,Math.round(e/A.LINE_FACTOR))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]);s=Math.min(i,Math.round(t/A.LINE_FACTOR))}r.fontSize="calc(".concat(s,"px * var(--scale-factor))"),r.color=A.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class f extends g{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,A){const i=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[e]=n),i.setValue(r.id,{[A]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderForms){const i=t.getValue(e,{value:this.data.fieldValue});let r=i.formattedValue||i.value||"";const s=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;s&&r.length>s&&(r=r.slice(0,s));const a={userValue:r,formattedValue:null,valueOnFocus:""};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",r),this.data.doNotScroll&&(n.style.overflowX="hidden")),l.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=o,this._setRequired(n,this.data.required),s&&(n.maxLength=s),n.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(n,"value",A.target.value,"value")}),n.addEventListener("resetform",t=>{var e;const A=null!==(e=this.data.defaultFieldValue)&&void 0!==e?e:"";n.value=a.userValue=A,a.formattedValue=null});let c=t=>{const{formattedValue:e}=a;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var A;n.addEventListener("focus",t=>{a.userValue&&(t.target.value=a.userValue),a.valueOnFocus=t.target.value}),n.addEventListener("updatefromsandbox",n=>{const A={value(n){var A;a.userValue=null!==(A=n.detail.value)&&void 0!==A?A:"",t.setValue(e,{value:a.userValue.toString()}),n.target.value=a.userValue},formattedValue(n){const{formattedValue:A}=n.detail;a.formattedValue=A,null!==A&&void 0!==A&&n.target!==document.activeElement&&(n.target.value=A),t.setValue(e,{formattedValue:A})},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{var A;const{charLimit:i}=n.detail,{target:r}=n;if(0===i)return void r.removeAttribute("maxLength");r.setAttribute("maxLength",i);let s=a.userValue;!s||s.length<=i||(s=s.slice(0,i),r.value=a.userValue=s,t.setValue(e,{value:s}),null===(A=this.linkService.eventBus)||void 0===A||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:r.selectionStart,selEnd:r.selectionEnd}}))}};this._dispatchEventFromSandbox(A,n)}),n.addEventListener("keydown",t=>{var n;let A=-1;if("Escape"===t.key?A=0:"Enter"===t.key?A=2:"Tab"===t.key&&(A=3),-1===A)return;const{value:i}=t.target;a.valueOnFocus!==i&&(a.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,willCommit:!0,commitKey:A,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))});const i=c;c=null,n.addEventListener("blur",t=>{const{value:n}=t.target;var A;a.userValue=n,this._mouseState.isDown&&a.valueOnFocus!==n&&(null===(A=this.linkService.eventBus)||void 0===A||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:n,willCommit:!0,commitKey:1,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}})),i(t)}),null!==(A=this.data.actions)&&void 0!==A&&A.Keystroke&&n.addEventListener("beforeinput",t=>{var n;const{data:A,target:i}=t,{value:r,selectionStart:s,selectionEnd:a}=i;let o=s,l=a;switch(t.inputType){case"deleteWordBackward":{const t=r.substring(0,s).match(/\w*[^\w]*$/);t&&(o-=t[0].length);break}case"deleteWordForward":{const t=r.substring(s).match(/^[^\w]*\w*/);t&&(l+=t[0].length);break}case"deleteContentBackward":s===a&&(o-=1);break;case"deleteContentForward":s===a&&(l+=1)}t.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,change:A||"",willCommit:!1,selStart:o,selEnd:l}})}),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.value)}if(c&&n.addEventListener("blur",c),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/s;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(t,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class m extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let A=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof A&&(A="Off"!==A,t.setValue(n,{value:A})),this.container.className="buttonWidgetAnnotation checkBox";const i=document.createElement("input");return l.add(i),i.setAttribute("data-element-id",n),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=e.fieldName,A&&i.setAttribute("checked",!0),i.setAttribute("exportValue",e.exportValue),i.tabIndex=o,i.addEventListener("change",A=>{const{name:i,checked:r}=A.target;for(const s of this._getElementsByName(i,n)){const n=r&&s.exportValue===e.exportValue;s.domElement&&(s.domElement.checked=n),t.setValue(s.id,{value:n})}t.setValue(n,{value:r})}),i.addEventListener("resetform",t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",e=>{const A={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(A,e)}),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class v extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,e=this.data,n=e.id;let A=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;"string"===typeof A&&(A=A!==e.buttonValue,t.setValue(n,{value:A}));const i=document.createElement("input");if(l.add(i),i.setAttribute("data-element-id",n),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=e.fieldName,A&&i.setAttribute("checked",!0),i.tabIndex=o,i.addEventListener("change",e=>{const{name:A,checked:i}=e.target;for(const r of this._getElementsByName(A,n))t.setValue(r.id,{value:!1});t.setValue(n,{value:i})}),i.addEventListener("resetform",t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue}),this.enableScripting&&this.hasJSActions){const A=e.buttonValue;i.addEventListener("updatefromsandbox",e=>{const i={value:e=>{const i=A===e.detail.value;for(const A of this._getElementsByName(e.target.name)){const e=i&&A.id===n;A.domElement&&(A.domElement.checked=e),t.setValue(A.id,{value:e})}}};this._dispatchEventFromSandbox(i,e)}),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class w extends d{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText);const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",t=>{this._dispatchEventFromSandbox({},t)})),t}}class B extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),A=document.createElement("select");l.add(A),A.setAttribute("data-element-id",e),A.disabled=this.data.readOnly,this._setRequired(A,this.data.required),A.name=this.data.fieldName,A.tabIndex=o;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(A.size=this.data.options.length,this.data.multiSelect&&(A.multiple=!0)),A.addEventListener("resetform",t=>{const e=this.data.defaultFieldValue;for(const n of A.options)n.selected=n.value===e});for(const o of this.data.options){const t=document.createElement("option");t.textContent=o.displayValue,t.value=o.exportValue,n.value.includes(o.exportValue)&&(t.setAttribute("selected",!0),i=!1),A.append(t)}let r=null;if(i){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),A.prepend(t),r=()=>{t.remove(),A.removeEventListener("input",r),r=null},A.addEventListener("input",r)}const s=(t,e)=>{const n=e?"value":"textContent",A=t.target.options;return t.target.multiple?Array.prototype.filter.call(A,t=>t.selected).map(t=>t[n]):-1===A.selectedIndex?null:A[A.selectedIndex][n]},a=t=>{const e=t.target.options;return Array.prototype.map.call(e,t=>({displayValue:t.textContent,exportValue:t.value}))};return this.enableScripting&&this.hasJSActions?(A.addEventListener("updatefromsandbox",n=>{const i={value(n){var i;null===(i=r)||void 0===i||i();const a=n.detail.value,o=new Set(Array.isArray(a)?a:[a]);for(const t of A.options)t.selected=o.has(t.value);t.setValue(e,{value:s(n,!0)})},multipleSelection(t){A.multiple=!0},remove(n){const i=A.options,r=n.detail.remove;i[r].selected=!1,A.remove(r),i.length>0&&-1===Array.prototype.findIndex.call(i,t=>t.selected)&&(i[0].selected=!0),t.setValue(e,{value:s(n,!0),items:a(n)})},clear(n){for(;0!==A.length;)A.remove(0);t.setValue(e,{value:null,items:[]})},insert(n){const{index:i,displayValue:r,exportValue:o}=n.detail.insert,l=A.children[i],c=document.createElement("option");c.textContent=r,c.value=o,l?l.before(c):A.append(c),t.setValue(e,{value:s(n,!0),items:a(n)})},items(n){const{items:i}=n.detail;for(;0!==A.length;)A.remove(0);for(const t of i){const{displayValue:e,exportValue:n}=t,i=document.createElement("option");i.textContent=e,i.value=n,A.append(i)}A.options.length>0&&(A.options[0].selected=!0),t.setValue(e,{value:s(n,!0),items:a(n)})},indices(n){const A=new Set(n.detail.indices);for(const t of n.target.options)t.selected=A.has(t.index);t.setValue(e,{value:s(n,!0)})},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(i,n)}),A.addEventListener("input",n=>{var A;const i=s(n,!0),r=s(n,!1);t.setValue(e,{value:i}),null===(A=this.linkService.eventBus)||void 0===A||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,changeEx:i,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(A,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],t=>t.target.checked)):A.addEventListener("input",function(n){t.setValue(e,{value:s(n,!0)})}),this.data.combo&&this._setTextStyle(A),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.append(A),this.container}}class y extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const t='[data-annotation-id="'.concat(this.data.parentId,'"]'),e=this.layer.querySelectorAll(t);if(0===e.length)return this.container;const n=new b({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),i=this.page,r=A.Util.normalizeRect([this.data.parentRect[0],i.view[3]-this.data.parentRect[1]+i.view[1],this.data.parentRect[2],i.view[3]-this.data.parentRect[3]+i.view[1]]),s=r[0]+this.data.parentRect[2]-this.data.parentRect[0],a=r[1],[o,l,c,h]=this.viewport.viewBox,u=c-o,d=h-l;return this.container.style.left="".concat(100*(s-o)/u,"%"),this.container.style.top="".concat(100*(a-l)/d,"%"),this.container.append(n.render()),this.container}}class b{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){var t,e;const n=document.createElement("div");n.className="popupWrapper",this.hideElement=this.hideWrapper?n:this.container,this.hideElement.hidden=!0;const r=document.createElement("div");r.className="popup";const s=this.color;if(s){const t=.7*(255-s[0])+s[0],e=.7*(255-s[1])+s[1],n=.7*(255-s[2])+s[2];r.style.backgroundColor=A.Util.makeHexColor(0|t,0|e,0|n)}const o=document.createElement("h1");o.dir=this.titleObj.dir,o.textContent=this.titleObj.str,r.append(o);const l=i.PDFDateString.toDateObject(this.modificationDate);if(l){const t=document.createElement("span");t.className="popupDate",t.textContent="{{date}}, {{time}}",t.dataset.l10nId="annotation_date_string",t.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),r.append(t)}if(null===(t=this.richText)||void 0===t||!t.str||null!==(e=this.contentsObj)&&void 0!==e&&e.str&&this.contentsObj.str!==this.richText.str){const t=this._formatContents(this.contentsObj);r.append(t)}else a.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:r}),r.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const A of this.trigger)A.addEventListener("click",this._toggle.bind(this)),A.addEventListener("mouseover",this._show.bind(this,!1)),A.addEventListener("mouseout",this._hide.bind(this,!1));return r.addEventListener("click",this._hide.bind(this,!0)),n.append(r),n}_formatContents(t){let{str:e,dir:n}=t;const A=document.createElement("p");A.className="popupContent",A.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let r=0,s=i.length;r<s;++r){const t=i[r];A.append(document.createTextNode(t)),r<s-1&&A.append(document.createElement("br"))}return A}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class C extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0}),this.textContent=t.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const t=document.createElement("div");t.className="annotationTextContent",t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _ extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:e,height:n}=c(t.rect),A=this.svgFactory.create(e,n,!0),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),A.append(i),this.container.append(A),this._createPopup(i,t),this.container}}class F extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:e,height:n}=c(t.rect),A=this.svgFactory.create(e,n,!0),i=t.borderStyle.width,r=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",i/2),r.setAttribute("y",i/2),r.setAttribute("width",e-i),r.setAttribute("height",n-i),r.setAttribute("stroke-width",i||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),A.append(r),this.container.append(A),this._createPopup(r,t),this.container}}class E extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:e,height:n}=c(t.rect),A=this.svgFactory.create(e,n,!0),i=t.borderStyle.width,r=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",e/2),r.setAttribute("cy",n/2),r.setAttribute("rx",e/2-i/2),r.setAttribute("ry",n/2-i/2),r.setAttribute("stroke-width",i||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),A.append(r),this.container.append(A),this._createPopup(r,t),this.container}}class x extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:e,height:n}=c(t.rect),A=this.svgFactory.create(e,n,!0);let i=[];for(const s of t.vertices){const e=s.x-t.rect[0],n=t.rect[3]-s.y;i.push(e+","+n)}i=i.join(" ");const r=this.svgFactory.createElement(this.svgElementName);return r.setAttribute("points",i),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),A.append(r),this.container.append(A),this._createPopup(r,t),this.container}}class S extends x{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class k extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class U extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:e,height:n}=c(t.rect),A=this.svgFactory.create(e,n,!0);for(const i of t.inkLists){let e=[];for(const A of i){const n=A.x-t.rect[0],i=t.rect[3]-A.y;e.push("".concat(n,",").concat(i))}e=e.join(" ");const n=this.svgFactory.createElement(this.svgElementName);n.setAttribute("points",e),n.setAttribute("stroke-width",t.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),this._createPopup(n,t),A.append(n)}return this.container.append(A),this.container}}class Q extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class P extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class M extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class I extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class T extends u{constructor(t){var e,n,A;super(t,{isRenderable:!!(t.data.hasPopup||null!==(e=t.data.titleObj)&&void 0!==e&&e.str||null!==(n=t.data.contentsObj)&&void 0!==n&&n.str||null!==(A=t.data.richText)&&void 0!==A&&A.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class D extends u{constructor(t){var e;super(t,{isRenderable:!0});const{filename:n,content:A}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(n),this.content=A,null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("fileattachmentannotation",{source:this,filename:n,content:A})}render(){var t,e;this.container.className="fileAttachmentAnnotation";const n=document.createElement("div");return n.className="popupTriggerArea",n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(t=this.data.titleObj)&&void 0!==t&&t.str||null!==(e=this.data.contentsObj)&&void 0!==e&&e.str||this.data.richText)&&this._createPopup(n,this.data),this.container.append(n),this.container}_download(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.container,this.content,this.filename)}}class L{static render(t){const{annotations:e,div:n,viewport:s,accessibilityManager:a}=t;_assertClassBrand(L,this,O).call(this,n,s);let o=0;for(const l of e){if(l.annotationType!==A.AnnotationType.POPUP){const{width:t,height:e}=c(l.rect);if(t<=0||e<=0)continue}const e=h.create({data:l,layer:n,page:t.page,viewport:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:t.annotationStorage||new r.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(e.isRenderable){const t=e.render();if(l.hidden&&(t.style.visibility="hidden"),Array.isArray(t))for(const e of t)e.style.zIndex=o++,R.call(L,e,l.id,n,a);else t.style.zIndex=o++,e instanceof y?n.prepend(t):R.call(L,t,l.id,n,a)}}_assertClassBrand(L,this,H).call(this,n,t.annotationCanvasMap)}static update(t){const{annotationCanvasMap:e,div:n,viewport:A}=t;_assertClassBrand(L,this,O).call(this,n,A),_assertClassBrand(L,this,H).call(this,n,e),n.hidden=!1}}function R(t,e,n,A){const r=t.firstChild||t;r.id="".concat(i.AnnotationPrefix).concat(e),n.append(t),null===A||void 0===A||A.moveElementInDOM(n,t,r,!1)}function O(t,e){let{width:n,height:A,rotation:i}=e;const{style:r}=t,s=i%180!==0,a=Math.floor(n)+"px",o=Math.floor(A)+"px";r.width=s?o:a,r.height=s?a:o,t.setAttribute("data-main-rotation",i)}function H(t,e){if(e){for(const[n,A]of e){const e=t.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!e)continue;const{firstChild:i}=e;i?"CANVAS"===i.nodeName?i.replaceWith(A):i.before(A):e.append(A)}e.clear()}}e.AnnotationLayer=L},(t,e)=>{function n(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0,e.ColorConverters=class{static CMYK_G(t){let[e,n,A,i]=t;return["G",1-Math.min(1,.3*e+.59*A+.11*n+i)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_HTML(t){let[e]=t;const A=n(e);return"#".concat(A).concat(A).concat(A)}static RGB_G(t){let[e,n,A]=t;return["G",.3*e+.59*n+.11*A]}static RGB_HTML(t){let[e,A,i]=t;const r=n(e),s=n(A),a=n(i);return"#".concat(r).concat(s).concat(a)}static T_HTML(){return"#00000000"}static CMYK_RGB(t){let[e,n,A,i]=t;return["RGB",1-Math.min(1,e+i),1-Math.min(1,A+i),1-Math.min(1,n+i)]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,A]=t;const i=1-e,r=1-n,s=1-A;return["CMYK",i,r,s,Math.min(i,r,s)]}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var A=n(20);e.XfaLayer=class{static setupStorage(t,e,n,A,i){const r=A.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==r.value&&(t.textContent=r.value),"print"===i)break;t.addEventListener("input",t=>{A.setValue(e,{value:t.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(r.value===n.attributes.xfaOn?t.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",t=>{A.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})})}else{if(null!==r.value&&t.setAttribute("value",r.value),"print"===i)break;t.addEventListener("input",t=>{A.setValue(e,{value:t.target.value})})}break;case"select":if(null!==r.value)for(const t of n.children)t.attributes.value===r.value&&(t.attributes.selected=!0);t.addEventListener("input",t=>{const n=t.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;A.setValue(e,{value:i})})}}static setAttributes(t){let{html:e,element:n,storage:A=null,intent:i,linkService:r}=t;const{attributes:s}=n,a=e instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(i));for(const[o,l]of Object.entries(s))if(null!==l&&void 0!==l)switch(o){case"class":l.length&&e.setAttribute(o,l.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",l);break;case"style":Object.assign(e.style,l);break;case"textContent":e.textContent=l;break;default:(!a||"href"!==o&&"newWindow"!==o)&&e.setAttribute(o,l)}a&&r.addLinkAttributes(e,s.href,s.newWindow),A&&s.dataId&&this.setupStorage(e,s.dataId,n,A)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,r=t.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:r,linkService:n});const a=[[i,-1,s]],o=t.div;if(o.append(s),t.viewport){const e="matrix(".concat(t.viewport.transform.join(","),")");o.style.transform=e}"richText"!==r&&o.setAttribute("class","xfaLayer xfaFont");const l=[];for(;a.length>0;){var c;const[t,i,s]=a.at(-1);if(i+1===t.children.length){a.pop();continue}const o=t.children[++a.at(-1)[1]];if(null===o)continue;const{name:h}=o;if("#text"===h){const t=document.createTextNode(o.value);l.push(t),s.append(t);continue}let u;if(u=null!==o&&void 0!==o&&null!==(c=o.attributes)&&void 0!==c&&c.xmlns?document.createElementNS(o.attributes.xmlns,h):document.createElement(h),s.append(u),o.attributes&&this.setAttributes({html:u,element:o,storage:e,intent:r,linkService:n}),o.children&&o.children.length>0)a.push([o,-1,u]);else if(o.value){const t=document.createTextNode(o.value);A.XfaText.shouldBuildText(h)&&l.push(t),u.append(t)}}for(const A of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=function(t){const e=new d({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e};var A=n(1),i=n(8);const r=30,s=new Map,a=/^\s+$/g;function o(t,e,n,i){const o=document.createElement("span"),l=t._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};t._textDivs.push(o);const c=A.Util.transform(t._viewport.transform,e.transform);let h=Math.atan2(c[1],c[0]);const u=n[e.fontName];u.vertical&&(h+=Math.PI/2);const d=Math.hypot(c[2],c[3]),p=d*function(t,e){const n=s.get(t);if(n)return n;e.save(),e.font="".concat(r,"px ").concat(t);const A=e.measureText("");let i=A.fontBoundingBoxAscent,a=Math.abs(A.fontBoundingBoxDescent);if(i){e.restore();const n=i/(i+a);return s.set(t,n),n}e.strokeStyle="red",e.clearRect(0,0,r,r),e.strokeText("g",0,0);let o=e.getImageData(0,0,r,r).data;a=0;for(let s=o.length-1-3;s>=0;s-=4)if(o[s]>0){a=Math.ceil(s/4/r);break}e.clearRect(0,0,r,r),e.strokeText("A",0,r),o=e.getImageData(0,0,r,r).data,i=0;for(let s=0,l=o.length;s<l;s+=4)if(o[s]>0){i=r-Math.floor(s/4/r);break}if(e.restore(),i){const e=i/(i+a);return s.set(t,e),e}return s.set(t,.8),.8}(u.fontFamily,i);let g,f;0===h?(g=c[4],f=c[5]-p):(g=c[4]+p*Math.sin(h),f=c[5]-p*Math.cos(h)),o.style.left="".concat(g,"px"),o.style.top="".concat(f,"px"),o.style.fontSize="".concat(d,"px"),o.style.fontFamily=u.fontFamily,l.fontSize=d,o.setAttribute("role","presentation"),o.textContent=e.str,o.dir=e.dir,t._fontInspectorEnabled&&(o.dataset.fontName=e.fontName),0!==h&&(l.angle=h*(180/Math.PI));let m=!1;if(e.str.length>1||t._enhanceTextSelection&&a.test(e.str))m=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(m=!0)}if(m&&(u.vertical?l.canvasWidth=e.height*t._viewport.scale:l.canvasWidth=e.width*t._viewport.scale),t._textDivProperties.set(o,l),t._textContentStream&&t._layoutText(o),t._enhanceTextSelection&&l.hasText){let n=1,i=0;0!==h&&(n=Math.cos(h),i=Math.sin(h));const r=(u.vertical?e.height:e.width)*t._viewport.scale,s=d;let a,l;0!==h?(a=[n,i,-i,n,g,f],l=A.Util.getAxialAlignedBoundingBox([0,0,r,s],a)):l=[g,f,g+r,f+s],t._bounds.push({left:l[0],top:l[1],right:l[2],bottom:l[3],div:o,size:[r,s],m:a})}}function l(t){if(t._canceled)return;const e=t._textDivs,n=t._capability,A=e.length;if(A>1e5)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(let i=0;i<A;i++)t._layoutText(e[i]);t._renderingDone=!0,n.resolve()}function c(t,e,n){let A=0;for(let i=0;i<n;i++){const n=t[e++];n>0&&(A=A?Math.min(n,A):n)}return A}function h(t){const e=t._bounds,n=t._viewport,i=function(t,e,n){const A=n.map(function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}});u(t,A);const i=new Array(n.length);for(const r of A){const t=r.index;i[t]={left:r.x1New,top:0,right:r.x2New,bottom:0}}n.map(function(e,n){const r=i[n],s=A[n];s.x1=e.top,s.y1=t-r.right,s.x2=e.bottom,s.y2=t-r.left,s.index=n,s.x1New=void 0,s.x2New=void 0}),u(e,A);for(const r of A){const t=r.index;i[t].top=r.x1New,i[t].bottom=r.x2New}return i}(n.width,n.height,e);for(let r=0;r<i.length;r++){const n=e[r].div,s=t._textDivProperties.get(n);if(0===s.angle){s.paddingLeft=e[r].left-i[r].left,s.paddingTop=e[r].top-i[r].top,s.paddingRight=i[r].right-e[r].right,s.paddingBottom=i[r].bottom-e[r].bottom,t._textDivProperties.set(n,s);continue}const a=i[r],o=e[r],l=o.m,h=l[0],u=l[1],d=[[0,0],[0,o.size[1]],[o.size[0],0],o.size],p=new Float64Array(64);for(let t=0,e=d.length;t<e;t++){const e=A.Util.applyTransform(d[t],l);p[t+0]=h&&(a.left-e[0])/h,p[t+4]=u&&(a.top-e[1])/u,p[t+8]=h&&(a.right-e[0])/h,p[t+12]=u&&(a.bottom-e[1])/u,p[t+16]=u&&(a.left-e[0])/-u,p[t+20]=h&&(a.top-e[1])/h,p[t+24]=u&&(a.right-e[0])/-u,p[t+28]=h&&(a.bottom-e[1])/h,p[t+32]=h&&(a.left-e[0])/-h,p[t+36]=u&&(a.top-e[1])/-u,p[t+40]=h&&(a.right-e[0])/-h,p[t+44]=u&&(a.bottom-e[1])/-u,p[t+48]=u&&(a.left-e[0])/u,p[t+52]=h&&(a.top-e[1])/-h,p[t+56]=u&&(a.right-e[0])/u,p[t+60]=h&&(a.bottom-e[1])/-h}const g=1+Math.min(Math.abs(h),Math.abs(u));s.paddingLeft=c(p,32,16)/g,s.paddingTop=c(p,48,16)/g,s.paddingRight=c(p,0,16)/g,s.paddingBottom=c(p,16,16)/g,t._textDivProperties.set(n,s)}}function u(t,e){e.sort(function(t,e){return t.x1-e.x1||t.index-e.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const A of e){let t=0;for(;t<n.length&&n[t].end<=A.y1;)t++;let e,i,r=n.length-1;for(;r>=0&&n[r].start>=A.y2;)r--;let s,a,o=-1/0;for(s=t;s<=r;s++){let t;e=n[s],i=e.boundary,t=i.x2>A.x1?i.index>A.index?i.x1New:A.x1:void 0===i.x2New?(i.x2+A.x1)/2:i.x2New,t>o&&(o=t)}for(A.x1New=o,s=t;s<=r;s++)e=n[s],i=e.boundary,void 0===i.x2New?i.x2>A.x1?i.index>A.index&&(i.x2New=i.x2):i.x2New=o:i.x2New>o&&(i.x2New=Math.max(o,i.x2));const l=[];let c=null;for(s=t;s<=r;s++){e=n[s],i=e.boundary;const t=i.x2>A.x2?i:A;c===t?l.at(-1).end=e.end:(l.push({start:e.start,end:e.end,boundary:t}),c=t)}for(n[t].start<A.y1&&(l[0].start=A.y1,l.unshift({start:n[t].start,end:A.y1,boundary:n[t].boundary})),A.y2<n[r].end&&(l.at(-1).end=A.y2,l.push({start:A.y2,end:n[r].end,boundary:n[r].boundary})),s=t;s<=r;s++){if(e=n[s],i=e.boundary,void 0!==i.x2New)continue;let A=!1;for(a=t-1;!A&&a>=0&&n[a].start>=i.y1;a--)A=n[a].boundary===i;for(a=r+1;!A&&a<n.length&&n[a].end<=i.y2;a++)A=n[a].boundary===i;for(a=0;!A&&a<l.length;a++)A=l[a].boundary===i;A||(i.x2New=o)}Array.prototype.splice.apply(n,[t,r-t+1,...l])}for(const A of n){const e=A.boundary;void 0===e.x2New&&(e.x2New=Math.max(t,e.x2))}}class d{constructor(t){var e;let{textContent:n,textContentStream:r,container:s,viewport:a,textDivs:o,textContentItemsStr:l,enhanceTextSelection:c}=t;c&&(0,i.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=n,this._textContentStream=r,this._container=s,this._document=s.ownerDocument,this._viewport=a,this._textDivs=o||[],this._textContentItemsStr=l||[],this._enhanceTextSelection=!!c,this._fontInspectorEnabled=!(null===(e=globalThis.FontInspector)||void 0===e||!e.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,A.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new A.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(t,e){for(let n=0,A=t.length;n<A;n++)if(void 0!==t[n].str)this._textContentItemsStr.push(t[n].str),o(this,t[n],e,this._layoutTextCtx);else if("beginMarkedContentProps"===t[n].type||"beginMarkedContent"===t[n].type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==t[n].id&&this._container.setAttribute("id","".concat(t[n].id)),e.append(this._container)}else"endMarkedContent"===t[n].type&&(this._container=this._container.parentNode)}_layoutText(t){const e=this._textDivProperties.get(t);let n="";if(0!==e.canvasWidth&&e.hasText){const{fontFamily:A}=t.style,{fontSize:i}=e;i===this._layoutTextLastFontSize&&A===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i*this._devicePixelRatio,"px ").concat(A),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=A);const{width:r}=this._layoutTextCtx.measureText(t.textContent);if(r>0){const t=this._devicePixelRatio*e.canvasWidth/r;this._enhanceTextSelection&&(e.scale=t),n="scaleX(".concat(t,")")}}if(0!==e.angle&&(n="rotate(".concat(e.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),t.style.transform=n),e.hasText&&this._container.append(t),e.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.append(t)}}_render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=(0,A.createPromiseCapability)();let n=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=r,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent){const t=this._textContent.items,n=this._textContent.styles;this._processItems(t,n),e.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const t=()=>{this._reader.read().then(A=>{let{value:i,done:r}=A;r?e.resolve():(Object.assign(n,i.styles),this._processItems(i.items,n),t())},e.reject)};this._reader=this._textContentStream.getReader(),t()}}e.promise.then(()=>{n=null,t?this._renderTimer=setTimeout(()=>{l(this),this._renderTimer=null},t):l(this)},this._capability.reject)}expandTextDivs(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(h(this),this._bounds=null);const e=[],n=[];for(let A=0,i=this._textDivs.length;A<i;A++){const i=this._textDivs[A],r=this._textDivProperties.get(i);r.hasText&&(t?(e.length=0,n.length=0,r.originalTransform&&e.push(r.originalTransform),r.paddingTop>0?(n.push("".concat(r.paddingTop,"px")),e.push("translateY(".concat(-r.paddingTop,"px)"))):n.push(0),r.paddingRight>0?n.push("".concat(r.paddingRight/r.scale,"px")):n.push(0),r.paddingBottom>0?n.push("".concat(r.paddingBottom,"px")):n.push(0),r.paddingLeft>0?(n.push("".concat(r.paddingLeft/r.scale,"px")),e.push("translateX(".concat(-r.paddingLeft/r.scale,"px)"))):n.push(0),i.style.padding=n.join(" "),e.length&&(i.style.transform=e.join(" "))):(i.style.padding=null,i.style.transform=r.originalTransform))}}}e.TextLayerRenderTask=d},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var A=n(8),i=n(1),r=n(3);let s=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=s;{const a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},o="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/1999/xlink",c=["butt","round","square"],h=["miter","round","bevel"],u=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!n)return URL.createObjectURL(new Blob([t],{type:e}));const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i="data:".concat(e,";base64,");for(let r=0,s=t.length;r<s;r+=3){const e=255&t[r],n=255&t[r+1],a=255&t[r+2];i+=A[e>>2]+A[(3&e)<<4|n>>4]+A[r+1<s?(15&n)<<2|a>>6:64]+A[r+2<s?63&a:64]}return i},d=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256);for(let i=0;i<256;i++){let t=i;for(let e=0;e<8;e++)t=1&t?3988292384^t>>1&2147483647:t>>1&2147483647;e[i]=t}function n(t,n,A,i){let r=i;const s=n.length;A[r]=s>>24&255,A[r+1]=s>>16&255,A[r+2]=s>>8&255,A[r+3]=255&s,r+=4,A[r]=255&t.charCodeAt(0),A[r+1]=255&t.charCodeAt(1),A[r+2]=255&t.charCodeAt(2),A[r+3]=255&t.charCodeAt(3),r+=4,A.set(n,r),r+=n.length;const a=function(t,n,A){let i=-1;for(let r=n;r<A;r++){const n=255&(i^t[r]);i=i>>>8^e[n]}return-1^i}(A,i+4,r);A[r]=a>>24&255,A[r+1]=a>>16&255,A[r+2]=a>>8&255,A[r+3]=255&a}function A(t){let e=t.length;const n=65535,A=Math.ceil(e/n),i=new Uint8Array(2+e+5*A+4);let r=0;i[r++]=120,i[r++]=156;let s=0;for(;e>n;)i[r++]=0,i[r++]=255,i[r++]=255,i[r++]=0,i[r++]=0,i.set(t.subarray(s,s+n),r),r+=n,s+=n,e-=n;i[r++]=1,i[r++]=255&e,i[r++]=e>>8&255,i[r++]=255&~e,i[r++]=(65535&~e)>>8&255,i.set(t.subarray(s),r),r+=t.length-s;const a=function(t,e,n){let A=1,i=0;for(let r=e;r<n;++r)A=(A+(255&t[r]))%65521,i=(i+A)%65521;return i<<16|A}(t,0,t.length);return i[r++]=a>>24&255,i[r++]=a>>16&255,i[r++]=a>>8&255,i[r++]=255&a,i}function s(e,s,a,o){const l=e.width,c=e.height;let h,d,p;const g=e.data;switch(s){case i.ImageKind.GRAYSCALE_1BPP:d=0,h=1,p=l+7>>3;break;case i.ImageKind.RGB_24BPP:d=2,h=8,p=3*l;break;case i.ImageKind.RGBA_32BPP:d=6,h=8,p=4*l;break;default:throw new Error("invalid format")}const f=new Uint8Array((1+p)*c);let m=0,v=0;for(let t=0;t<c;++t)f[m++]=0,f.set(g.subarray(v,v+p),m),v+=p,m+=p;if(s===i.ImageKind.GRAYSCALE_1BPP&&o){m=0;for(let t=0;t<c;t++){m++;for(let t=0;t<p;t++)f[m++]^=255}}const w=new Uint8Array([l>>24&255,l>>16&255,l>>8&255,255&l,c>>24&255,c>>16&255,c>>8&255,255&c,h,d,0,0,0]),B=function(t){if(!r.isNodeJS)return A(t);try{let e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);const n=__webpack_require__(193).deflateSync(e,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return A(t)}(f),y=t.length+36+w.length+B.length,b=new Uint8Array(y);let C=0;return b.set(t,C),C+=t.length,n("IHDR",w,b,C),C+=12+w.length,n("IDATA",B,b,C),C+=12+B.length,n("IEND",new Uint8Array(0),b,C),u(b,"image/png",a)}return function(t,e,n){return s(t,void 0===t.kind?i.ImageKind.GRAYSCALE_1BPP:t.kind,e,n)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,e){this.x=t,this.y=e}}function g(t){let e=[];const n=[];for(const A of t)"save"!==A.fn?"restore"===A.fn?e=n.pop():e.push(A):(e.push({fnId:92,fn:"group",items:[]}),n.push(e),e=e.at(-1).items);return e}function f(t){if(Number.isInteger(t))return t.toString();const e=t.toFixed(10);let n=e.length-1;if("0"!==e[n])return e;do{n--}while("0"===e[n]);return e.substring(0,"."===e[n]?n:n+1)}function m(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale(".concat(f(t[0])," ").concat(f(t[3]),")");if(t[0]===t[3]&&t[1]===-t[2]){const e=180*Math.acos(t[0])/Math.PI;return"rotate(".concat(f(e),")")}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate(".concat(f(t[4])," ").concat(f(t[5]),")");return"matrix(".concat(f(t[0])," ").concat(f(t[1])," ").concat(f(t[2])," ").concat(f(t[3])," ").concat(f(t[4])," ")+"".concat(f(t[5]),")")}let v=0,w=0,B=0;e.SVGGraphics=s=class{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,A.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new A.DOMSVGFactory,this.current=new p,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=e,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const A in i.OPS)this._operatorIdMapping[i.OPS[A]]=A}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const e=t.fnArray,n=t.argsArray;for(let A=0,r=e.length;A<r;A++)if(e[A]===i.OPS.dependency)for(const t of n[A]){const e=t.startsWith("g_")?this.commonObjs:this.objs,n=new Promise(n=>{e.get(t,n)});this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(t,e,n,A,r,s){const a=[t,e,n,A,r,s];this.transformMatrix=i.Util.transform(this.transformMatrix,a),this.tgrp=null}getSVG(t,e){this.viewport=e;const n=this._initialize(e);return this.loadDependencies(t).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),n))}convertOpList(t){const e=this._operatorIdMapping,n=t.argsArray,A=t.fnArray,i=[];for(let r=0,s=A.length;r<s;r++){const t=A[r];i.push({fnId:t,fn:e[t],args:n[r]})}return g(i)}executeOpTree(t){for(const e of t){const t=e.fn,n=e.fnId,A=e.args;switch(0|n){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(A);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(A[0],A[1]);break;case i.OPS.setFont:this.setFont(A);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(A[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(A[0],A[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(A[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(A[0]);break;case i.OPS.setHScale:this.setHScale(A[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(A[0],A[1],A[2],A[3],A[4],A[5]);break;case i.OPS.setTextRise:this.setTextRise(A[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(A[0]);break;case i.OPS.setLineWidth:this.setLineWidth(A[0]);break;case i.OPS.setLineJoin:this.setLineJoin(A[0]);break;case i.OPS.setLineCap:this.setLineCap(A[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(A[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(A[0],A[1],A[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(A[0],A[1],A[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(A);break;case i.OPS.setFillColorN:this.setFillColorN(A);break;case i.OPS.shadingFill:this.shadingFill(A[0]);break;case i.OPS.setDash:this.setDash(A[0],A[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(A[0]);break;case i.OPS.setFlatness:this.setFlatness(A[0]);break;case i.OPS.setGState:this.setGState(A[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(A[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(A[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(A[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(A[0],A[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(A[0],A[1],A[2],A[3],A[4],A[5]);break;case i.OPS.constructPath:this.constructPath(A[0],A[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(e.items);break;default:(0,i.warn)("Unimplemented operator ".concat(t))}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,e,n,A,i,r){const s=this.current;s.textMatrix=s.lineMatrix=[t,e,n,A,i,r],s.textMatrixScale=Math.hypot(t,e),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size","".concat(f(s.fontSize),"px")),s.tspan.setAttributeNS(null,"y",f(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.append(s.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=i.IDENTITY_MATRIX,t.lineMatrix=i.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,e){const n=this.current;n.x=n.lineX+=t,n.y=n.lineY+=e,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(f(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",f(-n.y))}showText(t){const e=this.current,n=e.font,A=e.fontSize;if(0===A)return;const r=e.fontSizeScale,s=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,h=e.textHScale*c,u=n.vertical,d=u?1:-1,p=n.defaultVMetrics,g=A*e.fontMatrix[0];let v=0;for(const i of t){if(null===i){v+=c*l;continue}if("number"===typeof i){v+=d*i*A/1e3;continue}const t=(i.isSpace?l:0)+s,a=i.fontChar;let o,h,f,m=i.width;if(u){let t;const e=i.vmetric||p;t=i.vmetric?e[1]:.5*m,t=-t*g;const n=e[2]*g;m=e?-e[0]:m,o=t/r,h=(v+n)/r}else o=v/r,h=0;(i.isInFont||n.missingFile)&&(e.xcoords.push(e.x+o),u&&e.ycoords.push(-e.y+h),e.tspan.textContent+=a),f=u?m*g-t*c:m*g+t*c,v+=f}e.tspan.setAttributeNS(null,"x",e.xcoords.map(f).join(" ")),u?e.tspan.setAttributeNS(null,"y",e.ycoords.map(f).join(" ")):e.tspan.setAttributeNS(null,"y",f(-e.y)),u?e.y-=v:e.x+=v*h,e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size","".concat(f(e.fontSize),"px")),e.fontStyle!==a.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==a.fontWeight&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight);const w=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(w===i.TextRenderingMode.FILL||w===i.TextRenderingMode.FILL_STROKE?(e.fillColor!==a.fillColor&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.fillAlpha<1&&e.tspan.setAttributeNS(null,"fill-opacity",e.fillAlpha)):e.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?e.tspan.setAttributeNS(null,"fill","transparent"):e.tspan.setAttributeNS(null,"fill","none"),w===i.TextRenderingMode.STROKE||w===i.TextRenderingMode.FILL_STROKE){const t=1/(e.textMatrixScale||1);this._setStrokeAttributes(e.tspan,t)}let B=e.textMatrix;0!==e.textRise&&(B=B.slice(),B[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform","".concat(m(B)," scale(").concat(f(h),", -1)")),e.txtElement.setAttributeNS(o,"xml:space","preserve"),e.txtElement.append(e.tspan),e.txtgrp.append(e.txtElement),this._ensureTransformGroup().append(e.txtElement)}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const e=u(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(e,"); }\n")}setFont(t){const e=this.current,n=this.commonObjs.get(t[0]);let A=t[1];e.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),e.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX;let r="normal";n.black?r="900":n.bold&&(r="bold");const s=n.italic?"italic":"normal";A<0?(A=-A,e.fontDirection=-1):e.fontDirection=1,e.fontSize=A,e.fontFamily=n.loadedName,e.fontWeight=r,e.fontStyle=s,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",f(-e.y)),e.xcoords=[],e.ycoords=[]}endText(){var t;const e=this.current;e.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(t=e.txtElement)&&void 0!==t&&t.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=c[t]}setLineJoin(t){this.current.lineJoin=h[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,e,n){this.current.strokeColor=i.Util.makeHexColor(t,e,n)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,e,n){this.current.fillColor=i.Util.makeHexColor(t,e,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const e=this.viewport.width,n=this.viewport.height,A=i.Util.inverseTransform(this.transformMatrix),r=i.Util.applyTransform([0,0],A),s=i.Util.applyTransform([0,n],A),a=i.Util.applyTransform([e,0],A),o=i.Util.applyTransform([e,n],A),l=Math.min(r[0],s[0],a[0],o[0]),c=Math.min(r[1],s[1],a[1],o[1]),h=Math.max(r[0],s[0],a[0],o[0]),u=Math.max(r[1],s[1],a[1],o[1]),d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",l),d.setAttributeNS(null,"y",c),d.setAttributeNS(null,"width",h-l),d.setAttributeNS(null,"height",u-c),d.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&d.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(d)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const e=t[1],n=t[2],A=t[3]||i.IDENTITY_MATRIX,[r,s,a,o]=t[4],l=t[5],c=t[6],h=t[7],u="shading".concat(B++),[d,p,g,f]=i.Util.normalizeRect([...i.Util.applyTransform([r,s],A),...i.Util.applyTransform([a,o],A)]),[m,v]=i.Util.singularValueDecompose2dScale(A),w=l*m,y=c*v,b=this.svgFactory.createElement("svg:pattern");b.setAttributeNS(null,"id",u),b.setAttributeNS(null,"patternUnits","userSpaceOnUse"),b.setAttributeNS(null,"width",w),b.setAttributeNS(null,"height",y),b.setAttributeNS(null,"x","".concat(d)),b.setAttributeNS(null,"y","".concat(p));const C=this.svg,_=this.transformMatrix,F=this.current.fillColor,E=this.current.strokeColor,x=this.svgFactory.create(g-d,f-p);if(this.svg=x,this.transformMatrix=A,2===h){const t=i.Util.makeHexColor(...e);this.current.fillColor=t,this.current.strokeColor=t}return this.executeOpTree(this.convertOpList(n)),this.svg=C,this.transformMatrix=_,this.current.fillColor=F,this.current.strokeColor=E,b.append(x.childNodes[0]),this.defs.append(b),"url(#".concat(u,")")}_makeShadingPattern(t){switch("string"===typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const e="shading".concat(B++),n=t[3];let A;switch(t[1]){case"axial":const n=t[4],i=t[5];A=this.svgFactory.createElement("svg:linearGradient"),A.setAttributeNS(null,"id",e),A.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),A.setAttributeNS(null,"x1",n[0]),A.setAttributeNS(null,"y1",n[1]),A.setAttributeNS(null,"x2",i[0]),A.setAttributeNS(null,"y2",i[1]);break;case"radial":const r=t[4],s=t[5],a=t[6],o=t[7];A=this.svgFactory.createElement("svg:radialGradient"),A.setAttributeNS(null,"id",e),A.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),A.setAttributeNS(null,"cx",s[0]),A.setAttributeNS(null,"cy",s[1]),A.setAttributeNS(null,"r",o),A.setAttributeNS(null,"fx",r[0]),A.setAttributeNS(null,"fy",r[1]),A.setAttributeNS(null,"fr",a);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}for(const t of n){const e=this.svgFactory.createElement("svg:stop");e.setAttributeNS(null,"offset",t[0]),e.setAttributeNS(null,"stop-color",t[1]),A.append(e)}return this.defs.append(A),"url(#".concat(e,")");case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}setDash(t,e){this.current.dashArray=t,this.current.dashPhase=e}constructPath(t,e){const n=this.current;let A=n.x,r=n.y,s=[],a=0;for(const o of t)switch(0|o){case i.OPS.rectangle:A=e[a++],r=e[a++];const t=A+e[a++],n=r+e[a++];s.push("M",f(A),f(r),"L",f(t),f(r),"L",f(t),f(n),"L",f(A),f(n),"Z");break;case i.OPS.moveTo:A=e[a++],r=e[a++],s.push("M",f(A),f(r));break;case i.OPS.lineTo:A=e[a++],r=e[a++],s.push("L",f(A),f(r));break;case i.OPS.curveTo:A=e[a+4],r=e[a+5],s.push("C",f(e[a]),f(e[a+1]),f(e[a+2]),f(e[a+3]),f(A),f(r)),a+=6;break;case i.OPS.curveTo2:s.push("C",f(A),f(r),f(e[a]),f(e[a+1]),f(e[a+2]),f(e[a+3])),A=e[a+2],r=e[a+3],a+=4;break;case i.OPS.curveTo3:A=e[a+2],r=e[a+3],s.push("C",f(e[a]),f(e[a+1]),f(A),f(r),f(A),f(r)),a+=4;break;case i.OPS.closePath:s.push("Z")}s=s.join(" "),n.path&&t.length>0&&t[0]!==i.OPS.rectangle&&t[0]!==i.OPS.moveTo?s=n.path.getAttributeNS(null,"d")+s:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",s),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(A,r)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const e="clippath".concat(v++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",e),n.setAttributeNS(null,"transform",m(this.transformMatrix));const A=t.element.cloneNode(!0);if("evenodd"===this.pendingClip?A.setAttributeNS(null,"clip-rule","evenodd"):A.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(A),this.defs.append(n),t.activeClipUrl){t.clipGroup=null;for(const t of this.extraStack)t.clipGroup=null;n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(e,")"),this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const e="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",e)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)("Unimplemented graphic state operator ".concat(e))}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.current;let A=n.dashArray;1!==e&&A.length>0&&(A=A.map(function(t){return e*t})),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",f(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",f(e*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",A.map(f).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",f(e*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(t)}paintImageXObject(t){const e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image with object ID ".concat(t," is not ready yet"))}paintInlineImageXObject(t,e){const n=t.width,A=t.height,i=d(t,this.forceDataSchema,!!e),r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x","0"),r.setAttributeNS(null,"y","0"),r.setAttributeNS(null,"width",f(n)),r.setAttributeNS(null,"height",f(A)),this.current.element=r,this.clip("nonzero");const s=this.svgFactory.createElement("svg:image");s.setAttributeNS(l,"xlink:href",i),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",f(-A)),s.setAttributeNS(null,"width",f(n)+"px"),s.setAttributeNS(null,"height",f(A)+"px"),s.setAttributeNS(null,"transform","scale(".concat(f(1/n)," ").concat(f(-1/A),")")),e?e.append(s):this._ensureTransformGroup().append(s)}paintImageMaskXObject(t){const e=this.current,n=t.width,A=t.height,i=e.fillColor;e.maskId="mask".concat(w++);const r=this.svgFactory.createElement("svg:mask");r.setAttributeNS(null,"id",e.maskId);const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",f(n)),s.setAttributeNS(null,"height",f(A)),s.setAttributeNS(null,"fill",i),s.setAttributeNS(null,"mask","url(#".concat(e.maskId,")")),this.defs.append(r),this._ensureTransformGroup().append(s),this.paintInlineImageXObject(t,r)}paintFormXObjectBegin(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){const t=e[2]-e[0],n=e[3]-e[1],A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x",e[0]),A.setAttributeNS(null,"y",e[1]),A.setAttributeNS(null,"width",f(t)),A.setAttributeNS(null,"height",f(n)),this.current.element=A,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const e=this.svgFactory.create(t.width,t.height),n=this.svgFactory.createElement("svg:defs");e.append(n),this.defs=n;const A=this.svgFactory.createElement("svg:g");return A.setAttributeNS(null,"transform",m(t.transform)),e.append(A),this.svg=A,e}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var A=n(1),i=n(33);const r=__webpack_require__(851),s=__webpack_require__(586),a=__webpack_require__(530),o=__webpack_require__(933),l=/^file:\/\/\/[a-zA-Z]:\//;e.PDFNodeStream=class{constructor(t){this.source=t,this.url=function(t){const e=o.parse(t);return"file:"===e.protocol||e.host?e:/^[a-z]:[/\\]/i.test(t)?o.parse("file:///".concat(t)):(e.host||(e.protocol="file:"),e)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return(0,A.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new d(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new f(this,t,e):new p(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class c{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,A.createPromiseCapability)(),this._headersCapability=(0,A.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,A.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new A.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,A.createPromiseCapability)();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,A.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class d extends c{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new A.MissingPDFException('Missing PDF "'.concat(this._url,'".'));return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const n=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:r,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=s.request(u(this._url,t.httpHeaders),e):this._request=a.request(u(this._url,t.httpHeaders),e),this._request.on("error",t=>{this._storedError=t,this._headersCapability.reject(t)}),this._request.end()}}class p extends h{constructor(t,e,n){super(t),this._httpHeaders={};for(const A in t.httpHeaders){const e=t.httpHeaders[A];"undefined"!==typeof e&&(this._httpHeaders[A]=e)}this._httpHeaders.Range="bytes=".concat(e,"-").concat(n-1);const i=t=>{if(404===t.statusCode){const t=new A.MissingPDFException('Missing PDF "'.concat(this._url,'".'));return void(this._storedError=t)}this._setReadableStream(t)};this._request=null,"http:"===this._url.protocol?this._request=s.request(u(this._url,this._httpHeaders),i):this._request=a.request(u(this._url,this._httpHeaders),i),this._request.on("error",t=>{this._storedError=t}),this._request.end()}}class g extends c{constructor(t){super(t);let e=decodeURIComponent(this._url.path);l.test(this._url.href)&&(e=e.replace(/^\//,"")),r.lstat(e,(t,n)=>{if(t)return"ENOENT"===t.code&&(t=new A.MissingPDFException('Missing PDF "'.concat(e,'".'))),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=n.size,this._setReadableStream(r.createReadStream(e)),this._headersCapability.resolve()})}}class f extends h{constructor(t,e,n){super(t);let A=decodeURIComponent(this._url.path);l.test(this._url.href)&&(A=A.replace(/^\//,"")),this._setReadableStream(r.createReadStream(A,{start:e,end:n-1}))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new A.MissingPDFException('Missing PDF "'+e+'".'):new A.UnexpectedResponseException("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t)},e.extractFilenameFromHeader=function(t){const e=t("Content-Disposition");if(e){let t=(0,i.getFilenameFromContentDispositionHeader)(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(n){}if((0,r.isPdfFile)(t))return t}return null},e.validateRangeRequestCapabilities=function(t){let{getResponseHeader:e,isHttp:n,rangeChunkSize:A,disableRange:i}=t;const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e("Content-Length"),10);return Number.isInteger(s)?(r.suggestedLength=s,s<=2*A||i||!n||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r):r},e.validateResponseStatus=function(t){return 200===t||206===t};var A=n(1),i=n(34),r=n(8)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=a(n);return t=unescape(t),t=o(t),t=l(t),s(t)}if(n=function(t){const e=[];let n;const A=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=A.exec(t));){let[,t,A,i]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[A,i]}const r=[];for(let i=0;i<e.length&&i in e;++i){let[t,n]=e[i];n=a(n),t&&(n=unescape(n),0===i&&(n=o(n))),r.push(n)}return r.join("")}(t),n)return s(l(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=a(n);return t=l(t),s(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function r(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),r=(0,A.stringToBytes)(n);n=i.decode(r),e=!1}catch(i){}}return n}function s(t){return e&&/[\x80-\xff]/.test(t)&&(t=r("utf-8",t),e&&(t=r("iso-8859-1",t))),t}function a(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function o(t){const e=t.indexOf("'");return-1===e?t:r(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(t,e,n,A){if("q"===n||"Q"===n)return r(e,A=(A=A.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}));try{A=atob(A)}catch(i){}return r(e,A)})}return""};var A=n(1)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var A=n(1),i=n(33);class r{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.getXhr=e.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const A={begin:t,end:e};for(const i in n)A[i]=n[i];return this.request(A)}requestFull(t){return this.request(t)}request(t){const e=this.getXhr(),n=this.currXhrId++,A=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const t=this.httpHeaders[i];"undefined"!==typeof t&&e.setRequestHeader(i,t)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),A.expectedStatus=206):A.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),A.onHeadersReceived=t.onHeadersReceived,A.onDone=t.onDone,A.onError=t.onError,A.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var n;const A=this.pendingRequests[t];A&&(null===(n=A.onProgress)||void 0===n||n.call(A,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;var r;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void(null===(r=n.onError)||void 0===r||r.call(n,i.status));const s=i.status||200;var a;if((200!==s||206!==n.expectedStatus)&&s!==n.expectedStatus)return void(null===(a=n.onError)||void 0===a||a.call(n,i.status));const o=function(t){const e=t.response;return"string"!==typeof e?e:(0,A.stringToBytes)(e).buffer}(i);if(206===s){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);n.onDone({begin:parseInt(e[1],10),chunk:o})}else if(o)n.onDone({begin:0,chunk:o});else{var l;null===(l=n.onError)||void 0===l||l.call(n,i.status)}}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}e.PDFNetworkStream=class{constructor(t){this._source=t,this._manager=new r(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return(0,A.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new a(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}};class s{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=(0,A.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=t=>e.getResponseHeader(t),{allowRangeRequests:A,suggestedLength:r}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});A&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,i.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,A.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(t,e,n){this._manager=t;const A={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,A),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,i.createResponseStatusError)(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,A.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var A=n(1),i=n(33);function r(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function s(t){const e=new Headers;for(const n in t){const A=t[n];"undefined"!==typeof A&&e.append(n,A)}return e}e.PDFFetchStream=class{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return(0,A.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new o(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class a{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=(0,A.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=s(this._stream.httpHeaders);const n=e.url;fetch(n,r(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!(0,i.validateResponseStatus)(t.status))throw(0,i.createResponseStatusError)(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:r,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new A.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController.abort()}}class o{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,A.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController,this._headers=s(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(e,"-").concat(n-1));const o=a.url;fetch(o,r(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!(0,i.validateResponseStatus)(t.status))throw(0,i.createResponseStatusError)(t.status,o);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var t=__nested_webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return r.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return s.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return a.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return A.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return A.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return A.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return A.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return A.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return A.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return A.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return A.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),A=__w_pdfjs_require__(8),i=__w_pdfjs_require__(22),r=__w_pdfjs_require__(7),s=__w_pdfjs_require__(27),a=__w_pdfjs_require__(15),o=__w_pdfjs_require__(3),l=__w_pdfjs_require__(30),c=__w_pdfjs_require__(31),h=__w_pdfjs_require__(29);if(o.isNodeJS){const{PDFNodeStream:t}=__w_pdfjs_require__(32);(0,n.setPDFNetworkStreamFactory)(e=>new t(e))}else{const{PDFNetworkStream:t}=__w_pdfjs_require__(35),{PDFFetchStream:e}=__w_pdfjs_require__(36);(0,n.setPDFNetworkStreamFactory)(n=>(0,A.isValidFetchUrl)(n.url)?new e(n):new t(n))}})(),__nested_webpack_exports__})(),module.exports=factory()},173:(t,e,n)=>{t.exports=n(497)()},193:()=>{},195:(t,e,n)=>{"use strict";function A(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}n.d(e,{A:()=>A})},202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),A=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,f={};function m(t,e,n){this.props=t,this.context=e,this.refs=f,this.updater=n||p}function v(){}function w(t,e,n){this.props=t,this.context=e,this.refs=f,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=m.prototype;var B=w.prototype=new v;B.constructor=w,g(B,m.prototype),B.isPureReactComponent=!0;var y=Array.isArray,b=Object.prototype.hasOwnProperty,C={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function F(t,e,A){var i,r={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)b.call(e,i)&&!_.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(1===o)r.children=A;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps)void 0===r[i]&&(r[i]=o[i]);return{$$typeof:n,type:t,key:s,ref:a,props:r,_owner:C.current}}function E(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var x=/\/+/g;function S(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function k(t,e,i,r,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var o=!1;if(null===t)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case n:case A:o=!0}}if(o)return s=s(o=t),t=""===r?"."+S(o,0):r,y(s)?(i="",null!=t&&(i=t.replace(x,"$&/")+"/"),k(s,e,i,"",function(t){return t})):null!=s&&(E(s)&&(s=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,i+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=""===r?".":r+":",y(t))for(var l=0;l<t.length;l++){var c=r+S(a=t[l],l);o+=k(a,e,i,c,s)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),l=0;!(a=t.next()).done;)o+=k(a=a.value,e,i,c=r+S(a,l++),s);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function U(t,e,n){if(null==t)return t;var A=[],i=0;return k(t,A,"","",function(t){return e.call(n,t,i++)}),A}function Q(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},M={transition:null},I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:M,ReactCurrentOwner:C};function T(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:U,forEach:function(t,e,n){U(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return U(t,function(){e++}),e},toArray:function(t){return U(t,function(t){return t})||[]},only:function(t){if(!E(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=m,e.Fragment=i,e.Profiler=s,e.PureComponent=w,e.StrictMode=r,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.act=T,e.cloneElement=function(t,e,A){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),r=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=C.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)b.call(e,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==o?o[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=A;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:n,type:t.type,key:r,ref:s,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:o,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=F,e.createFactory=function(t){var e=F.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:u,_payload:{_status:-1,_result:t},_init:Q}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=M.transition;M.transition={};try{t()}finally{M.transition=e}},e.unstable_act=T,e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,n){return P.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,n){return P.current.useReducer(t,e,n)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return P.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return P.current.useTransition()},e.version="18.3.1"},205:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var A=n(562);function i(t,e,n){return n((0,A.A)(t,e))}},218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var A=n-1>>>1,i=t[A];if(!(0<r(i,e)))break t;t[A]=e,t[n]=i,n=A}}function A(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var A=0,i=t.length,s=i>>>1;A<s;){var a=2*(A+1)-1,o=t[a],l=a+1,c=t[l];if(0>r(o,n))l<i&&0>r(c,o)?(t[A]=c,t[l]=n,A=l):(t[A]=o,t[a]=n,A=a);else{if(!(l<i&&0>r(c,n)))break t;t[A]=c,t[l]=n,A=l}}}return e}function r(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,u=null,d=3,p=!1,g=!1,f=!1,m="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function B(t){for(var e=A(c);null!==e;){if(null===e.callback)i(c);else{if(!(e.startTime<=t))break;i(c),e.sortIndex=e.expirationTime,n(l,e)}e=A(c)}}function y(t){if(f=!1,B(t),!g)if(null!==A(l))g=!0,M(b);else{var e=A(c);null!==e&&I(y,e.startTime-t)}}function b(t,n){g=!1,f&&(f=!1,v(E),E=-1),p=!0;var r=d;try{for(B(n),u=A(l);null!==u&&(!(u.expirationTime>n)||t&&!k());){var s=u.callback;if("function"===typeof s){u.callback=null,d=u.priorityLevel;var a=s(u.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?u.callback=a:u===A(l)&&i(l),B(n)}else i(l);u=A(l)}if(null!==u)var o=!0;else{var h=A(c);null!==h&&I(y,h.startTime-n),o=!1}return o}finally{u=null,d=r,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,_=!1,F=null,E=-1,x=5,S=-1;function k(){return!(e.unstable_now()-S<x)}function U(){if(null!==F){var t=e.unstable_now();S=t;var n=!0;try{n=F(!0,t)}finally{n?C():(_=!1,F=null)}}else _=!1}if("function"===typeof w)C=function(){w(U)};else if("undefined"!==typeof MessageChannel){var Q=new MessageChannel,P=Q.port2;Q.port1.onmessage=U,C=function(){P.postMessage(null)}}else C=function(){m(U,0)};function M(t){F=t,_||(_=!0,C())}function I(t,n){E=m(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,M(b))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return A(l)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,i,r){var s=e.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(t.sortIndex=r,n(c,t),null===A(l)&&t===A(c)&&(f?(v(E),E=-1):f=!0,I(y,r-s))):(t.sortIndex=a,n(l,t),g||p||(g=!0,M(b))),t},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},239:function(t){t.exports=function(){"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function A(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(A.prototype=n.prototype,new A)}var n=function(){return n=Object.assign||function(t){for(var e,n=1,A=arguments.length;n<A;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};function A(t,e,n,A){function i(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function s(t){try{o(A.next(t))}catch(Le){r(Le)}}function a(t){try{o(A.throw(t))}catch(Le){r(Le)}}function o(t){t.done?n(t.value):i(t.value).then(s,a)}o((A=A.apply(t,e||[])).next())})}function i(t,e){var n,A,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return o([t,e])}}function o(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,A&&(i=2&r[0]?A.return:r[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,r[1])).done)return i;switch(A=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,A=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(Le){r=[6,Le],A=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}function r(t,e,n){if(n||2===arguments.length)for(var A,i=0,r=e.length;i<r;i++)!A&&i in e||(A||(A=Array.prototype.slice.call(e,0,i)),A[i]=e[i]);return t.concat(A||e)}for(var s=function(){function t(t,e,n,A){this.left=t,this.top=e,this.width=n,this.height=A}return t.prototype.add=function(e,n,A,i){return new t(this.left+e,this.top+n,this.width+A,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var A=Array.from(n).find(function(t){return 0!==t.width});return A?new t(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),a=function(t,e){return s.fromClientRect(t,e.getBoundingClientRect())},o=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var A=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new s(0,0,A,i)},l=function(t){for(var e=[],n=0,A=t.length;n<A;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<A){var r=t.charCodeAt(n++);56320===(64512&r)?e.push(((1023&i)<<10)+(1023&r)+65536):(e.push(i),n--)}else e.push(i)}return e},c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var A=[],i=-1,r="";++i<n;){var s=t[i];s<=65535?A.push(s):(s-=65536,A.push(55296+(s>>10),s%1024+56320)),(i+1===n||A.length>16384)&&(r+=String.fromCharCode.apply(String,A),A.length=0)}return r},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"===typeof Uint8Array?[]:new Uint8Array(256),d=0;d<h.length;d++)u[h.charCodeAt(d)]=d;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="undefined"===typeof Uint8Array?[]:new Uint8Array(256),f=0;f<p.length;f++)g[p.charCodeAt(f)]=f;for(var m=function(t){var e,n,A,i,r,s=.75*t.length,a=t.length,o=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(l)?l:new Uint8Array(l);for(e=0;e<a;e+=4)n=g[t.charCodeAt(e)],A=g[t.charCodeAt(e+1)],i=g[t.charCodeAt(e+2)],r=g[t.charCodeAt(e+3)],c[o++]=n<<2|A>>4,c[o++]=(15&A)<<4|i>>2,c[o++]=(3&i)<<6|63&r;return l},v=function(t){for(var e=t.length,n=[],A=0;A<e;A+=2)n.push(t[A+1]<<8|t[A]);return n},w=function(t){for(var e=t.length,n=[],A=0;A<e;A+=4)n.push(t[A+3]<<24|t[A+2]<<16|t[A+1]<<8|t[A]);return n},B=5,y=11,b=2,C=65536>>B,_=(1<<B)-1,F=C+(1024>>B)+32,E=65536>>y,x=(1<<y-B)-1,S=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},k=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},U=function(t,e){var n=m(t),A=Array.isArray(n)?w(n):new Uint32Array(n),i=Array.isArray(n)?v(n):new Uint16Array(n),r=24,s=S(i,r/2,A[4]/2),a=2===A[5]?S(i,(r+A[4])/2):k(A,Math.ceil((r+A[4])/4));return new Q(A[0],A[1],A[2],A[3],s,a)},Q=function(){function t(t,e,n,A,i,r){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=A,this.index=i,this.data=r}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>B])<<b)+(t&_),this.data[e];if(t<=65535)return e=((e=this.index[C+(t-55296>>B)])<<b)+(t&_),this.data[e];if(t<this.highStart)return e=F-E+(t>>y),e=this.index[e],e+=t>>B&x,e=((e=this.index[e])<<b)+(t&_),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M="undefined"===typeof Uint8Array?[]:new Uint8Array(256),I=0;I<P.length;I++)M[P.charCodeAt(I)]=I;var T=50,D=1,L=2,R=3,O=4,H=5,N=7,G=8,K=9,W=10,j=11,V=12,z=13,X=14,q=15,Y=16,J=17,Z=18,$=19,tt=20,et=21,nt=22,At=23,it=24,rt=25,st=26,at=27,ot=28,lt=29,ct=30,ht=31,ut=32,dt=33,pt=34,gt=35,ft=36,mt=37,vt=38,wt=39,Bt=40,yt=41,bt=42,Ct=43,_t=[9001,65288],Ft="!",Et="\xd7",xt="\xf7",St=U("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),kt=[ct,ft],Ut=[D,L,R,H],Qt=[W,G],Pt=[at,st],Mt=Ut.concat(Qt),It=[vt,wt,Bt,pt,gt],Tt=[q,z],Dt=function(t,e){void 0===e&&(e="strict");var n=[],A=[],i=[];return t.forEach(function(t,r){var s=St.get(t);if(s>T?(i.push(!0),s-=T):i.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return A.push(r),n.push(Y);if(s===O||s===j){if(0===r)return A.push(r),n.push(ct);var a=n[r-1];return-1===Mt.indexOf(a)?(A.push(A[r-1]),n.push(a)):(A.push(r),n.push(ct))}return A.push(r),s===ht?n.push("strict"===e?et:mt):s===bt||s===lt?n.push(ct):s===Ct?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(mt):n.push(ct):void n.push(s)}),[A,n,i]},Lt=function(t,e,n,A){var i=A[n];if(Array.isArray(t)?-1!==t.indexOf(i):t===i)for(var r=n;r<=A.length;){if((o=A[++r])===e)return!0;if(o!==W)break}if(i===W)for(r=n;r>0;){var s=A[--r];if(Array.isArray(t)?-1!==t.indexOf(s):t===s)for(var a=n;a<=A.length;){var o;if((o=A[++a])===e)return!0;if(o!==W)break}if(s!==W)break}return!1},Rt=function(t,e){for(var n=t;n>=0;){var A=e[n];if(A!==W)return A;n--}return 0},Ot=function(t,e,n,A,i){if(0===n[A])return Et;var r=A-1;if(Array.isArray(i)&&!0===i[r])return Et;var s=r-1,a=r+1,o=e[r],l=s>=0?e[s]:0,c=e[a];if(o===L&&c===R)return Et;if(-1!==Ut.indexOf(o))return Ft;if(-1!==Ut.indexOf(c))return Et;if(-1!==Qt.indexOf(c))return Et;if(Rt(r,e)===G)return xt;if(St.get(t[r])===j)return Et;if((o===ut||o===dt)&&St.get(t[a])===j)return Et;if(o===N||c===N)return Et;if(o===K)return Et;if(-1===[W,z,q].indexOf(o)&&c===K)return Et;if(-1!==[J,Z,$,it,ot].indexOf(c))return Et;if(Rt(r,e)===nt)return Et;if(Lt(At,nt,r,e))return Et;if(Lt([J,Z],et,r,e))return Et;if(Lt(V,V,r,e))return Et;if(o===W)return xt;if(o===At||c===At)return Et;if(c===Y||o===Y)return xt;if(-1!==[z,q,et].indexOf(c)||o===X)return Et;if(l===ft&&-1!==Tt.indexOf(o))return Et;if(o===ot&&c===ft)return Et;if(c===tt)return Et;if(-1!==kt.indexOf(c)&&o===rt||-1!==kt.indexOf(o)&&c===rt)return Et;if(o===at&&-1!==[mt,ut,dt].indexOf(c)||-1!==[mt,ut,dt].indexOf(o)&&c===st)return Et;if(-1!==kt.indexOf(o)&&-1!==Pt.indexOf(c)||-1!==Pt.indexOf(o)&&-1!==kt.indexOf(c))return Et;if(-1!==[at,st].indexOf(o)&&(c===rt||-1!==[nt,q].indexOf(c)&&e[a+1]===rt)||-1!==[nt,q].indexOf(o)&&c===rt||o===rt&&-1!==[rt,ot,it].indexOf(c))return Et;if(-1!==[rt,ot,it,J,Z].indexOf(c))for(var h=r;h>=0;){if((u=e[h])===rt)return Et;if(-1===[ot,it].indexOf(u))break;h--}if(-1!==[at,st].indexOf(c))for(h=-1!==[J,Z].indexOf(o)?s:r;h>=0;){var u;if((u=e[h])===rt)return Et;if(-1===[ot,it].indexOf(u))break;h--}if(vt===o&&-1!==[vt,wt,pt,gt].indexOf(c)||-1!==[wt,pt].indexOf(o)&&-1!==[wt,Bt].indexOf(c)||-1!==[Bt,gt].indexOf(o)&&c===Bt)return Et;if(-1!==It.indexOf(o)&&-1!==[tt,st].indexOf(c)||-1!==It.indexOf(c)&&o===at)return Et;if(-1!==kt.indexOf(o)&&-1!==kt.indexOf(c))return Et;if(o===it&&-1!==kt.indexOf(c))return Et;if(-1!==kt.concat(rt).indexOf(o)&&c===nt&&-1===_t.indexOf(t[a])||-1!==kt.concat(rt).indexOf(c)&&o===Z)return Et;if(o===yt&&c===yt){for(var d=n[r],p=1;d>0&&e[--d]===yt;)p++;if(p%2!==0)return Et}return o===ut&&c===dt?Et:xt},Ht=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=Dt(t,e.lineBreak),A=n[0],i=n[1],r=n[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(i=i.map(function(t){return-1!==[rt,ct,bt].indexOf(t)?mt:t}));var s="keep-all"===e.wordBreak?r.map(function(e,n){return e&&t[n]>=19968&&t[n]<=40959}):void 0;return[A,i,s]},Nt=function(){function t(t,e,n,A){this.codePoints=t,this.required=e===Ft,this.start=n,this.end=A}return t.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Gt=function(t,e){var n=l(t),A=Ht(n,e),i=A[0],r=A[1],s=A[2],a=n.length,o=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var t=Et;c<a&&(t=Ot(n,r,i,++c,s))===Et;);if(t!==Et||c===a){var e=new Nt(n,t,o,c);return o=c,{value:e,done:!1}}return{done:!0,value:null}}}},Kt=1,Wt=2,jt=4,Vt=8,zt=10,Xt=47,qt=92,Yt=9,Jt=32,Zt=34,$t=61,te=35,ee=36,ne=37,Ae=39,ie=40,re=41,se=95,ae=45,oe=33,le=60,ce=62,he=64,ue=91,de=93,pe=61,ge=123,fe=63,me=125,ve=124,we=126,Be=128,ye=65533,be=42,Ce=43,_e=44,Fe=58,Ee=59,xe=46,Se=0,ke=8,Ue=11,Qe=14,Pe=31,Me=127,Ie=-1,Te=48,De=97,Le=101,Re=102,Oe=117,He=122,Ne=65,Ge=69,Ke=70,We=85,je=90,Ve=function(t){return t>=Te&&t<=57},ze=function(t){return t>=55296&&t<=57343},Xe=function(t){return Ve(t)||t>=Ne&&t<=Ke||t>=De&&t<=Re},qe=function(t){return t>=De&&t<=He},Ye=function(t){return t>=Ne&&t<=je},Je=function(t){return qe(t)||Ye(t)},Ze=function(t){return t>=Be},$e=function(t){return t===zt||t===Yt||t===Jt},tn=function(t){return Je(t)||Ze(t)||t===se},en=function(t){return tn(t)||Ve(t)||t===ae},nn=function(t){return t>=Se&&t<=ke||t===Ue||t>=Qe&&t<=Pe||t===Me},An=function(t,e){return t===qt&&e!==zt},rn=function(t,e,n){return t===ae?tn(e)||An(e,n):!!tn(t)||!(t!==qt||!An(t,e))},sn=function(t,e,n){return t===Ce||t===ae?!!Ve(e)||e===xe&&Ve(n):Ve(t===xe?e:t)},an=function(t){var e=0,n=1;t[e]!==Ce&&t[e]!==ae||(t[e]===ae&&(n=-1),e++);for(var A=[];Ve(t[e]);)A.push(t[e++]);var i=A.length?parseInt(c.apply(void 0,A),10):0;t[e]===xe&&e++;for(var r=[];Ve(t[e]);)r.push(t[e++]);var s=r.length,a=s?parseInt(c.apply(void 0,r),10):0;t[e]!==Ge&&t[e]!==Le||e++;var o=1;t[e]!==Ce&&t[e]!==ae||(t[e]===ae&&(o=-1),e++);for(var l=[];Ve(t[e]);)l.push(t[e++]);var h=l.length?parseInt(c.apply(void 0,l),10):0;return n*(i+a*Math.pow(10,-s))*Math.pow(10,o*h)},on={type:2},ln={type:3},cn={type:4},hn={type:13},un={type:8},dn={type:21},pn={type:9},gn={type:10},fn={type:11},mn={type:12},vn={type:14},wn={type:23},Bn={type:1},yn={type:25},bn={type:24},Cn={type:26},_n={type:27},Fn={type:28},En={type:29},xn={type:31},Sn={type:32},kn=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(l(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Sn;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Zt:return this.consumeStringToken(Zt);case te:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),A=this.peekCodePoint(2);if(en(e)||An(n,A)){var i=rn(e,n,A)?Wt:Kt;return{type:5,value:this.consumeName(),flags:i}}break;case ee:if(this.peekCodePoint(0)===$t)return this.consumeCodePoint(),hn;break;case Ae:return this.consumeStringToken(Ae);case ie:return on;case re:return ln;case be:if(this.peekCodePoint(0)===$t)return this.consumeCodePoint(),vn;break;case Ce:if(sn(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case _e:return cn;case ae:var r=t,s=this.peekCodePoint(0),a=this.peekCodePoint(1);if(sn(r,s,a))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(rn(r,s,a))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(s===ae&&a===ce)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case xe:if(sn(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Xt:if(this.peekCodePoint(0)===be)for(this.consumeCodePoint();;){var o=this.consumeCodePoint();if(o===be&&(o=this.consumeCodePoint())===Xt)return this.consumeToken();if(o===Ie)return this.consumeToken()}break;case Fe:return Cn;case Ee:return _n;case le:if(this.peekCodePoint(0)===oe&&this.peekCodePoint(1)===ae&&this.peekCodePoint(2)===ae)return this.consumeCodePoint(),this.consumeCodePoint(),yn;break;case he:var l=this.peekCodePoint(0),h=this.peekCodePoint(1),u=this.peekCodePoint(2);if(rn(l,h,u))return{type:7,value:this.consumeName()};break;case ue:return Fn;case qt:if(An(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case de:return En;case pe:if(this.peekCodePoint(0)===$t)return this.consumeCodePoint(),un;break;case ge:return fn;case me:return mn;case Oe:case We:var d=this.peekCodePoint(0),p=this.peekCodePoint(1);return d!==Ce||!Xe(p)&&p!==fe||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case ve:if(this.peekCodePoint(0)===$t)return this.consumeCodePoint(),pn;if(this.peekCodePoint(0)===ve)return this.consumeCodePoint(),dn;break;case we:if(this.peekCodePoint(0)===$t)return this.consumeCodePoint(),gn;break;case Ie:return Sn}return $e(t)?(this.consumeWhiteSpace(),xn):Ve(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):tn(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:c(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return"undefined"===typeof t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();Xe(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;e===fe&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,t.map(function(t){return t===fe?Te:t})),16),end:parseInt(c.apply(void 0,t.map(function(t){return t===fe?Ke:t})),16)};var A=parseInt(c.apply(void 0,t),16);if(this.peekCodePoint(0)===ae&&Xe(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var i=[];Xe(e)&&i.length<6;)i.push(e),e=this.consumeCodePoint();return{type:30,start:A,end:parseInt(c.apply(void 0,i),16)}}return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&this.peekCodePoint(0)===ie?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ie?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ie)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===Ae||e===Zt){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ie||this.peekCodePoint(0)===re)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),wn)}for(;;){var A=this.consumeCodePoint();if(A===Ie||A===re)return{type:22,value:c.apply(void 0,t)};if($e(A))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ie||this.peekCodePoint(0)===re?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,t)}):(this.consumeBadUrlRemnants(),wn);if(A===Zt||A===Ae||A===ie||nn(A))return this.consumeBadUrlRemnants(),wn;if(A===qt){if(!An(A,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),wn;t.push(this.consumeEscapedCodePoint())}else t.push(A)}},t.prototype.consumeWhiteSpace=function(){for(;$e(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===re||t===Ie)return;An(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e=5e4,n="";t>0;){var A=Math.min(e,t);n+=c.apply(void 0,this._value.splice(0,A)),t-=A}return this._value.shift(),n},t.prototype.consumeStringToken=function(t){for(var e="",n=0;;){var A=this._value[n];if(A===Ie||void 0===A||A===t)return{type:0,value:e+=this.consumeStringSlice(n)};if(A===zt)return this._value.splice(0,n),Bn;if(A===qt){var i=this._value[n+1];i!==Ie&&void 0!==i&&(i===zt?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):An(A,i)&&(e+=this.consumeStringSlice(n),e+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},t.prototype.consumeNumber=function(){var t=[],e=jt,n=this.peekCodePoint(0);for(n!==Ce&&n!==ae||t.push(this.consumeCodePoint());Ve(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var A=this.peekCodePoint(1);if(n===xe&&Ve(A))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Vt;Ve(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),A=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Ge||n===Le)&&((A===Ce||A===ae)&&Ve(i)||Ve(A)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Vt;Ve(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[an(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],A=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);return rn(A,i,r)?{type:15,number:e,flags:n,unit:this.consumeName()}:A===ne?(this.consumeCodePoint(),{type:16,number:e,flags:n}):{type:17,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Xe(t)){for(var e=c(t);Xe(this.peekCodePoint(0))&&e.length<6;)e+=c(this.consumeCodePoint());$e(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||ze(n)||n>1114111?ye:n}return t===Ie?ye:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(en(e))t+=c(e);else{if(!An(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=c(this.consumeEscapedCodePoint())}}},t}(),Un=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new kn;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(32===n.type||On(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return"undefined"===typeof t?Sn:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),Qn=function(t){return 15===t.type},Pn=function(t){return 17===t.type},Mn=function(t){return 20===t.type},In=function(t){return 0===t.type},Tn=function(t,e){return Mn(t)&&t.value===e},Dn=function(t){return 31!==t.type},Ln=function(t){return 31!==t.type&&4!==t.type},Rn=function(t){var e=[],n=[];return t.forEach(function(t){if(4===t.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}31!==t.type&&n.push(t)}),n.length&&e.push(n),e},On=function(t,e){return 11===e&&12===t.type||28===e&&29===t.type||2===e&&3===t.type},Hn=function(t){return 17===t.type||15===t.type},Nn=function(t){return 16===t.type||Hn(t)},Gn=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Kn={type:17,number:0,flags:jt},Wn={type:16,number:50,flags:jt},jn={type:16,number:100,flags:jt},Vn=function(t,e,n){var A=t[0],i=t[1];return[zn(A,e),zn("undefined"!==typeof i?i:A,n)]},zn=function(t,e){if(16===t.type)return t.number/100*e;if(Qn(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},Xn="deg",qn="grad",Yn="rad",Jn="turn",Zn={name:"angle",parse:function(t,e){if(15===e.type)switch(e.unit){case Xn:return Math.PI*e.number/180;case qn:return Math.PI/200*e.number;case Yn:return e.number;case Jn:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")}},$n=function(t){return 15===t.type&&(t.unit===Xn||t.unit===qn||t.unit===Yn||t.unit===Jn)},tA=function(t){switch(t.filter(Mn).map(function(t){return t.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return eA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,jn];case"to right":case"left":return eA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[jn,jn];case"to bottom":case"top":return eA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[jn,Kn];case"to left":case"right":return eA(270)}return 0},eA=function(t){return Math.PI*t/180},nA={name:"color",parse:function(t,e){if(18===e.type){var n=cA[e.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(5===e.type){if(3===e.value.length){var A=e.value.substring(0,1),i=e.value.substring(1,2),r=e.value.substring(2,3);return rA(parseInt(A+A,16),parseInt(i+i,16),parseInt(r+r,16),1)}if(4===e.value.length){A=e.value.substring(0,1),i=e.value.substring(1,2),r=e.value.substring(2,3);var s=e.value.substring(3,4);return rA(parseInt(A+A,16),parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16)/255)}if(6===e.value.length)return A=e.value.substring(0,2),i=e.value.substring(2,4),r=e.value.substring(4,6),rA(parseInt(A,16),parseInt(i,16),parseInt(r,16),1);if(8===e.value.length)return A=e.value.substring(0,2),i=e.value.substring(2,4),r=e.value.substring(4,6),s=e.value.substring(6,8),rA(parseInt(A,16),parseInt(i,16),parseInt(r,16),parseInt(s,16)/255)}if(20===e.type){var a=uA[e.value.toUpperCase()];if("undefined"!==typeof a)return a}return uA.TRANSPARENT}},AA=function(t){return 0===(255&t)},iA=function(t){var e=255&t,n=255&t>>8,A=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+A+","+n+","+e/255+")":"rgb("+i+","+A+","+n+")"},rA=function(t,e,n,A){return(t<<24|e<<16|n<<8|Math.round(255*A))>>>0},sA=function(t,e){if(17===t.type)return t.number;if(16===t.type){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},aA=function(t,e){var n=e.filter(Ln);if(3===n.length){var A=n.map(sA),i=A[0],r=A[1],s=A[2];return rA(i,r,s,1)}if(4===n.length){var a=n.map(sA),o=(i=a[0],r=a[1],s=a[2],a[3]);return rA(i,r,s,o)}return 0};function oA(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}var lA=function(t,e){var n=e.filter(Ln),A=n[0],i=n[1],r=n[2],s=n[3],a=(17===A.type?eA(A.number):Zn.parse(t,A))/(2*Math.PI),o=Nn(i)?i.number/100:0,l=Nn(r)?r.number/100:0,c="undefined"!==typeof s&&Nn(s)?zn(s,1):1;if(0===o)return rA(255*l,255*l,255*l,1);var h=l<=.5?l*(o+1):l+o-l*o,u=2*l-h,d=oA(u,h,a+1/3),p=oA(u,h,a),g=oA(u,h,a-1/3);return rA(255*d,255*p,255*g,c)},cA={hsl:lA,hsla:lA,rgb:aA,rgba:aA},hA=function(t,e){return nA.parse(t,Un.create(e).parseComponentValue())},uA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dA={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(t){if(Mn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pA={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gA=function(t,e){var n=nA.parse(t,e[0]),A=e[1];return A&&Nn(A)?{color:n,stop:A}:{color:n,stop:null}},fA=function(t,e){var n=t[0],A=t[t.length-1];null===n.stop&&(n.stop=Kn),null===A.stop&&(A.stop=jn);for(var i=[],r=0,s=0;s<t.length;s++){var a=t[s].stop;if(null!==a){var o=zn(a,e);o>r?i.push(o):i.push(r),r=o}else i.push(null)}var l=null;for(s=0;s<i.length;s++){var c=i[s];if(null===c)null===l&&(l=s);else if(null!==l){for(var h=s-l,u=(c-i[l-1])/(h+1),d=1;d<=h;d++)i[l+d-1]=u*d;l=null}}return t.map(function(t,n){return{color:t.color,stop:Math.max(Math.min(1,i[n]/e),0)}})},mA=function(t,e,n){var A=e/2,i=n/2,r=zn(t[0],e)-A,s=i-zn(t[1],n);return(Math.atan2(s,r)+2*Math.PI)%(2*Math.PI)},vA=function(t,e,n){var A="number"===typeof t?t:mA(t,e,n),i=Math.abs(e*Math.sin(A))+Math.abs(n*Math.cos(A)),r=e/2,s=n/2,a=i/2,o=Math.sin(A-Math.PI/2)*a,l=Math.cos(A-Math.PI/2)*a;return[i,r-l,r+l,s-o,s+o]},wA=function(t,e){return Math.sqrt(t*t+e*e)},BA=function(t,e,n,A,i){return[[0,0],[0,e],[t,0],[t,e]].reduce(function(t,e){var r=e[0],s=e[1],a=wA(n-r,A-s);return(i?a<t.optimumDistance:a>t.optimumDistance)?{optimumCorner:e,optimumDistance:a}:t},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},yA=function(t,e,n,A,i){var r=0,s=0;switch(t.size){case 0:0===t.shape?r=s=Math.min(Math.abs(e),Math.abs(e-A),Math.abs(n),Math.abs(n-i)):1===t.shape&&(r=Math.min(Math.abs(e),Math.abs(e-A)),s=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===t.shape)r=s=Math.min(wA(e,n),wA(e,n-i),wA(e-A,n),wA(e-A,n-i));else if(1===t.shape){var a=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-A)),o=BA(A,i,e,n,!0),l=o[0],c=o[1];s=a*(r=wA(l-e,(c-n)/a))}break;case 1:0===t.shape?r=s=Math.max(Math.abs(e),Math.abs(e-A),Math.abs(n),Math.abs(n-i)):1===t.shape&&(r=Math.max(Math.abs(e),Math.abs(e-A)),s=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===t.shape)r=s=Math.max(wA(e,n),wA(e,n-i),wA(e-A,n),wA(e-A,n-i));else if(1===t.shape){a=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-A));var h=BA(A,i,e,n,!1);l=h[0],c=h[1],s=a*(r=wA(l-e,(c-n)/a))}}return Array.isArray(t.size)&&(r=zn(t.size[0],A),s=2===t.size.length?zn(t.size[1],i):r),[r,s]},bA=function(t,e){var n=eA(180),A=[];return Rn(e).forEach(function(e,i){if(0===i){var r=e[0];if(20===r.type&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(n=tA(e));if($n(r))return void(n=(Zn.parse(t,r)+eA(270))%eA(360))}var s=gA(t,e);A.push(s)}),{angle:n,stops:A,type:1}},CA="closest-side",_A="farthest-side",FA="closest-corner",EA="farthest-corner",xA="circle",SA="ellipse",kA="cover",UA="contain",QA=function(t,e){var n=0,A=3,i=[],r=[];return Rn(e).forEach(function(e,s){var a=!0;if(0===s?a=e.reduce(function(t,e){if(Mn(e))switch(e.value){case"center":return r.push(Wn),!1;case"top":case"left":return r.push(Kn),!1;case"right":case"bottom":return r.push(jn),!1}else if(Nn(e)||Hn(e))return r.push(e),!1;return t},a):1===s&&(a=e.reduce(function(t,e){if(Mn(e))switch(e.value){case xA:return n=0,!1;case SA:return n=1,!1;case UA:case CA:return A=0,!1;case _A:return A=1,!1;case FA:return A=2,!1;case kA:case EA:return A=3,!1}else if(Hn(e)||Nn(e))return Array.isArray(A)||(A=[]),A.push(e),!1;return t},a)),a){var o=gA(t,e);i.push(o)}}),{size:A,shape:n,stops:i,position:r,type:2}},PA=function(t){return 1===t.type},MA=function(t){return 2===t.type},IA={name:"image",parse:function(t,e){if(22===e.type){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(18===e.type){var A=LA[e.name];if("undefined"===typeof A)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return A(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function TA(t){return!(20===t.type&&"none"===t.value)&&(18!==t.type||!!LA[t.name])}var DA,LA={"linear-gradient":function(t,e){var n=eA(180),A=[];return Rn(e).forEach(function(e,i){if(0===i){var r=e[0];if(20===r.type&&"to"===r.value)return void(n=tA(e));if($n(r))return void(n=Zn.parse(t,r))}var s=gA(t,e);A.push(s)}),{angle:n,stops:A,type:1}},"-moz-linear-gradient":bA,"-ms-linear-gradient":bA,"-o-linear-gradient":bA,"-webkit-linear-gradient":bA,"radial-gradient":function(t,e){var n=0,A=3,i=[],r=[];return Rn(e).forEach(function(e,s){var a=!0;if(0===s){var o=!1;a=e.reduce(function(t,e){if(o)if(Mn(e))switch(e.value){case"center":return r.push(Wn),t;case"top":case"left":return r.push(Kn),t;case"right":case"bottom":return r.push(jn),t}else(Nn(e)||Hn(e))&&r.push(e);else if(Mn(e))switch(e.value){case xA:return n=0,!1;case SA:return n=1,!1;case"at":return o=!0,!1;case CA:return A=0,!1;case kA:case _A:return A=1,!1;case UA:case FA:return A=2,!1;case EA:return A=3,!1}else if(Hn(e)||Nn(e))return Array.isArray(A)||(A=[]),A.push(e),!1;return t},a)}if(a){var l=gA(t,e);i.push(l)}}),{size:A,shape:n,stops:i,position:r,type:2}},"-moz-radial-gradient":QA,"-ms-radial-gradient":QA,"-o-radial-gradient":QA,"-webkit-radial-gradient":QA,"-webkit-gradient":function(t,e){var n=eA(180),A=[],i=1,r=0,s=3,a=[];return Rn(e).forEach(function(e,n){var r=e[0];if(0===n){if(Mn(r)&&"linear"===r.value)return void(i=1);if(Mn(r)&&"radial"===r.value)return void(i=2)}if(18===r.type)if("from"===r.name){var s=nA.parse(t,r.values[0]);A.push({stop:Kn,color:s})}else if("to"===r.name)s=nA.parse(t,r.values[0]),A.push({stop:jn,color:s});else if("color-stop"===r.name){var a=r.values.filter(Ln);if(2===a.length){s=nA.parse(t,a[1]);var o=a[0];Pn(o)&&A.push({stop:{type:16,number:100*o.number,flags:o.flags},color:s})}}}),1===i?{angle:(n+eA(180))%eA(360),stops:A,type:i}:{size:s,shape:r,stops:A,position:a,type:i}}},RA={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e.filter(function(t){return Ln(t)&&TA(t)}).map(function(e){return IA.parse(t,e)})}},OA={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(t){if(Mn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},HA={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Rn(e).map(function(t){return t.filter(Nn)}).map(Gn)}},NA={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Rn(e).map(function(t){return t.filter(Mn).map(function(t){return t.value}).join(" ")}).map(GA)}},GA=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(DA||(DA={}));var KA,WA={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Rn(e).map(function(t){return t.filter(jA)})}},jA=function(t){return Mn(t)||Nn(t)},VA=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},zA=VA("top"),XA=VA("right"),qA=VA("bottom"),YA=VA("left"),JA=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return Gn(e.filter(Nn))}}},ZA=JA("top-left"),$A=JA("top-right"),ti=JA("bottom-right"),ei=JA("bottom-left"),ni=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ai=ni("top"),ii=ni("right"),ri=ni("bottom"),si=ni("left"),ai=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Qn(e)?e.number:0}}},oi=ai("top"),li=ai("right"),ci=ai("bottom"),hi=ai("left"),ui={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},di={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return"rtl"===e?1:0}},pi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Mn).reduce(function(t,e){return t|gi(e.value)},0)}},gi=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},fi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(KA||(KA={}));var vi,wi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"strict"===e?KA.STRICT:KA.NORMAL}},Bi={name:"line-height",initialValue:"normal",prefix:!1,type:4},yi=function(t,e){return Mn(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:Nn(t)?zn(t,e):e},bi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:IA.parse(t,e)}},Ci={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return"inside"===e?0:1}},_i={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Fi=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Ei=Fi("top"),xi=Fi("right"),Si=Fi("bottom"),ki=Fi("left"),Ui={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Mn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Qi={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"break-word"===e?"break-word":"normal"}},Pi=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Mi=Pi("top"),Ii=Pi("right"),Ti=Pi("bottom"),Di=Pi("left"),Li={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ri={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Oi={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Tn(e[0],"none")?[]:Rn(e).map(function(e){for(var n={color:uA.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},A=0,i=0;i<e.length;i++){var r=e[i];Hn(r)?(0===A?n.offsetX=r:1===A?n.offsetY=r:n.blur=r,A++):n.color=nA.parse(t,r)}return n})}},Hi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ni={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var n=Gi[e.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},Gi={matrix:function(t){var e=t.filter(function(t){return 17===t.type}).map(function(t){return t.number});return 6===e.length?e:null},matrix3d:function(t){var e=t.filter(function(t){return 17===t.type}).map(function(t){return t.number}),n=e[0],A=e[1];e[2],e[3];var i=e[4],r=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],a=e[13];return e[14],e[15],16===e.length?[n,A,i,r,s,a]:null}},Ki={type:16,number:50,flags:jt},Wi=[Ki,Ki],ji={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Nn);return 2!==n.length?Wi:[n[0],n[1]]}},Vi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(vi||(vi={}));for(var zi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return vi.BREAK_ALL;case"keep-all":return vi.KEEP_ALL;default:return vi.NORMAL}}},Xi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if(Pn(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},qi={name:"time",parse:function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Yi={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Pn(e)?e.number:1}},Ji={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Mn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return 0!==t})}},$i={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],A=[];return e.forEach(function(t){switch(t.type){case 20:case 0:n.push(t.value);break;case 17:n.push(t.number.toString());break;case 4:A.push(n.join(" ")),n.length=0}}),n.length&&A.push(n.join(" ")),A.map(function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"})}},tr={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},er={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return Pn(e)?e.number:Mn(e)&&"bold"===e.value?700:400}},nr={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Mn).map(function(t){return t.value})}},Ar={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ir=function(t,e){return 0!==(t&e)},rr={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e}},sr={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;for(var A=[],i=e.filter(Dn),r=0;r<i.length;r++){var s=i[r],a=i[r+1];if(20===s.type){var o=a&&Pn(a)?a.number:1;A.push({counter:s.value,increment:o})}}return A}},ar={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var n=[],A=e.filter(Dn),i=0;i<A.length;i++){var r=A[i],s=A[i+1];if(Mn(r)&&"none"!==r.value){var a=s&&Pn(s)?s.number:0;n.push({counter:r.value,reset:a})}}return n}},or={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Qn).map(function(e){return qi.parse(t,e)})}},lr={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;var A=[],i=e.filter(In);if(i.length%2!==0)return null;for(var r=0;r<i.length;r+=2){var s=i[r].value,a=i[r+1].value;A.push({open:s,close:a})}return A}},cr=function(t,e,n){if(!t)return"";var A=t[Math.min(e,t.length-1)];return A?n?A.open:A.close:""},hr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Tn(e[0],"none")?[]:Rn(e).map(function(e){for(var n={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},A=0,i=0;i<e.length;i++){var r=e[i];Tn(r,"inset")?n.inset=!0:Hn(r)?(0===A?n.offsetX=r:1===A?n.offsetY=r:2===A?n.blur=r:n.spread=r,A++):n.color=nA.parse(t,r)}return n})}},ur={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],A=[];return e.filter(Mn).forEach(function(t){switch(t.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2)}}),n.forEach(function(t){-1===A.indexOf(t)&&A.push(t)}),A}},dr={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Qn(e)?e.number:0}},gr=function(){function t(t,e){var n,A;this.animationDuration=vr(t,or,e.animationDuration),this.backgroundClip=vr(t,dA,e.backgroundClip),this.backgroundColor=vr(t,pA,e.backgroundColor),this.backgroundImage=vr(t,RA,e.backgroundImage),this.backgroundOrigin=vr(t,OA,e.backgroundOrigin),this.backgroundPosition=vr(t,HA,e.backgroundPosition),this.backgroundRepeat=vr(t,NA,e.backgroundRepeat),this.backgroundSize=vr(t,WA,e.backgroundSize),this.borderTopColor=vr(t,zA,e.borderTopColor),this.borderRightColor=vr(t,XA,e.borderRightColor),this.borderBottomColor=vr(t,qA,e.borderBottomColor),this.borderLeftColor=vr(t,YA,e.borderLeftColor),this.borderTopLeftRadius=vr(t,ZA,e.borderTopLeftRadius),this.borderTopRightRadius=vr(t,$A,e.borderTopRightRadius),this.borderBottomRightRadius=vr(t,ti,e.borderBottomRightRadius),this.borderBottomLeftRadius=vr(t,ei,e.borderBottomLeftRadius),this.borderTopStyle=vr(t,Ai,e.borderTopStyle),this.borderRightStyle=vr(t,ii,e.borderRightStyle),this.borderBottomStyle=vr(t,ri,e.borderBottomStyle),this.borderLeftStyle=vr(t,si,e.borderLeftStyle),this.borderTopWidth=vr(t,oi,e.borderTopWidth),this.borderRightWidth=vr(t,li,e.borderRightWidth),this.borderBottomWidth=vr(t,ci,e.borderBottomWidth),this.borderLeftWidth=vr(t,hi,e.borderLeftWidth),this.boxShadow=vr(t,hr,e.boxShadow),this.color=vr(t,ui,e.color),this.direction=vr(t,di,e.direction),this.display=vr(t,pi,e.display),this.float=vr(t,fi,e.cssFloat),this.fontFamily=vr(t,$i,e.fontFamily),this.fontSize=vr(t,tr,e.fontSize),this.fontStyle=vr(t,Ar,e.fontStyle),this.fontVariant=vr(t,nr,e.fontVariant),this.fontWeight=vr(t,er,e.fontWeight),this.letterSpacing=vr(t,mi,e.letterSpacing),this.lineBreak=vr(t,wi,e.lineBreak),this.lineHeight=vr(t,Bi,e.lineHeight),this.listStyleImage=vr(t,bi,e.listStyleImage),this.listStylePosition=vr(t,Ci,e.listStylePosition),this.listStyleType=vr(t,_i,e.listStyleType),this.marginTop=vr(t,Ei,e.marginTop),this.marginRight=vr(t,xi,e.marginRight),this.marginBottom=vr(t,Si,e.marginBottom),this.marginLeft=vr(t,ki,e.marginLeft),this.opacity=vr(t,Yi,e.opacity);var i=vr(t,Ui,e.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=vr(t,Qi,e.overflowWrap),this.paddingTop=vr(t,Mi,e.paddingTop),this.paddingRight=vr(t,Ii,e.paddingRight),this.paddingBottom=vr(t,Ti,e.paddingBottom),this.paddingLeft=vr(t,Di,e.paddingLeft),this.paintOrder=vr(t,ur,e.paintOrder),this.position=vr(t,Ri,e.position),this.textAlign=vr(t,Li,e.textAlign),this.textDecorationColor=vr(t,Ji,null!==(n=e.textDecorationColor)&&void 0!==n?n:e.color),this.textDecorationLine=vr(t,Zi,null!==(A=e.textDecorationLine)&&void 0!==A?A:e.textDecoration),this.textShadow=vr(t,Oi,e.textShadow),this.textTransform=vr(t,Hi,e.textTransform),this.transform=vr(t,Ni,e.transform),this.transformOrigin=vr(t,ji,e.transformOrigin),this.visibility=vr(t,Vi,e.visibility),this.webkitTextStrokeColor=vr(t,dr,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=vr(t,pr,e.webkitTextStrokeWidth),this.wordBreak=vr(t,zi,e.wordBreak),this.zIndex=vr(t,Xi,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return AA(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return ir(this.display,4)||ir(this.display,33554432)||ir(this.display,268435456)||ir(this.display,536870912)||ir(this.display,67108864)||ir(this.display,134217728)},t}(),fr=function(){function t(t,e){this.content=vr(t,rr,e.content),this.quotes=vr(t,lr,e.quotes)}return t}(),mr=function(){function t(t,e){this.counterIncrement=vr(t,sr,e.counterIncrement),this.counterReset=vr(t,ar,e.counterReset)}return t}(),vr=function(t,e,n){var A=new kn,i=null!==n&&"undefined"!==typeof n?n.toString():e.initialValue;A.write(i);var r=new Un(A.read());switch(e.type){case 2:var s=r.parseComponentValue();return e.parse(t,Mn(s)?s.value:e.initialValue);case 0:return e.parse(t,r.parseComponentValue());case 1:return e.parse(t,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(e.format){case"angle":return Zn.parse(t,r.parseComponentValue());case"color":return nA.parse(t,r.parseComponentValue());case"image":return IA.parse(t,r.parseComponentValue());case"length":var a=r.parseComponentValue();return Hn(a)?a:Kn;case"length-percentage":var o=r.parseComponentValue();return Nn(o)?o:Kn;case"time":return qi.parse(t,r.parseComponentValue())}}},wr="data-html2canvas-debug",Br=function(t){switch(t.getAttribute(wr)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},yr=function(t,e){var n=Br(t);return 1===n||e===n},br=function(){function t(t,e){this.context=t,this.textNodes=[],this.elements=[],this.flags=0,yr(e,3),this.styles=new gr(t,window.getComputedStyle(e,null)),la(e)&&(this.styles.animationDuration.some(function(t){return t>0})&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=a(this.context,e),yr(e,4)&&(this.flags|=16)}return t}(),Cr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",_r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fr="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Er=0;Er<_r.length;Er++)Fr[_r.charCodeAt(Er)]=Er;for(var xr=function(t){var e,n,A,i,r,s=.75*t.length,a=t.length,o=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(l)?l:new Uint8Array(l);for(e=0;e<a;e+=4)n=Fr[t.charCodeAt(e)],A=Fr[t.charCodeAt(e+1)],i=Fr[t.charCodeAt(e+2)],r=Fr[t.charCodeAt(e+3)],c[o++]=n<<2|A>>4,c[o++]=(15&A)<<4|i>>2,c[o++]=(3&i)<<6|63&r;return l},Sr=function(t){for(var e=t.length,n=[],A=0;A<e;A+=2)n.push(t[A+1]<<8|t[A]);return n},kr=function(t){for(var e=t.length,n=[],A=0;A<e;A+=4)n.push(t[A+3]<<24|t[A+2]<<16|t[A+1]<<8|t[A]);return n},Ur=5,Qr=11,Pr=2,Mr=65536>>Ur,Ir=(1<<Ur)-1,Tr=Mr+(1024>>Ur)+32,Dr=65536>>Qr,Lr=(1<<Qr-Ur)-1,Rr=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Or=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Hr=function(t,e){var n=xr(t),A=Array.isArray(n)?kr(n):new Uint32Array(n),i=Array.isArray(n)?Sr(n):new Uint16Array(n),r=24,s=Rr(i,r/2,A[4]/2),a=2===A[5]?Rr(i,(r+A[4])/2):Or(A,Math.ceil((r+A[4])/4));return new Nr(A[0],A[1],A[2],A[3],s,a)},Nr=function(){function t(t,e,n,A,i,r){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=A,this.index=i,this.data=r}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>Ur])<<Pr)+(t&Ir),this.data[e];if(t<=65535)return e=((e=this.index[Mr+(t-55296>>Ur)])<<Pr)+(t&Ir),this.data[e];if(t<this.highStart)return e=Tr-Dr+(t>>Qr),e=this.index[e],e+=t>>Ur&Lr,e=((e=this.index[e])<<Pr)+(t&Ir),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kr="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Wr=0;Wr<Gr.length;Wr++)Kr[Gr.charCodeAt(Wr)]=Wr;var jr,Vr=1,zr=2,Xr=3,qr=4,Yr=5,Jr=7,Zr=8,$r=9,ts=10,es=11,ns=12,As=13,is=14,rs=15,ss=function(t){for(var e=[],n=0,A=t.length;n<A;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<A){var r=t.charCodeAt(n++);56320===(64512&r)?e.push(((1023&i)<<10)+(1023&r)+65536):(e.push(i),n--)}else e.push(i)}return e},as=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var A=[],i=-1,r="";++i<n;){var s=t[i];s<=65535?A.push(s):(s-=65536,A.push(55296+(s>>10),s%1024+56320)),(i+1===n||A.length>16384)&&(r+=String.fromCharCode.apply(String,A),A.length=0)}return r},os=Hr(Cr),ls="\xd7",cs="\xf7",hs=function(t){return os.get(t)},us=function(t,e,n){var A=n-2,i=e[A],r=e[n-1],s=e[n];if(r===zr&&s===Xr)return ls;if(r===zr||r===Xr||r===qr)return cs;if(s===zr||s===Xr||s===qr)return cs;if(r===Zr&&-1!==[Zr,$r,es,ns].indexOf(s))return ls;if((r===es||r===$r)&&(s===$r||s===ts))return ls;if((r===ns||r===ts)&&s===ts)return ls;if(s===As||s===Yr)return ls;if(s===Jr)return ls;if(r===Vr)return ls;if(r===As&&s===is){for(;i===Yr;)i=e[--A];if(i===is)return ls}if(r===rs&&s===rs){for(var a=0;i===rs;)a++,i=e[--A];if(a%2===0)return ls}return cs},ds=function(t){var e=ss(t),n=e.length,A=0,i=0,r=e.map(hs);return{next:function(){if(A>=n)return{done:!0,value:null};for(var t=ls;A<n&&(t=us(e,r,++A))===ls;);if(t!==ls||A===n){var s=as.apply(null,e.slice(i,A));return i=A,{value:s,done:!1}}return{done:!0,value:null}}}},ps=function(t){for(var e,n=ds(t),A=[];!(e=n.next()).done;)e.value&&A.push(e.value.slice());return A},gs=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var A=t.createElement("boundtest");A.style.height=e+"px",A.style.display="block",t.body.appendChild(A),n.selectNode(A);var i=n.getBoundingClientRect(),r=Math.round(i.height);if(t.body.removeChild(A),r===e)return!0}}return!1},fs=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var A=e.firstChild,i=l(A.data).map(function(t){return c(t)}),r=0,s={},a=i.every(function(t,e){n.setStart(A,r),n.setEnd(A,r+t.length);var i=n.getBoundingClientRect();r+=t.length;var a=i.x>s.x||i.y>s.y;return s=i,0===e||a});return t.body.removeChild(e),a},ms=function(){return"undefined"!==typeof(new Image).crossOrigin},vs=function(){return"string"===typeof(new XMLHttpRequest).responseType},ws=function(t){var e=new Image,n=t.createElement("canvas"),A=n.getContext("2d");if(!A)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{A.drawImage(e,0,0),n.toDataURL()}catch(Le){return!1}return!0},Bs=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},ys=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var A=e.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,n,n);var i=new Image,r=e.toDataURL();i.src=r;var s=bs(n,n,0,0,i);return A.fillStyle="red",A.fillRect(0,0,n,n),Cs(s).then(function(e){A.drawImage(e,0,0);var i=A.getImageData(0,0,n,n).data;A.fillStyle="red",A.fillRect(0,0,n,n);var s=t.createElement("div");return s.style.backgroundImage="url("+r+")",s.style.height=n+"px",Bs(i)?Cs(bs(n,n,0,0,s)):Promise.reject(!1)}).then(function(t){return A.drawImage(t,0,0),Bs(A.getImageData(0,0,n,n).data)}).catch(function(){return!1})},bs=function(t,e,n,A,i){var r="http://www.w3.org/2000/svg",s=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",A.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(i),s},Cs=function(t){return new Promise(function(e,n){var A=new Image;A.onload=function(){return e(A)},A.onerror=n,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},_s={get SUPPORT_RANGE_BOUNDS(){var t=gs(document);return Object.defineProperty(_s,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=_s.SUPPORT_RANGE_BOUNDS&&fs(document);return Object.defineProperty(_s,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=ws(document);return Object.defineProperty(_s,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"===typeof Array.from&&"function"===typeof window.fetch?ys(document):Promise.resolve(!1);return Object.defineProperty(_s,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=ms();return Object.defineProperty(_s,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=vs();return Object.defineProperty(_s,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(_s,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(_s,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Fs=function(){function t(t,e){this.text=t,this.bounds=e}return t}(),Es=function(t,e,n,A){var i=Qs(e,n),r=[],a=0;return i.forEach(function(e){if(n.textDecorationLine.length||e.trim().length>0)if(_s.SUPPORT_RANGE_BOUNDS){var i=Ss(A,a,e.length).getClientRects();if(i.length>1){var o=ks(e),l=0;o.forEach(function(e){r.push(new Fs(e,s.fromDOMRectList(t,Ss(A,l+a,e.length).getClientRects()))),l+=e.length})}else r.push(new Fs(e,s.fromDOMRectList(t,i)))}else{var c=A.splitText(e.length);r.push(new Fs(e,xs(t,A))),A=c}else _s.SUPPORT_RANGE_BOUNDS||(A=A.splitText(e.length));a+=e.length}),r},xs=function(t,e){var n=e.ownerDocument;if(n){var A=n.createElement("html2canvaswrapper");A.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(A,e);var r=a(t,A);return A.firstChild&&i.replaceChild(A.firstChild,A),r}}return s.EMPTY},Ss=function(t,e,n){var A=t.ownerDocument;if(!A)throw new Error("Node has no owner document");var i=A.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},ks=function(t){if(_s.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(t){return t.segment})}return ps(t)},Us=function(t,e){if(_s.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(t){return t.segment})}return Ms(t,e)},Qs=function(t,e){return 0!==e.letterSpacing?ks(t):Us(t,e)},Ps=[32,160,4961,65792,65793,4153,4241],Ms=function(t,e){for(var n,A=Gt(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),i=[],r=function(){if(n.value){var t=n.value.slice(),e=l(t),A="";e.forEach(function(t){-1===Ps.indexOf(t)?A+=c(t):(A.length&&i.push(A),i.push(c(t)),A="")}),A.length&&i.push(A)}};!(n=A.next()).done;)r();return i},Is=function(){function t(t,e,n){this.text=Ts(e.data,n.textTransform),this.textBounds=Es(t,this.text,n,e)}return t}(),Ts=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Ds,Ls);case 2:return t.toUpperCase();default:return t}},Ds=/(^|\s|:|-|\(|\))([a-z])/g,Ls=function(t,e,n){return t.length>0?e+n.toUpperCase():t},Rs=function(t){function n(e,n){var A=t.call(this,e,n)||this;return A.src=n.currentSrc||n.src,A.intrinsicWidth=n.naturalWidth,A.intrinsicHeight=n.naturalHeight,A.context.cache.addImage(A.src),A}return e(n,t),n}(br),Os=function(t){function n(e,n){var A=t.call(this,e,n)||this;return A.canvas=n,A.intrinsicWidth=n.width,A.intrinsicHeight=n.height,A}return e(n,t),n}(br),Hs=function(t){function n(e,n){var A=t.call(this,e,n)||this,i=new XMLSerializer,r=a(e,n);return n.setAttribute("width",r.width+"px"),n.setAttribute("height",r.height+"px"),A.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),A.intrinsicWidth=n.width.baseVal.value,A.intrinsicHeight=n.height.baseVal.value,A.context.cache.addImage(A.svg),A}return e(n,t),n}(br),Ns=function(t){function n(e,n){var A=t.call(this,e,n)||this;return A.value=n.value,A}return e(n,t),n}(br),Gs=function(t){function n(e,n){var A=t.call(this,e,n)||this;return A.start=n.start,A.reversed="boolean"===typeof n.reversed&&!0===n.reversed,A}return e(n,t),n}(br),Ks=[{type:15,flags:0,unit:"px",number:3}],Ws=[{type:16,flags:0,number:50}],js=function(t){return t.width>t.height?new s(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new s(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Vs=function(t){var e=t.type===qs?new Array(t.value.length+1).join("\u2022"):t.value;return 0===e.length?t.placeholder||"":e},zs="checkbox",Xs="radio",qs="password",Ys=707406591,Js=function(t){function n(e,n){var A=t.call(this,e,n)||this;switch(A.type=n.type.toLowerCase(),A.checked=n.checked,A.value=Vs(n),A.type!==zs&&A.type!==Xs||(A.styles.backgroundColor=3739148031,A.styles.borderTopColor=A.styles.borderRightColor=A.styles.borderBottomColor=A.styles.borderLeftColor=2779096575,A.styles.borderTopWidth=A.styles.borderRightWidth=A.styles.borderBottomWidth=A.styles.borderLeftWidth=1,A.styles.borderTopStyle=A.styles.borderRightStyle=A.styles.borderBottomStyle=A.styles.borderLeftStyle=1,A.styles.backgroundClip=[0],A.styles.backgroundOrigin=[0],A.bounds=js(A.bounds)),A.type){case zs:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=Ks;break;case Xs:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=Ws}return A}return e(n,t),n}(br),Zs=function(t){function n(e,n){var A=t.call(this,e,n)||this,i=n.options[n.selectedIndex||0];return A.value=i&&i.text||"",A}return e(n,t),n}(br),$s=function(t){function n(e,n){var A=t.call(this,e,n)||this;return A.value=n.value,A}return e(n,t),n}(br),ta=function(t){function n(e,n){var A=t.call(this,e,n)||this;A.src=n.src,A.width=parseInt(n.width,10)||0,A.height=parseInt(n.height,10)||0,A.backgroundColor=A.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){A.tree=ia(e,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?hA(e,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):uA.TRANSPARENT,r=n.contentWindow.document.body?hA(e,getComputedStyle(n.contentWindow.document.body).backgroundColor):uA.TRANSPARENT;A.backgroundColor=AA(i)?AA(r)?A.styles.backgroundColor:r:i}}catch(Le){}return A}return e(n,t),n}(br),ea=["OL","UL","MENU"],na=function(t,e,n,A){for(var i=e.firstChild,r=void 0;i;i=r)if(r=i.nextSibling,aa(i)&&i.data.trim().length>0)n.textNodes.push(new Is(t,i,n.styles));else if(oa(i))if(Fa(i)&&i.assignedNodes)i.assignedNodes().forEach(function(e){return na(t,e,n,A)});else{var s=Aa(t,i);s.styles.isVisible()&&(ra(i,s,A)?s.flags|=4:sa(s.styles)&&(s.flags|=2),-1!==ea.indexOf(i.tagName)&&(s.flags|=8),n.elements.push(s),i.slot,i.shadowRoot?na(t,i.shadowRoot,s,A):Ca(i)||ga(i)||_a(i)||na(t,i,s,A))}},Aa=function(t,e){return wa(e)?new Rs(t,e):ma(e)?new Os(t,e):ga(e)?new Hs(t,e):ha(e)?new Ns(t,e):ua(e)?new Gs(t,e):da(e)?new Js(t,e):_a(e)?new Zs(t,e):Ca(e)?new $s(t,e):Ba(e)?new ta(t,e):new br(t,e)},ia=function(t,e){var n=Aa(t,e);return n.flags|=4,na(t,e,n,n),n},ra=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||fa(t)&&n.styles.isTransparent()},sa=function(t){return t.isPositioned()||t.isFloating()},aa=function(t){return t.nodeType===Node.TEXT_NODE},oa=function(t){return t.nodeType===Node.ELEMENT_NODE},la=function(t){return oa(t)&&"undefined"!==typeof t.style&&!ca(t)},ca=function(t){return"object"===typeof t.className},ha=function(t){return"LI"===t.tagName},ua=function(t){return"OL"===t.tagName},da=function(t){return"INPUT"===t.tagName},pa=function(t){return"HTML"===t.tagName},ga=function(t){return"svg"===t.tagName},fa=function(t){return"BODY"===t.tagName},ma=function(t){return"CANVAS"===t.tagName},va=function(t){return"VIDEO"===t.tagName},wa=function(t){return"IMG"===t.tagName},Ba=function(t){return"IFRAME"===t.tagName},ya=function(t){return"STYLE"===t.tagName},ba=function(t){return"SCRIPT"===t.tagName},Ca=function(t){return"TEXTAREA"===t.tagName},_a=function(t){return"SELECT"===t.tagName},Fa=function(t){return"SLOT"===t.tagName},Ea=function(t){return t.tagName.indexOf("-")>0},xa=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach(function(t){return e.counters[t].pop()})},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,A=t.counterReset,i=!0;null!==n&&n.forEach(function(t){var n=e.counters[t.counter];n&&0!==t.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=t.increment)});var r=[];return i&&A.forEach(function(t){var n=e.counters[t.counter];r.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)}),r},t}(),Sa={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ka={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Ua={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Qa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Pa=function(t,e,n,A,i,r){return t<e||t>n?ja(t,i,r.length>0):A.integers.reduce(function(e,n,i){for(;t>=n;)t-=n,e+=A.values[i];return e},"")+r},Ma=function(t,e,n,A){var i="";do{n||t--,i=A(t)+i,t/=e}while(t*e>=e);return i},Ia=function(t,e,n,A,i){var r=n-e+1;return(t<0?"-":"")+(Ma(Math.abs(t),r,A,function(t){return c(Math.floor(t%r)+e)})+i)},Ta=function(t,e,n){void 0===n&&(n=". ");var A=e.length;return Ma(Math.abs(t),A,!1,function(t){return e[Math.floor(t%A)]})+n},Da=1,La=2,Ra=4,Oa=8,Ha=function(t,e,n,A,i,r){if(t<-9999||t>9999)return ja(t,4,i.length>0);var s=Math.abs(t),a=i;if(0===s)return e[0]+a;for(var o=0;s>0&&o<=4;o++){var l=s%10;0===l&&ir(r,Da)&&""!==a?a=e[l]+a:l>1||1===l&&0===o||1===l&&1===o&&ir(r,La)||1===l&&1===o&&ir(r,Ra)&&t>100||1===l&&o>1&&ir(r,Oa)?a=e[l]+(o>0?n[o-1]:"")+a:1===l&&o>0&&(a=n[o-1]+a),s=Math.floor(s/10)}return(t<0?A:"")+a},Na="\u5341\u767e\u5343\u842c",Ga="\u62fe\u4f70\u4edf\u842c",Ka="\u30de\u30a4\u30ca\u30b9",Wa="\ub9c8\uc774\ub108\uc2a4",ja=function(t,e,n){var A=n?". ":"",i=n?"\u3001":"",r=n?", ":"",s=n?" ":"";switch(e){case 0:return"\u2022"+s;case 1:return"\u25e6"+s;case 2:return"\u25fe"+s;case 5:var a=Ia(t,48,57,!0,A);return a.length<4?"0"+a:a;case 4:return Ta(t,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return Pa(t,1,3999,Sa,3,A).toLowerCase();case 7:return Pa(t,1,3999,Sa,3,A);case 8:return Ia(t,945,969,!1,A);case 9:return Ia(t,97,122,!1,A);case 10:return Ia(t,65,90,!1,A);case 11:return Ia(t,1632,1641,!0,A);case 12:case 49:return Pa(t,1,9999,ka,3,A);case 35:return Pa(t,1,9999,ka,3,A).toLowerCase();case 13:return Ia(t,2534,2543,!0,A);case 14:case 30:return Ia(t,6112,6121,!0,A);case 15:return Ta(t,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return Ta(t,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return Ha(t,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Na,"\u8ca0",i,La|Ra|Oa);case 47:return Ha(t,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Ga,"\u8ca0",i,Da|La|Ra|Oa);case 42:return Ha(t,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Na,"\u8d1f",i,La|Ra|Oa);case 41:return Ha(t,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Ga,"\u8d1f",i,Da|La|Ra|Oa);case 26:return Ha(t,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ka,i,0);case 25:return Ha(t,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ka,i,Da|La|Ra);case 31:return Ha(t,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Wa,r,Da|La|Ra);case 33:return Ha(t,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Wa,r,0);case 32:return Ha(t,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Wa,r,Da|La|Ra);case 18:return Ia(t,2406,2415,!0,A);case 20:return Pa(t,1,19999,Qa,3,A);case 21:return Ia(t,2790,2799,!0,A);case 22:return Ia(t,2662,2671,!0,A);case 22:return Pa(t,1,10999,Ua,3,A);case 23:return Ta(t,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Ta(t,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ia(t,3302,3311,!0,A);case 28:return Ta(t,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return Ta(t,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Ia(t,3792,3801,!0,A);case 37:return Ia(t,6160,6169,!0,A);case 38:return Ia(t,4160,4169,!0,A);case 39:return Ia(t,2918,2927,!0,A);case 40:return Ia(t,1776,1785,!0,A);case 43:return Ia(t,3046,3055,!0,A);case 44:return Ia(t,3174,3183,!0,A);case 45:return Ia(t,3664,3673,!0,A);case 46:return Ia(t,3872,3881,!0,A);default:return Ia(t,48,57,!0,A)}},Va="data-html2canvas-ignore",za=function(){function t(t,e,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=e,this.counters=new xa,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var n=this,r=qa(t,e);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,o=r.contentWindow,l=o.document,c=Za(r).then(function(){return A(n,void 0,void 0,function(){var t,n;return i(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(Ao),o&&(o.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||o.scrollY===e.top&&o.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-e.left,o.scrollY-e.top,0,0))),t=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Ja(l)]:[3,4];case 3:A.sent(),A.label=4;case 4:return"function"===typeof t?[2,Promise.resolve().then(function(){return t(l,n)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(eo(document.doctype)+"<html></html>"),no(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(t){if(yr(t,2),ma(t))return this.createCanvasClone(t);if(va(t))return this.createVideoClone(t);if(ya(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return wa(e)&&(wa(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),Ea(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return to(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce(function(t,e){return e&&"string"===typeof e.cssText?t+e.cssText:t},""),A=t.cloneNode(!1);return A.textContent=n,A}}catch(Le){if(this.context.logger.error("Unable to access cssRules property",Le),"SecurityError"!==Le.name)throw Le}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch(Le){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var A=t.cloneNode(!1);try{A.width=t.width,A.height=t.height;var i=t.getContext("2d"),r=A.getContext("2d");if(r)if(!this.options.allowTaint&&i)r.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var s=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(s){var a=s.getContextAttributes();!1===(null===a||void 0===a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}r.drawImage(t,0,0)}return A}catch(Le){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return A},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var n=e.getContext("2d");try{return n&&(n.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||n.getImageData(0,0,e.width,e.height)),e}catch(Le){this.context.logger.info("Unable to clone video as it is tainted",t)}var A=t.ownerDocument.createElement("canvas");return A.width=t.offsetWidth,A.height=t.offsetHeight,A},t.prototype.appendChildNode=function(t,e,n){oa(e)&&(ba(e)||e.hasAttribute(Va)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&oa(e)&&ya(e)||t.appendChild(this.cloneNode(e,n))},t.prototype.cloneChildNodes=function(t,e,n){for(var A=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(oa(i)&&Fa(i)&&"function"===typeof i.assignedNodes){var r=i.assignedNodes();r.length&&r.forEach(function(t){return A.appendChildNode(e,t,n)})}else this.appendChildNode(e,i,n)},t.prototype.cloneNode=function(t,e){if(aa(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&oa(t)&&(la(t)||ca(t))){var A=this.createElementClone(t);A.style.transitionProperty="none";var i=n.getComputedStyle(t),r=n.getComputedStyle(t,":before"),s=n.getComputedStyle(t,":after");this.referenceElement===t&&la(A)&&(this.clonedReferenceElement=A),fa(A)&&lo(A);var a=this.counters.parse(new mr(this.context,i)),o=this.resolvePseudoContent(t,A,r,jr.BEFORE);Ea(t)&&(e=!0),va(t)||this.cloneChildNodes(t,A,e),o&&A.insertBefore(o,A.firstChild);var l=this.resolvePseudoContent(t,A,s,jr.AFTER);return l&&A.appendChild(l),this.counters.pop(a),(i&&(this.options.copyStyles||ca(t))&&!Ba(t)||e)&&to(i,A),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([A,t.scrollLeft,t.scrollTop]),(Ca(t)||_a(t))&&(Ca(A)||_a(A))&&(A.value=t.value),A}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,A){var i=this;if(n){var r=n.content,s=e.ownerDocument;if(s&&r&&"none"!==r&&"-moz-alt-content"!==r&&"none"!==n.display){this.counters.parse(new mr(this.context,n));var a=new fr(this.context,n),o=s.createElement("html2canvaspseudoelement");to(n,o),a.content.forEach(function(e){if(0===e.type)o.appendChild(s.createTextNode(e.value));else if(22===e.type){var n=s.createElement("img");n.src=e.value,n.style.opacity="1",o.appendChild(n)}else if(18===e.type){if("attr"===e.name){var A=e.values.filter(Mn);A.length&&o.appendChild(s.createTextNode(t.getAttribute(A[0].value)||""))}else if("counter"===e.name){var r=e.values.filter(Ln),l=r[0],c=r[1];if(l&&Mn(l)){var h=i.counters.getCounterValue(l.value),u=c&&Mn(c)?_i.parse(i.context,c.value):3;o.appendChild(s.createTextNode(ja(h,u,!1)))}}else if("counters"===e.name){var d=e.values.filter(Ln),p=(l=d[0],d[1]);if(c=d[2],l&&Mn(l)){var g=i.counters.getCounterValues(l.value),f=c&&Mn(c)?_i.parse(i.context,c.value):3,m=p&&0===p.type?p.value:"",v=g.map(function(t){return ja(t,f,!1)}).join(m);o.appendChild(s.createTextNode(v))}}}else if(20===e.type)switch(e.value){case"open-quote":o.appendChild(s.createTextNode(cr(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":o.appendChild(s.createTextNode(cr(a.quotes,--i.quoteDepth,!1)));break;default:o.appendChild(s.createTextNode(e.value))}}),o.className=so+" "+ao;var l=A===jr.BEFORE?" "+so:" "+ao;return ca(e)?e.className.baseValue+=l:e.className+=l,o}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(jr||(jr={}));var Xa,qa=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(Va,"true"),t.body.appendChild(n),n},Ya=function(t){return new Promise(function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()})},Ja=function(t){return Promise.all([].slice.call(t.images,0).map(Ya))},Za=function(t){return new Promise(function(e,n){var A=t.contentWindow;if(!A)return n("No window assigned for iframe");var i=A.document;A.onload=t.onload=function(){A.onload=t.onload=null;var n=setInterval(function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),e(t))},50)}})},$a=["all","d","content"],to=function(t,e){for(var n=t.length-1;n>=0;n--){var A=t.item(n);-1===$a.indexOf(A)&&e.style.setProperty(A,t.getPropertyValue(A))}return e},eo=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},no=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Ao=function(t){var e=t[0],n=t[1],A=t[2];e.scrollLeft=n,e.scrollTop=A},io=":before",ro=":after",so="___html2canvas___pseudoelement_before",ao="___html2canvas___pseudoelement_after",oo='{\n    content: "" !important;\n    display: none !important;\n}',lo=function(t){co(t,"."+so+io+oo+"\n         ."+ao+ro+oo)},co=function(t,e){var n=t.ownerDocument;if(n){var A=n.createElement("style");A.textContent=e,t.appendChild(A)}},ho=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),uo=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Bo(t)||mo(t)?((this._cache[t]=this.loadImage(t)).catch(function(){}),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return A(this,void 0,void 0,function(){var e,n,A,r,s=this;return i(this,function(i){switch(i.label){case 0:return e=ho.isSameOrigin(t),n=!vo(t)&&!0===this._options.useCORS&&_s.SUPPORT_CORS_IMAGES&&!e,A=!vo(t)&&!e&&!Bo(t)&&"string"===typeof this._options.proxy&&_s.SUPPORT_CORS_XHR&&!n,e||!1!==this._options.allowTaint||vo(t)||Bo(t)||A||n?(r=t,A?[4,this.proxy(r)]:[3,2]):[2];case 1:r=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(t,e){var A=new Image;A.onload=function(){return t(A)},A.onerror=e,(wo(r)||n)&&(A.crossOrigin="anonymous"),A.src=r,!0===A.complete&&setTimeout(function(){return t(A)},500),s._options.imageTimeout>0&&setTimeout(function(){return e("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},t.prototype.has=function(t){return"undefined"!==typeof this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var A=t.substring(0,256);return new Promise(function(i,r){var s=_s.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===s)i(a.response);else{var t=new FileReader;t.addEventListener("load",function(){return i(t.result)},!1),t.addEventListener("error",function(t){return r(t)},!1),t.readAsDataURL(a.response)}else r("Failed to proxy resource "+A+" with status code "+a.status)},a.onerror=r;var o=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+o+"url="+encodeURIComponent(t)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),e._options.imageTimeout){var l=e._options.imageTimeout;a.timeout=l,a.ontimeout=function(){return r("Timed out ("+l+"ms) proxying "+A)}}a.send()})},t}(),po=/^data:image\/svg\+xml/i,go=/^data:image\/.*;base64,/i,fo=/^data:image\/.*/i,mo=function(t){return _s.SUPPORT_SVG_DRAWING||!yo(t)},vo=function(t){return fo.test(t)},wo=function(t){return go.test(t)},Bo=function(t){return"blob"===t.substr(0,4)},yo=function(t){return"svg"===t.substr(-3).toLowerCase()||po.test(t)},bo=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Co=function(t,e,n){return new bo(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},_o=function(){function t(t,e,n,A){this.type=1,this.start=t,this.startControl=e,this.endControl=n,this.end=A}return t.prototype.subdivide=function(e,n){var A=Co(this.start,this.startControl,e),i=Co(this.startControl,this.endControl,e),r=Co(this.endControl,this.end,e),s=Co(A,i,e),a=Co(i,r,e),o=Co(s,a,e);return n?new t(this.start,A,s,o):new t(o,a,r,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Fo=function(t){return 1===t.type},Eo=function(){function t(t){var e=t.styles,n=t.bounds,A=Vn(e.borderTopLeftRadius,n.width,n.height),i=A[0],r=A[1],s=Vn(e.borderTopRightRadius,n.width,n.height),a=s[0],o=s[1],l=Vn(e.borderBottomRightRadius,n.width,n.height),c=l[0],h=l[1],u=Vn(e.borderBottomLeftRadius,n.width,n.height),d=u[0],p=u[1],g=[];g.push((i+a)/n.width),g.push((d+c)/n.width),g.push((r+p)/n.height),g.push((o+h)/n.height);var f=Math.max.apply(Math,g);f>1&&(i/=f,r/=f,a/=f,o/=f,c/=f,h/=f,d/=f,p/=f);var m=n.width-a,v=n.height-h,w=n.width-c,B=n.height-p,y=e.borderTopWidth,b=e.borderRightWidth,C=e.borderBottomWidth,_=e.borderLeftWidth,F=zn(e.paddingTop,t.bounds.width),E=zn(e.paddingRight,t.bounds.width),x=zn(e.paddingBottom,t.bounds.width),S=zn(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||r>0?xo(n.left+_/3,n.top+y/3,i-_/3,r-y/3,Xa.TOP_LEFT):new bo(n.left+_/3,n.top+y/3),this.topRightBorderDoubleOuterBox=i>0||r>0?xo(n.left+m,n.top+y/3,a-b/3,o-y/3,Xa.TOP_RIGHT):new bo(n.left+n.width-b/3,n.top+y/3),this.bottomRightBorderDoubleOuterBox=c>0||h>0?xo(n.left+w,n.top+v,c-b/3,h-C/3,Xa.BOTTOM_RIGHT):new bo(n.left+n.width-b/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=d>0||p>0?xo(n.left+_/3,n.top+B,d-_/3,p-C/3,Xa.BOTTOM_LEFT):new bo(n.left+_/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=i>0||r>0?xo(n.left+2*_/3,n.top+2*y/3,i-2*_/3,r-2*y/3,Xa.TOP_LEFT):new bo(n.left+2*_/3,n.top+2*y/3),this.topRightBorderDoubleInnerBox=i>0||r>0?xo(n.left+m,n.top+2*y/3,a-2*b/3,o-2*y/3,Xa.TOP_RIGHT):new bo(n.left+n.width-2*b/3,n.top+2*y/3),this.bottomRightBorderDoubleInnerBox=c>0||h>0?xo(n.left+w,n.top+v,c-2*b/3,h-2*C/3,Xa.BOTTOM_RIGHT):new bo(n.left+n.width-2*b/3,n.top+n.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=d>0||p>0?xo(n.left+2*_/3,n.top+B,d-2*_/3,p-2*C/3,Xa.BOTTOM_LEFT):new bo(n.left+2*_/3,n.top+n.height-2*C/3),this.topLeftBorderStroke=i>0||r>0?xo(n.left+_/2,n.top+y/2,i-_/2,r-y/2,Xa.TOP_LEFT):new bo(n.left+_/2,n.top+y/2),this.topRightBorderStroke=i>0||r>0?xo(n.left+m,n.top+y/2,a-b/2,o-y/2,Xa.TOP_RIGHT):new bo(n.left+n.width-b/2,n.top+y/2),this.bottomRightBorderStroke=c>0||h>0?xo(n.left+w,n.top+v,c-b/2,h-C/2,Xa.BOTTOM_RIGHT):new bo(n.left+n.width-b/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=d>0||p>0?xo(n.left+_/2,n.top+B,d-_/2,p-C/2,Xa.BOTTOM_LEFT):new bo(n.left+_/2,n.top+n.height-C/2),this.topLeftBorderBox=i>0||r>0?xo(n.left,n.top,i,r,Xa.TOP_LEFT):new bo(n.left,n.top),this.topRightBorderBox=a>0||o>0?xo(n.left+m,n.top,a,o,Xa.TOP_RIGHT):new bo(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||h>0?xo(n.left+w,n.top+v,c,h,Xa.BOTTOM_RIGHT):new bo(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||p>0?xo(n.left,n.top+B,d,p,Xa.BOTTOM_LEFT):new bo(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||r>0?xo(n.left+_,n.top+y,Math.max(0,i-_),Math.max(0,r-y),Xa.TOP_LEFT):new bo(n.left+_,n.top+y),this.topRightPaddingBox=a>0||o>0?xo(n.left+Math.min(m,n.width-b),n.top+y,m>n.width+b?0:Math.max(0,a-b),Math.max(0,o-y),Xa.TOP_RIGHT):new bo(n.left+n.width-b,n.top+y),this.bottomRightPaddingBox=c>0||h>0?xo(n.left+Math.min(w,n.width-_),n.top+Math.min(v,n.height-C),Math.max(0,c-b),Math.max(0,h-C),Xa.BOTTOM_RIGHT):new bo(n.left+n.width-b,n.top+n.height-C),this.bottomLeftPaddingBox=d>0||p>0?xo(n.left+_,n.top+Math.min(B,n.height-C),Math.max(0,d-_),Math.max(0,p-C),Xa.BOTTOM_LEFT):new bo(n.left+_,n.top+n.height-C),this.topLeftContentBox=i>0||r>0?xo(n.left+_+S,n.top+y+F,Math.max(0,i-(_+S)),Math.max(0,r-(y+F)),Xa.TOP_LEFT):new bo(n.left+_+S,n.top+y+F),this.topRightContentBox=a>0||o>0?xo(n.left+Math.min(m,n.width+_+S),n.top+y+F,m>n.width+_+S?0:a-_+S,o-(y+F),Xa.TOP_RIGHT):new bo(n.left+n.width-(b+E),n.top+y+F),this.bottomRightContentBox=c>0||h>0?xo(n.left+Math.min(w,n.width-(_+S)),n.top+Math.min(v,n.height+y+F),Math.max(0,c-(b+E)),h-(C+x),Xa.BOTTOM_RIGHT):new bo(n.left+n.width-(b+E),n.top+n.height-(C+x)),this.bottomLeftContentBox=d>0||p>0?xo(n.left+_+S,n.top+B,Math.max(0,d-(_+S)),p-(C+x),Xa.BOTTOM_LEFT):new bo(n.left+_+S,n.top+n.height-(C+x))}return t}();!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Xa||(Xa={}));var xo=function(t,e,n,A,i){var r=(Math.sqrt(2)-1)/3*4,s=n*r,a=A*r,o=t+n,l=e+A;switch(i){case Xa.TOP_LEFT:return new _o(new bo(t,l),new bo(t,l-a),new bo(o-s,e),new bo(o,e));case Xa.TOP_RIGHT:return new _o(new bo(t,e),new bo(t+s,e),new bo(o,l-a),new bo(o,l));case Xa.BOTTOM_RIGHT:return new _o(new bo(o,e),new bo(o,e+a),new bo(t+s,l),new bo(t,l));case Xa.BOTTOM_LEFT:default:return new _o(new bo(o,l),new bo(o-s,l),new bo(t,e+a),new bo(t,e))}},So=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},ko=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Uo=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Qo=function(){function t(t,e,n){this.offsetX=t,this.offsetY=e,this.matrix=n,this.type=0,this.target=6}return t}(),Po=function(){function t(t,e){this.path=t,this.target=e,this.type=1}return t}(),Mo=function(){function t(t){this.opacity=t,this.type=2,this.target=6}return t}(),Io=function(t){return 0===t.type},To=function(t){return 1===t.type},Do=function(t){return 2===t.type},Lo=function(t,e){return t.length===e.length&&t.some(function(t,n){return t===e[n]})},Ro=function(t,e,n,A,i){return t.map(function(t,r){switch(r){case 0:return t.add(e,n);case 1:return t.add(e+A,n);case 2:return t.add(e+A,n+i);case 3:return t.add(e,n+i)}return t})},Oo=function(){function t(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Ho=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new Eo(this.container),this.container.styles.opacity<1&&this.effects.push(new Mo(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,A=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Qo(n,A,i))}if(0!==this.container.styles.overflowX){var r=So(this.curves),s=Uo(this.curves);Lo(r,s)?this.effects.push(new Po(r,6)):(this.effects.push(new Po(r,2)),this.effects.push(new Po(s,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,A=this.effects.slice(0);n;){var i=n.effects.filter(function(t){return!To(t)});if(e||0!==n.container.styles.position||!n.parent){if(A.unshift.apply(A,i),e=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var r=So(n.curves),s=Uo(n.curves);Lo(r,s)||A.unshift(new Po(s,6))}}else A.unshift.apply(A,i);n=n.parent}return A.filter(function(e){return ir(e.target,t)})},t}(),No=function(t,e,n,A){t.container.elements.forEach(function(i){var r=ir(i.flags,4),s=ir(i.flags,2),a=new Ho(i,t);ir(i.styles.display,2048)&&A.push(a);var o=ir(i.flags,8)?[]:A;if(r||s){var l=r||i.styles.isPositioned()?n:e,c=new Oo(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var u=0;l.negativeZIndex.some(function(t,e){return h>t.element.container.styles.zIndex.order?(u=e,!1):u>0}),l.negativeZIndex.splice(u,0,c)}else if(h>0){var d=0;l.positiveZIndex.some(function(t,e){return h>=t.element.container.styles.zIndex.order?(d=e+1,!1):d>0}),l.positiveZIndex.splice(d,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);No(a,c,r?c:n,o)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),No(a,e,n,o);ir(i.flags,8)&&Go(i,o)})},Go=function(t,e){for(var n=t instanceof Gs?t.start:1,A=t instanceof Gs&&t.reversed,i=0;i<e.length;i++){var r=e[i];r.container instanceof Ns&&"number"===typeof r.container.value&&0!==r.container.value&&(n=r.container.value),r.listValue=ja(n,r.container.styles.listStyleType,!0),n+=A?-1:1}},Ko=function(t){var e=new Ho(t,null),n=new Oo(e),A=[];return No(e,n,n,A),Go(e.container,A),n},Wo=function(t,e){switch(e){case 0:return qo(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return qo(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return qo(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return qo(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},jo=function(t,e){switch(e){case 0:return qo(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return qo(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return qo(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return qo(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Vo=function(t,e){switch(e){case 0:return qo(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return qo(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return qo(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return qo(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},zo=function(t,e){switch(e){case 0:return Xo(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Xo(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Xo(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return Xo(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Xo=function(t,e){var n=[];return Fo(t)?n.push(t.subdivide(.5,!1)):n.push(t),Fo(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},qo=function(t,e,n,A){var i=[];return Fo(t)?i.push(t.subdivide(.5,!1)):i.push(t),Fo(n)?i.push(n.subdivide(.5,!0)):i.push(n),Fo(A)?i.push(A.subdivide(.5,!0).reverse()):i.push(A),Fo(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Yo=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Jo=function(t){var e=t.styles,n=t.bounds,A=zn(e.paddingLeft,n.width),i=zn(e.paddingRight,n.width),r=zn(e.paddingTop,n.width),s=zn(e.paddingBottom,n.width);return n.add(A+e.borderLeftWidth,r+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+A+i),-(e.borderTopWidth+e.borderBottomWidth+r+s))},Zo=function(t,e){return 0===t?e.bounds:2===t?Jo(e):Yo(e)},$o=function(t,e){return 0===t?e.bounds:2===t?Jo(e):Yo(e)},tl=function(t,e,n){var A=Zo(il(t.styles.backgroundOrigin,e),t),i=$o(il(t.styles.backgroundClip,e),t),r=Al(il(t.styles.backgroundSize,e),n,A),s=r[0],a=r[1],o=Vn(il(t.styles.backgroundPosition,e),A.width-s,A.height-a);return[rl(il(t.styles.backgroundRepeat,e),o,r,A,i),Math.round(A.left+o[0]),Math.round(A.top+o[1]),s,a]},el=function(t){return Mn(t)&&t.value===DA.AUTO},nl=function(t){return"number"===typeof t},Al=function(t,e,n){var A=e[0],i=e[1],r=e[2],s=t[0],a=t[1];if(!s)return[0,0];if(Nn(s)&&a&&Nn(a))return[zn(s,n.width),zn(a,n.height)];var o=nl(r);if(Mn(s)&&(s.value===DA.CONTAIN||s.value===DA.COVER))return nl(r)?n.width/n.height<r!==(s.value===DA.COVER)?[n.width,n.width/r]:[n.height*r,n.height]:[n.width,n.height];var l=nl(A),c=nl(i),h=l||c;if(el(s)&&(!a||el(a)))return l&&c?[A,i]:o||h?h&&o?[l?A:i*r,c?i:A/r]:[l?A:n.width,c?i:n.height]:[n.width,n.height];if(o){var u=0,d=0;return Nn(s)?u=zn(s,n.width):Nn(a)&&(d=zn(a,n.height)),el(s)?u=d*r:a&&!el(a)||(d=u/r),[u,d]}var p=null,g=null;if(Nn(s)?p=zn(s,n.width):a&&Nn(a)&&(g=zn(a,n.height)),null===p||a&&!el(a)||(g=l&&c?p/A*i:n.height),null!==g&&el(s)&&(p=l&&c?g/i*A:n.width),null!==p&&null!==g)return[p,g];throw new Error("Unable to calculate background-size for element")},il=function(t,e){var n=t[e];return"undefined"===typeof n?t[0]:n},rl=function(t,e,n,A,i){var r=e[0],s=e[1],a=n[0],o=n[1];switch(t){case 2:return[new bo(Math.round(A.left),Math.round(A.top+s)),new bo(Math.round(A.left+A.width),Math.round(A.top+s)),new bo(Math.round(A.left+A.width),Math.round(o+A.top+s)),new bo(Math.round(A.left),Math.round(o+A.top+s))];case 3:return[new bo(Math.round(A.left+r),Math.round(A.top)),new bo(Math.round(A.left+r+a),Math.round(A.top)),new bo(Math.round(A.left+r+a),Math.round(A.height+A.top)),new bo(Math.round(A.left+r),Math.round(A.height+A.top))];case 1:return[new bo(Math.round(A.left+r),Math.round(A.top+s)),new bo(Math.round(A.left+r+a),Math.round(A.top+s)),new bo(Math.round(A.left+r+a),Math.round(A.top+s+o)),new bo(Math.round(A.left+r),Math.round(A.top+s+o))];default:return[new bo(Math.round(i.left),Math.round(i.top)),new bo(Math.round(i.left+i.width),Math.round(i.top)),new bo(Math.round(i.left+i.width),Math.round(i.height+i.top)),new bo(Math.round(i.left),Math.round(i.height+i.top))]}},sl="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",al="Hidden Text",ol=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),A=this._document.createElement("img"),i=this._document.createElement("span"),r=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",r.appendChild(n),A.src=sl,A.width=1,A.height=1,A.style.margin="0",A.style.padding="0",A.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(al)),n.appendChild(i),n.appendChild(A);var s=A.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(al)),n.style.lineHeight="normal",A.style.verticalAlign="super";var a=A.offsetTop-n.offsetTop+2;return r.removeChild(n),{baseline:s,middle:a}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),ll=function(){function t(t,e){this.context=t,this.options=e}return t}(),cl=1e4,hl=function(t){function n(e,n){var A=t.call(this,e,n)||this;return A._activeEffects=[],A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),n.canvas||(A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px"),A.fontMetrics=new ol(document),A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.ctx.textBaseline="bottom",A._activeEffects=[],A.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),A}return e(n,t),n.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach(function(t){return e.applyEffect(t)})},n.prototype.applyEffect=function(t){this.ctx.save(),Do(t)&&(this.ctx.globalAlpha=t.opacity),Io(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),To(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(t){return A(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(t){return A(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return ir(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(t,e,n){var A=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n):ks(t.text).reduce(function(e,i){return A.ctx.fillText(i,e,t.bounds.top+n),e+A.ctx.measureText(i).width},t.bounds.left)},n.prototype.createFontStyle=function(t){var e=t.fontVariant.filter(function(t){return"normal"===t||"small-caps"===t}).join(""),n=fl(t.fontFamily).join(", "),A=Qn(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,A,n].join(" "),n,A]},n.prototype.renderTextNode=function(t,e){return A(this,void 0,void 0,function(){var n,A,r,s,a,o,l,c,h=this;return i(this,function(i){return n=this.createFontStyle(e),A=n[0],r=n[1],s=n[2],this.ctx.font=A,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(r,s),o=a.baseline,l=a.middle,c=e.paintOrder,t.textBounds.forEach(function(t){c.forEach(function(n){switch(n){case 0:h.ctx.fillStyle=iA(e.color),h.renderTextWithLetterSpacing(t,e.letterSpacing,o);var A=e.textShadow;A.length&&t.text.trim().length&&(A.slice(0).reverse().forEach(function(n){h.ctx.shadowColor=iA(n.color),h.ctx.shadowOffsetX=n.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=n.offsetY.number*h.options.scale,h.ctx.shadowBlur=n.blur.number,h.renderTextWithLetterSpacing(t,e.letterSpacing,o)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),e.textDecorationLine.length&&(h.ctx.fillStyle=iA(e.textDecorationColor||e.color),e.textDecorationLine.forEach(function(e){switch(e){case 1:h.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+o),t.bounds.width,1);break;case 2:h.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:h.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+l),t.bounds.width,1)}}));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(h.ctx.strokeStyle=iA(e.webkitTextStrokeColor),h.ctx.lineWidth=e.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+o)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var A=Jo(t),i=Uo(e);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(t){return A(this,void 0,void 0,function(){var e,A,r,a,o,l,c,h,u,d,p,g,f,m,v,w,B,y;return i(this,function(i){switch(i.label){case 0:this.applyEffects(t.getEffects(4)),e=t.container,A=t.curves,r=e.styles,a=0,o=e.textNodes,i.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,r)]):[3,4];case 2:i.sent(),i.label=3;case 3:return a++,[3,1];case 4:if(!(e instanceof Rs))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(e.src)];case 6:return v=i.sent(),this.renderReplacedElement(e,A,v),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+e.src),[3,8];case 8:if(e instanceof Os&&this.renderReplacedElement(e,A,e.canvas),!(e instanceof Hs))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(e.svg)];case 10:return v=i.sent(),this.renderReplacedElement(e,A,v),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+e.svg.substring(0,255)),[3,12];case 12:return e instanceof ta&&e.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:e.backgroundColor,x:0,y:0,width:e.width,height:e.height}).render(e.tree)]:[3,14];case 13:c=i.sent(),e.width&&e.height&&this.ctx.drawImage(c,0,0,e.width,e.height,e.bounds.left,e.bounds.top,e.bounds.width,e.bounds.height),i.label=14;case 14:if(e instanceof Js&&(h=Math.min(e.bounds.width,e.bounds.height),e.type===zs?e.checked&&(this.ctx.save(),this.path([new bo(e.bounds.left+.39363*h,e.bounds.top+.79*h),new bo(e.bounds.left+.16*h,e.bounds.top+.5549*h),new bo(e.bounds.left+.27347*h,e.bounds.top+.44071*h),new bo(e.bounds.left+.39694*h,e.bounds.top+.5649*h),new bo(e.bounds.left+.72983*h,e.bounds.top+.23*h),new bo(e.bounds.left+.84*h,e.bounds.top+.34085*h),new bo(e.bounds.left+.39363*h,e.bounds.top+.79*h)]),this.ctx.fillStyle=iA(Ys),this.ctx.fill(),this.ctx.restore()):e.type===Xs&&e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.bounds.left+h/2,e.bounds.top+h/2,h/4,0,2*Math.PI,!0),this.ctx.fillStyle=iA(Ys),this.ctx.fill(),this.ctx.restore())),ul(e)&&e.value.length){switch(u=this.createFontStyle(r),B=u[0],d=u[1],p=this.fontMetrics.getMetrics(B,d).baseline,this.ctx.font=B,this.ctx.fillStyle=iA(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pl(e.styles.textAlign),y=Jo(e),g=0,e.styles.textAlign){case 1:g+=y.width/2;break;case 2:g+=y.width}f=y.add(g,0,0,-y.height/2+1),this.ctx.save(),this.path([new bo(y.left,y.top),new bo(y.left+y.width,y.top),new bo(y.left+y.width,y.top+y.height),new bo(y.left,y.top+y.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Fs(e.value,f),r.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ir(e.styles.display,2048))return[3,20];if(null===e.styles.listStyleImage)return[3,19];if(0!==(m=e.styles.listStyleImage).type)return[3,18];v=void 0,w=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return v=i.sent(),this.ctx.drawImage(v,e.bounds.left-(v.width+10),e.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==e.styles.listStyleType&&(B=this.createFontStyle(r)[0],this.ctx.font=B,this.ctx.fillStyle=iA(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",y=new s(e.bounds.left,e.bounds.top+zn(e.styles.paddingTop,e.bounds.width),e.bounds.width,yi(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Fs(t.listValue,y),r.letterSpacing,yi(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(t){return A(this,void 0,void 0,function(){var e,n,A,r,s,a,o,l,c,h,u,d,p,g,f;return i(this,function(i){switch(i.label){case 0:return ir(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:i.sent(),e=0,n=t.negativeZIndex,i.label=2;case 2:return e<n.length?(f=n[e],[4,this.renderStack(f)]):[3,5];case 3:i.sent(),i.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:i.sent(),A=0,r=t.nonInlineLevel,i.label=7;case 7:return A<r.length?(f=r[A],[4,this.renderNode(f)]):[3,10];case 8:i.sent(),i.label=9;case 9:return A++,[3,7];case 10:s=0,a=t.nonPositionedFloats,i.label=11;case 11:return s<a.length?(f=a[s],[4,this.renderStack(f)]):[3,14];case 12:i.sent(),i.label=13;case 13:return s++,[3,11];case 14:o=0,l=t.nonPositionedInlineLevel,i.label=15;case 15:return o<l.length?(f=l[o],[4,this.renderStack(f)]):[3,18];case 16:i.sent(),i.label=17;case 17:return o++,[3,15];case 18:c=0,h=t.inlineLevel,i.label=19;case 19:return c<h.length?(f=h[c],[4,this.renderNode(f)]):[3,22];case 20:i.sent(),i.label=21;case 21:return c++,[3,19];case 22:u=0,d=t.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return u<d.length?(f=d[u],[4,this.renderStack(f)]):[3,26];case 24:i.sent(),i.label=25;case 25:return u++,[3,23];case 26:p=0,g=t.positiveZIndex,i.label=27;case 27:return p<g.length?(f=g[p],[4,this.renderStack(f)]):[3,30];case 28:i.sent(),i.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},n.prototype.formatPath=function(t){var e=this;t.forEach(function(t,n){var A=Fo(t)?t.start:t;0===n?e.ctx.moveTo(A.x,A.y):e.ctx.lineTo(A.x,A.y),Fo(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)})},n.prototype.renderRepeat=function(t,e,n,A){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,A),this.ctx.fill(),this.ctx.translate(-n,-A)},n.prototype.resizeImage=function(t,e,n){var A;if(t.width===e&&t.height===n)return t;var i=(null!==(A=this.canvas.ownerDocument)&&void 0!==A?A:document).createElement("canvas");return i.width=Math.max(1,e),i.height=Math.max(1,n),i.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,n),i},n.prototype.renderBackgroundImage=function(t){return A(this,void 0,void 0,function(){var e,n,A,r,s,a;return i(this,function(o){switch(o.label){case 0:e=t.styles.backgroundImage.length-1,n=function(n){var r,s,a,o,l,c,h,u,d,p,g,f,m,v,w,B,y,b,C,_,F,E,x,S,k,U,Q,P,M,I,T;return i(this,function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];r=void 0,s=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,A.context.cache.match(s)];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),A.context.logger.error("Error loading background-image "+s),[3,4];case 4:return r&&(a=tl(t,e,[r.width,r.height,r.width/r.height]),B=a[0],E=a[1],x=a[2],C=a[3],_=a[4],v=A.ctx.createPattern(A.resizeImage(r,C,_),"repeat"),A.renderRepeat(B,v,E,x)),[3,6];case 5:PA(n)?(o=tl(t,e,[null,null,null]),B=o[0],E=o[1],x=o[2],C=o[3],_=o[4],l=vA(n.angle,C,_),c=l[0],h=l[1],u=l[2],d=l[3],p=l[4],(g=document.createElement("canvas")).width=C,g.height=_,f=g.getContext("2d"),m=f.createLinearGradient(h,d,u,p),fA(n.stops,c).forEach(function(t){return m.addColorStop(t.stop,iA(t.color))}),f.fillStyle=m,f.fillRect(0,0,C,_),C>0&&_>0&&(v=A.ctx.createPattern(g,"repeat"),A.renderRepeat(B,v,E,x))):MA(n)&&(w=tl(t,e,[null,null,null]),B=w[0],y=w[1],b=w[2],C=w[3],_=w[4],F=0===n.position.length?[Wn]:n.position,E=zn(F[0],C),x=zn(F[F.length-1],_),S=yA(n,E,x,C,_),k=S[0],U=S[1],k>0&&U>0&&(Q=A.ctx.createRadialGradient(y+E,b+x,0,y+E,b+x,k),fA(n.stops,2*k).forEach(function(t){return Q.addColorStop(t.stop,iA(t.color))}),A.path(B),A.ctx.fillStyle=Q,k!==U?(P=t.bounds.left+.5*t.bounds.width,M=t.bounds.top+.5*t.bounds.height,T=1/(I=U/k),A.ctx.save(),A.ctx.translate(P,M),A.ctx.transform(1,0,0,I,0,0),A.ctx.translate(-P,-M),A.ctx.fillRect(y,T*(b-M)+M,C,_*T),A.ctx.restore()):A.ctx.fill())),i.label=6;case 6:return e--,[2]}})},A=this,r=0,s=t.styles.backgroundImage.slice(0).reverse(),o.label=1;case 1:return r<s.length?(a=s[r],[5,n(a)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(t,e,n){return A(this,void 0,void 0,function(){return i(this,function(A){return this.path(Wo(n,e)),this.ctx.fillStyle=iA(t),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(t,e,n,r){return A(this,void 0,void 0,function(){var A,s;return i(this,function(i){switch(i.label){case 0:return e<3?[4,this.renderSolidBorder(t,n,r)]:[3,2];case 1:return i.sent(),[2];case 2:return A=jo(r,n),this.path(A),this.ctx.fillStyle=iA(t),this.ctx.fill(),s=Vo(r,n),this.path(s),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(t){return A(this,void 0,void 0,function(){var e,n,A,r,s,a,o,l,c=this;return i(this,function(i){switch(i.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,n=!AA(e.backgroundColor)||e.backgroundImage.length,A=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],r=dl(il(e.backgroundClip,0),t.curves),n||e.boxShadow.length?(this.ctx.save(),this.path(r),this.ctx.clip(),AA(e.backgroundColor)||(this.ctx.fillStyle=iA(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach(function(e){c.ctx.save();var n=So(t.curves),A=e.inset?0:cl,i=Ro(n,-A+(e.inset?1:-1)*e.spread.number,(e.inset?1:-1)*e.spread.number,e.spread.number*(e.inset?-2:2),e.spread.number*(e.inset?-2:2));e.inset?(c.path(n),c.ctx.clip(),c.mask(i)):(c.mask(n),c.ctx.clip(),c.path(i)),c.ctx.shadowOffsetX=e.offsetX.number+A,c.ctx.shadowOffsetY=e.offsetY.number,c.ctx.shadowColor=iA(e.color),c.ctx.shadowBlur=e.blur.number,c.ctx.fillStyle=e.inset?iA(e.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),i.label=2;case 2:s=0,a=0,o=A,i.label=3;case 3:return a<o.length?0!==(l=o[a]).style&&!AA(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,s,t.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,s,t.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,s,t.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,s,t.curves)];case 10:i.sent(),i.label=11;case 11:s++,i.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(t,e,n,r,s){return A(this,void 0,void 0,function(){var A,a,o,l,c,h,u,d,p,g,f,m,v,w,B,y;return i(this,function(i){return this.ctx.save(),A=zo(r,n),a=Wo(r,n),2===s&&(this.path(a),this.ctx.clip()),Fo(a[0])?(o=a[0].start.x,l=a[0].start.y):(o=a[0].x,l=a[0].y),Fo(a[1])?(c=a[1].end.x,h=a[1].end.y):(c=a[1].x,h=a[1].y),u=0===n||2===n?Math.abs(o-c):Math.abs(l-h),this.ctx.beginPath(),3===s?this.formatPath(A):this.formatPath(a.slice(0,2)),d=e<3?3*e:2*e,p=e<3?2*e:e,3===s&&(d=e,p=e),g=!0,u<=2*d?g=!1:u<=2*d+p?(d*=f=u/(2*d+p),p*=f):(m=Math.floor((u+p)/(d+p)),v=(u-m*d)/(m-1),p=(w=(u-(m+1)*d)/m)<=0||Math.abs(p-v)<Math.abs(p-w)?v:w),g&&(3===s?this.ctx.setLineDash([0,d+p]):this.ctx.setLineDash([d,p])),3===s?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=iA(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===s&&(Fo(a[0])&&(B=a[3],y=a[0],this.ctx.beginPath(),this.formatPath([new bo(B.end.x,B.end.y),new bo(y.start.x,y.start.y)]),this.ctx.stroke()),Fo(a[1])&&(B=a[1],y=a[2],this.ctx.beginPath(),this.formatPath([new bo(B.end.x,B.end.y),new bo(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(t){return A(this,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=iA(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),e=Ko(t),[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(ll),ul=function(t){return t instanceof $s||t instanceof Zs||t instanceof Js&&t.type!==Xs&&t.type!==zs},dl=function(t,e){switch(t){case 0:return So(e);case 2:return ko(e);default:return Uo(e)}},pl=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},gl=["-apple-system","system-ui"],fl=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(t){return-1===gl.indexOf(t)}):t},ml=function(t){function n(e,n){var A=t.call(this,e,n)||this;return A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),A.options=n,A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px",A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),A}return e(n,t),n.prototype.render=function(t){return A(this,void 0,void 0,function(){var e,n;return i(this,function(A){switch(A.label){case 0:return e=bs(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,vl(e)];case 1:return n=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=iA(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(ll),vl=function(t){return new Promise(function(e,n){var A=new Image;A.onload=function(){e(A)},A.onerror=n,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},wl=function(){function t(t){var e=t.id,n=t.enabled;this.id=e,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,r([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,r([this.id,this.getTime()+"ms"],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,r([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,r([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.instances={},t}(),Bl=function(){function t(e,n){var A;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new wl({id:this.instanceName,enabled:e.logging}),this.cache=null!==(A=e.cache)&&void 0!==A?A:new uo(this,e)}return t.instanceCount=1,t}(),yl=function(t,e){return void 0===e&&(e={}),bl(t,e)};"undefined"!==typeof window&&ho.setContext(window);var bl=function(t,e){return A(void 0,void 0,void 0,function(){var A,r,l,c,h,u,d,p,g,f,m,v,w,B,y,b,C,_,F,E,x,S,k,U,Q,P,M,I,T,D,L,R,O,H,N,G,K,W;return i(this,function(i){switch(i.label){case 0:if(!t||"object"!==typeof t)return[2,Promise.reject("Invalid element provided as first argument")];if(!(A=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(r=A.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(S=e.allowTaint)&&void 0!==S&&S,imageTimeout:null!==(k=e.imageTimeout)&&void 0!==k?k:15e3,proxy:e.proxy,useCORS:null!==(U=e.useCORS)&&void 0!==U&&U},c=n({logging:null===(Q=e.logging)||void 0===Q||Q,cache:e.cache},l),h={windowWidth:null!==(P=e.windowWidth)&&void 0!==P?P:r.innerWidth,windowHeight:null!==(M=e.windowHeight)&&void 0!==M?M:r.innerHeight,scrollX:null!==(I=e.scrollX)&&void 0!==I?I:r.pageXOffset,scrollY:null!==(T=e.scrollY)&&void 0!==T?T:r.pageYOffset},u=new s(h.scrollX,h.scrollY,h.windowWidth,h.windowHeight),d=new Bl(c,u),p=null!==(D=e.foreignObjectRendering)&&void 0!==D&&D,g={allowTaint:null!==(L=e.allowTaint)&&void 0!==L&&L,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:p,copyStyles:p},d.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),f=new za(d,t,g),(m=f.clonedReferenceElement)?[4,f.toIFrame(A,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=i.sent(),w=fa(m)||pa(m)?o(m.ownerDocument):a(d,m),B=w.width,y=w.height,b=w.left,C=w.top,_=Cl(d,m,e.backgroundColor),F={canvas:e.canvas,backgroundColor:_,scale:null!==(O=null!==(R=e.scale)&&void 0!==R?R:r.devicePixelRatio)&&void 0!==O?O:1,x:(null!==(H=e.x)&&void 0!==H?H:0)+b,y:(null!==(N=e.y)&&void 0!==N?N:0)+C,width:null!==(G=e.width)&&void 0!==G?G:Math.ceil(B),height:null!==(K=e.height)&&void 0!==K?K:Math.ceil(y)},p?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new ml(d,F).render(m)]):[3,3];case 2:return E=i.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+b+","+C+" with size "+B+"x"+y+" using computed rendering"),d.logger.debug("Starting DOM parsing"),x=ia(d,m),_===x.styles.backgroundColor&&(x.styles.backgroundColor=uA.TRANSPARENT),d.logger.debug("Starting renderer for element at "+F.x+","+F.y+" with size "+F.width+"x"+F.height),[4,new hl(d,F).render(x)];case 4:E=i.sent(),i.label=5;case 5:return(null===(W=e.removeContainer)||void 0===W||W)&&(za.destroy(v)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,E]}})})},Cl=function(t,e,n){var A=e.ownerDocument,i=A.documentElement?hA(t,getComputedStyle(A.documentElement).backgroundColor):uA.TRANSPARENT,r=A.body?hA(t,getComputedStyle(A.body).backgroundColor):uA.TRANSPARENT,s="string"===typeof n?hA(t,n):null===n?uA.TRANSPARENT:4294967295;return e===A.documentElement?AA(i)?AA(r)?s:r:i:s};return yl}()},284:(t,e,n)=>{"use strict";function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}n.d(e,{A:()=>A})},312:(t,e,n)=>{var A=n(101);t.exports=function(t,e){A(t,e),e.add(t)},t.exports.__esModule=!0,t.exports.default=t.exports},379:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var A=n(467);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(t);e&&(A=A.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,A)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){(0,A.A)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}},391:(t,e,n)=>{"use strict";var A=n(950);e.H=A.createRoot,A.hydrateRoot},406:()=>{},458:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var A=n(562);function i(t,e){return t.get((0,A.A)(t,e))}},459:(t,e,n)=>{var A=n(101);t.exports=function(t,e,n){A(t,e),e.set(t,n)},t.exports.__esModule=!0,t.exports.default=t.exports},467:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var A=n(816);function i(t,e,n){return(e=(0,A.A)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},495:(t,e,n)=>{"use strict";function A(t){var e,n,A,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,A=Symbol.iterator);r--;){if(n&&null!=(e=t[n]))return e.call(t);if(A&&null!=(e=t[A]))return new i(e.call(t));n="@@asyncIterator",A="@@iterator"}throw new TypeError("Object is not async iterable")}function i(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then(function(t){return{value:t,done:e}})}return i=function(t){this.s=t,this.n=t.next},i.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new i(t)}n.d(e,{A:()=>A})},497:(t,e,n)=>{"use strict";var A=n(218);function i(){}function r(){}r.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,r,s){if(s!==A){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},530:()=>{},558:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var A=n(562);function i(t,e,n){return t.set((0,A.A)(t,e),n),n}},562:(t,e,n)=>{"use strict";function A(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}n.d(e,{A:()=>A})},579:(t,e,n)=>{"use strict";t.exports=n(153)},586:()=>{},668:(t,e,n)=>{var A=n(756);t.exports=function(t,e){return t.get(A(t,e))},t.exports.__esModule=!0,t.exports.default=t.exports},693:(t,e,n)=>{var A=n(736);t.exports=function(t,e,n){return(e=A(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},730:(t,e,n)=>{"use strict";var A=n(43),i=n(853);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function o(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(a[t]=e,t=0;t<e.length;t++)s.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(t,e,n,A,i,r,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=A,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=s}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){f[t]=new g(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];f[e]=new g(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){f[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){f[t]=new g(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){f[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){f[t]=new g(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){f[t]=new g(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){f[t]=new g(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){f[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function w(t,e,n,A){var i=f.hasOwnProperty(e)?f[e]:null;(null!==i?0!==i.type:A||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,A){if(null===e||"undefined"===typeof e||function(t,e,n,A){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!A&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,A))return!0;if(A)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,A)&&(n=null),A||null===i?function(t){return!!h.call(p,t)||!h.call(d,t)&&(u.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,A=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,A?t.setAttributeNS(A,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(m,v);f[e]=new g(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(m,v);f[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(m,v);f[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){f[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)}),f.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){f[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)});var B=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function T(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=I&&t[I]||t["@@iterator"])?t:null}var D,L=Object.assign;function R(t){if(void 0===D)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);D=e&&e[1]||""}return"\n"+D+t}var O=!1;function H(t,e){if(!t||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var A=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){A=l}t.call(e.prototype)}else{try{throw Error()}catch(l){A=l}t()}}catch(l){if(l&&A&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),r=A.stack.split("\n"),s=i.length-1,a=r.length-1;1<=s&&0<=a&&i[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==r[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==r[a]){var o="\n"+i[s].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}}while(1<=s&&0<=a);break}}}finally{O=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?R(t):""}function N(t){switch(t.tag){case 5:return R(t.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return t=H(t.type,!1);case 11:return t=H(t.type.render,!1);case 1:return t=H(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case C:return"Fragment";case b:return"Portal";case F:return"Profiler";case _:return"StrictMode";case k:return"Suspense";case U:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case x:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case S:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return null!==(e=t.displayName||null)?e:G(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return G(t(e))}catch(n){}}return null}function K(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(e);case 8:return e===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function j(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function V(t){t._valueTracker||(t._valueTracker=function(t){var e=j(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),A=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){A=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return A},setValue:function(t){A=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function z(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),A="";return t&&(A=j(t)?t.checked?"true":"false":t.value),(t=A)!==n&&(e.setValue(t),!0)}function X(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function q(t,e){var n=e.checked;return L({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Y(t,e){var n=null==e.defaultValue?"":e.defaultValue,A=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:A,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function Z(t,e){J(t,e);var n=W(e.value),A=e.type;if(null!=n)"number"===A?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===A||"reset"===A)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function $(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var A=e.type;if(!("submit"!==A&&"reset"!==A||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&X(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,A){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&A&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(A&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function At(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return L({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(r(92));if(et(n)){if(1<n.length)throw Error(r(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function rt(t,e){var n=W(e.value),A=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=A&&(t.defaultValue=""+A)}function st(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,A){MSApp.execUnsafeLocalFunction(function(){return ct(t,e)})}:ct);function ut(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function ft(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var A=0===n.indexOf("--"),i=gt(n,e[n],A);"float"===n&&(n="cssFloat"),A?t.setProperty(n,i):t[n]=i}}Object.keys(dt).forEach(function(t){pt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]})});var mt=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(mt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(r(62))}}function wt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bt=null;function yt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var bt=null,Ct=null,_t=null;function Ft(t){if(t=wi(t)){if("function"!==typeof bt)throw Error(r(280));var e=t.stateNode;e&&(e=yi(e),bt(t.stateNode,t.type,e))}}function Et(t){Ct?_t?_t.push(t):_t=[t]:Ct=t}function xt(){if(Ct){var t=Ct,e=_t;if(_t=Ct=null,Ft(t),e)for(t=0;t<e.length;t++)Ft(e[t])}}function St(t,e){return t(e)}function kt(){}var Ut=!1;function Qt(t,e,n){if(Ut)return t(e,n);Ut=!0;try{return St(t,e,n)}finally{Ut=!1,(null!==Ct||null!==_t)&&(kt(),xt())}}function Pt(t,e){var n=t.stateNode;if(null===n)return null;var A=yi(n);if(null===A)return null;n=A[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(A=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!A;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(r(231,e,typeof n));return n}var Mt=!1;if(c)try{var It={};Object.defineProperty(It,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(ct){Mt=!1}function Tt(t,e,n,A,i,r,s,a,o){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Dt=!1,Lt=null,Rt=!1,Ot=null,Ht={onError:function(t){Dt=!0,Lt=t}};function Nt(t,e,n,A,i,r,s,a,o){Dt=!1,Lt=null,Tt.apply(Ht,arguments)}function Gt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Kt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Gt(t)!==t)throw Error(r(188))}function jt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Gt(t)))throw Error(r(188));return e!==t?null:t}for(var n=t,A=e;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(A=i.return)){n=A;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wt(i),t;if(s===A)return Wt(i),e;s=s.sibling}throw Error(r(188))}if(n.return!==A.return)n=i,A=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,A=s;break}if(o===A){a=!0,A=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,A=i;break}if(o===A){a=!0,A=s,n=i;break}o=o.sibling}if(!a)throw Error(r(189))}}if(n.alternate!==A)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?t:e}(t))?Vt(t):null}function Vt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Vt(t);if(null!==e)return e;t=t.sibling}return null}var zt=i.unstable_scheduleCallback,Xt=i.unstable_cancelCallback,qt=i.unstable_shouldYield,Yt=i.unstable_requestPaint,Jt=i.unstable_now,Zt=i.unstable_getCurrentPriorityLevel,$t=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,Ae=i.unstable_IdlePriority,ie=null,re=null;var se=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/oe|0)|0},ae=Math.log,oe=Math.LN2;var le=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ue(t,e){var n=t.pendingLanes;if(0===n)return 0;var A=0,i=t.suspendedLanes,r=t.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?A=he(a):0!==(r&=s)&&(A=he(r))}else 0!==(s=n&~i)?A=he(s):0!==r&&(A=he(r));if(0===A)return 0;if(0!==e&&e!==A&&0===(e&i)&&((i=A&-A)>=(r=e&-e)||16===i&&0!==(4194240&r)))return e;if(0!==(4&A)&&(A|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=A;0<e;)i=1<<(n=31-se(e)),A|=t[n],e&=~i;return A}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function fe(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function me(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-se(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var A=31-se(n),i=1<<A;i&e|t[A]&e&&(t[A]|=e),n&=~i}}var we=0;function Be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var ye,be,Ce,_e,Fe,Ee=!1,xe=[],Se=null,ke=null,Ue=null,Qe=new Map,Pe=new Map,Me=[],Ie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Te(t,e){switch(t){case"focusin":case"focusout":Se=null;break;case"dragenter":case"dragleave":ke=null;break;case"mouseover":case"mouseout":Ue=null;break;case"pointerover":case"pointerout":Qe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function De(t,e,n,A,i,r){return null===t||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:A,nativeEvent:r,targetContainers:[i]},null!==e&&(null!==(e=wi(e))&&be(e)),t):(t.eventSystemFlags|=A,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Le(t){var e=vi(t.target);if(null!==e){var n=Gt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Kt(n)))return t.blockedOn=e,void Fe(t.priority,function(){Ce(n)})}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Re(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=wi(n))&&be(e),t.blockedOn=n,!1;var A=new(n=t.nativeEvent).constructor(n.type,n);Bt=A,n.target.dispatchEvent(A),Bt=null,e.shift()}return!0}function Oe(t,e,n){Re(t)&&n.delete(e)}function He(){Ee=!1,null!==Se&&Re(Se)&&(Se=null),null!==ke&&Re(ke)&&(ke=null),null!==Ue&&Re(Ue)&&(Ue=null),Qe.forEach(Oe),Pe.forEach(Oe)}function Ne(t,e){t.blockedOn===e&&(t.blockedOn=null,Ee||(Ee=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,He)))}function Ge(t){function e(e){return Ne(e,t)}if(0<xe.length){Ne(xe[0],t);for(var n=1;n<xe.length;n++){var A=xe[n];A.blockedOn===t&&(A.blockedOn=null)}}for(null!==Se&&Ne(Se,t),null!==ke&&Ne(ke,t),null!==Ue&&Ne(Ue,t),Qe.forEach(e),Pe.forEach(e),n=0;n<Me.length;n++)(A=Me[n]).blockedOn===t&&(A.blockedOn=null);for(;0<Me.length&&null===(n=Me[0]).blockedOn;)Le(n),null===n.blockedOn&&Me.shift()}var Ke=B.ReactCurrentBatchConfig,We=!0;function je(t,e,n,A){var i=we,r=Ke.transition;Ke.transition=null;try{we=1,ze(t,e,n,A)}finally{we=i,Ke.transition=r}}function Ve(t,e,n,A){var i=we,r=Ke.transition;Ke.transition=null;try{we=4,ze(t,e,n,A)}finally{we=i,Ke.transition=r}}function ze(t,e,n,A){if(We){var i=qe(t,e,n,A);if(null===i)WA(t,e,A,Xe,n),Te(t,A);else if(function(t,e,n,A,i){switch(e){case"focusin":return Se=De(Se,t,e,n,A,i),!0;case"dragenter":return ke=De(ke,t,e,n,A,i),!0;case"mouseover":return Ue=De(Ue,t,e,n,A,i),!0;case"pointerover":var r=i.pointerId;return Qe.set(r,De(Qe.get(r)||null,t,e,n,A,i)),!0;case"gotpointercapture":return r=i.pointerId,Pe.set(r,De(Pe.get(r)||null,t,e,n,A,i)),!0}return!1}(i,t,e,n,A))A.stopPropagation();else if(Te(t,A),4&e&&-1<Ie.indexOf(t)){for(;null!==i;){var r=wi(i);if(null!==r&&ye(r),null===(r=qe(t,e,n,A))&&WA(t,e,A,Xe,n),r===i)break;i=r}null!==i&&A.stopPropagation()}else WA(t,e,A,null,n)}}var Xe=null;function qe(t,e,n,A){if(Xe=null,null!==(t=vi(t=yt(A))))if(null===(e=Gt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Kt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xe=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case $t:return 1;case te:return 4;case ee:case ne:return 16;case Ae:return 536870912;default:return 16}default:return 16}}var Je=null,Ze=null,$e=null;function tn(){if($e)return $e;var t,e,n=Ze,A=n.length,i="value"in Je?Je.value:Je.textContent,r=i.length;for(t=0;t<A&&n[t]===i[t];t++);var s=A-t;for(e=1;e<=s&&n[A-e]===i[r-e];e++);return $e=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function An(){return!1}function rn(t){function e(e,n,A,i,r){for(var s in this._reactName=e,this._targetInst=A,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:An,this.isPropagationStopped=An,this}return L(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var sn,an,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),hn=L({},ln,{view:0,detail:0}),un=rn(hn),dn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==on&&(on&&"mousemove"===t.type?(sn=t.screenX-on.screenX,an=t.screenY-on.screenY):an=sn=0,on=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=rn(dn),gn=rn(L({},dn,{dataTransfer:0})),fn=rn(L({},hn,{relatedTarget:0})),mn=rn(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=rn(vn),Bn=rn(L({},ln,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cn[t])&&!!e[t]}function Fn(){return _n}var En=L({},hn,{key:function(t){if(t.key){var e=yn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?bn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),xn=rn(En),Sn=rn(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=rn(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn})),Un=rn(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Qn=L({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=rn(Qn),Mn=[9,13,27,32],In=c&&"CompositionEvent"in window,Tn=null;c&&"documentMode"in document&&(Tn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Tn,Ln=c&&(!In||Tn&&8<Tn&&11>=Tn),Rn=String.fromCharCode(32),On=!1;function Hn(t,e){switch(t){case"keyup":return-1!==Mn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Gn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Kn[t.type]:"textarea"===e}function jn(t,e,n,A){Et(A),0<(e=VA(e,"onChange")).length&&(n=new cn("onChange","change",null,n,A),t.push({event:n,listeners:e}))}var Vn=null,zn=null;function Xn(t){RA(t,0)}function qn(t){if(z(Bi(t)))return t}function Yn(t,e){if("change"===t)return e}var Jn=!1;if(c){var Zn;if(c){var $n="oninput"in document;if(!$n){var tA=document.createElement("div");tA.setAttribute("oninput","return;"),$n="function"===typeof tA.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function eA(){Vn&&(Vn.detachEvent("onpropertychange",nA),zn=Vn=null)}function nA(t){if("value"===t.propertyName&&qn(zn)){var e=[];jn(e,zn,t,yt(t)),Qt(Xn,e)}}function AA(t,e,n){"focusin"===t?(eA(),zn=n,(Vn=e).attachEvent("onpropertychange",nA)):"focusout"===t&&eA()}function iA(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return qn(zn)}function rA(t,e){if("click"===t)return qn(e)}function sA(t,e){if("input"===t||"change"===t)return qn(e)}var aA="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function oA(t,e){if(aA(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),A=Object.keys(e);if(n.length!==A.length)return!1;for(A=0;A<n.length;A++){var i=n[A];if(!h.call(e,i)||!aA(t[i],e[i]))return!1}return!0}function lA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cA(t,e){var n,A=lA(t);for(t=0;A;){if(3===A.nodeType){if(n=t+A.textContent.length,t<=e&&n>=e)return{node:A,offset:e-t};t=n}t:{for(;A;){if(A.nextSibling){A=A.nextSibling;break t}A=A.parentNode}A=void 0}A=lA(A)}}function hA(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hA(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function uA(){for(var t=window,e=X();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(A){n=!1}if(!n)break;e=X((t=e.contentWindow).document)}return e}function dA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pA(t){var e=uA(),n=t.focusedElem,A=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hA(n.ownerDocument.documentElement,n)){if(null!==A&&dA(n))if(e=A.start,void 0===(t=A.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(A.start,i);A=void 0===A.end?r:Math.min(A.end,i),!t.extend&&r>A&&(i=A,A=r,r=i),i=cA(n,r);var s=cA(n,A);i&&s&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),r>A?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gA=c&&"documentMode"in document&&11>=document.documentMode,fA=null,mA=null,vA=null,wA=!1;function BA(t,e,n){var A=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wA||null==fA||fA!==X(A)||("selectionStart"in(A=fA)&&dA(A)?A={start:A.selectionStart,end:A.selectionEnd}:A={anchorNode:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset},vA&&oA(vA,A)||(vA=A,0<(A=VA(mA,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:A}),e.target=fA)))}function yA(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bA={animationend:yA("Animation","AnimationEnd"),animationiteration:yA("Animation","AnimationIteration"),animationstart:yA("Animation","AnimationStart"),transitionend:yA("Transition","TransitionEnd")},CA={},_A={};function FA(t){if(CA[t])return CA[t];if(!bA[t])return t;var e,n=bA[t];for(e in n)if(n.hasOwnProperty(e)&&e in _A)return CA[t]=n[e];return t}c&&(_A=document.createElement("div").style,"AnimationEvent"in window||(delete bA.animationend.animation,delete bA.animationiteration.animation,delete bA.animationstart.animation),"TransitionEvent"in window||delete bA.transitionend.transition);var EA=FA("animationend"),xA=FA("animationiteration"),SA=FA("animationstart"),kA=FA("transitionend"),UA=new Map,QA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function PA(t,e){UA.set(t,e),o(e,[t])}for(var MA=0;MA<QA.length;MA++){var IA=QA[MA];PA(IA.toLowerCase(),"on"+(IA[0].toUpperCase()+IA.slice(1)))}PA(EA,"onAnimationEnd"),PA(xA,"onAnimationIteration"),PA(SA,"onAnimationStart"),PA("dblclick","onDoubleClick"),PA("focusin","onFocus"),PA("focusout","onBlur"),PA(kA,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var TA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("cancel close invalid load scroll toggle".split(" ").concat(TA));function LA(t,e,n){var A=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,A,i,s,a,o,l){if(Nt.apply(this,arguments),Dt){if(!Dt)throw Error(r(198));var c=Lt;Dt=!1,Lt=null,Rt||(Rt=!0,Ot=c)}}(A,e,void 0,t),t.currentTarget=null}function RA(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var A=t[n],i=A.event;A=A.listeners;t:{var r=void 0;if(e)for(var s=A.length-1;0<=s;s--){var a=A[s],o=a.instance,l=a.currentTarget;if(a=a.listener,o!==r&&i.isPropagationStopped())break t;LA(i,a,l),r=o}else for(s=0;s<A.length;s++){if(o=(a=A[s]).instance,l=a.currentTarget,a=a.listener,o!==r&&i.isPropagationStopped())break t;LA(i,a,l),r=o}}}if(Rt)throw t=Ot,Rt=!1,Ot=null,t}function OA(t,e){var n=e[gi];void 0===n&&(n=e[gi]=new Set);var A=t+"__bubble";n.has(A)||(KA(e,t,2,!1),n.add(A))}function HA(t,e,n){var A=0;e&&(A|=4),KA(n,t,A,e)}var NA="_reactListening"+Math.random().toString(36).slice(2);function GA(t){if(!t[NA]){t[NA]=!0,s.forEach(function(e){"selectionchange"!==e&&(DA.has(e)||HA(e,!1,t),HA(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[NA]||(e[NA]=!0,HA("selectionchange",!1,e))}}function KA(t,e,n,A){switch(Ye(e)){case 1:var i=je;break;case 4:i=Ve;break;default:i=ze}n=i.bind(null,e,n,t),i=void 0,!Mt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),A?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function WA(t,e,n,A,i){var r=A;if(0===(1&e)&&0===(2&e)&&null!==A)t:for(;;){if(null===A)return;var s=A.tag;if(3===s||4===s){var a=A.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=A.return;null!==s;){var o=s.tag;if((3===o||4===o)&&((o=s.stateNode.containerInfo)===i||8===o.nodeType&&o.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(o=s.tag)||6===o){A=r=s;continue t}a=a.parentNode}}A=A.return}Qt(function(){var A=r,i=yt(n),s=[];t:{var a=UA.get(t);if(void 0!==a){var o=cn,l=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":o=xn;break;case"focusin":l="focus",o=fn;break;case"focusout":l="blur",o=fn;break;case"beforeblur":case"afterblur":o=fn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=kn;break;case EA:case xA:case SA:o=mn;break;case kA:o=Un;break;case"scroll":o=un;break;case"wheel":o=Pn;break;case"copy":case"cut":case"paste":o=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Sn}var c=0!==(4&e),h=!c&&"scroll"===t,u=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=A;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==u&&(null!=(g=Pt(p,u))&&c.push(jA(p,g,d)))),h)break;p=p.return}0<c.length&&(a=new o(a,l,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&e)){if(o="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===Bt||!(l=n.relatedTarget||n.fromElement)||!vi(l)&&!l[pi])&&(o||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,o?(o=A,null!==(l=(l=n.relatedTarget||n.toElement)?vi(l):null)&&(l!==(h=Gt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(o=null,l=A),o!==l)){if(c=pn,g="onMouseLeave",u="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Sn,g="onPointerLeave",u="onPointerEnter",p="pointer"),h=null==o?a:Bi(o),d=null==l?a:Bi(l),(a=new c(g,p+"leave",o,n,i)).target=h,a.relatedTarget=d,g=null,vi(i)===A&&((c=new c(u,p+"enter",l,n,i)).target=d,c.relatedTarget=h,g=c),h=g,o&&l)t:{for(u=l,p=0,d=c=o;d;d=zA(d))p++;for(d=0,g=u;g;g=zA(g))d++;for(;0<p-d;)c=zA(c),p--;for(;0<d-p;)u=zA(u),d--;for(;p--;){if(c===u||null!==u&&c===u.alternate)break t;c=zA(c),u=zA(u)}c=null}else c=null;null!==o&&XA(s,a,o,c,!1),null!==l&&null!==h&&XA(s,h,l,c,!0)}if("select"===(o=(a=A?Bi(A):window).nodeName&&a.nodeName.toLowerCase())||"input"===o&&"file"===a.type)var f=Yn;else if(Wn(a))if(Jn)f=sA;else{f=iA;var m=AA}else(o=a.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(f=rA);switch(f&&(f=f(t,A))?jn(s,f,n,i):(m&&m(t,a,A),"focusout"===t&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&tt(a,"number",a.value)),m=A?Bi(A):window,t){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(fA=m,mA=A,vA=null);break;case"focusout":vA=mA=fA=null;break;case"mousedown":wA=!0;break;case"contextmenu":case"mouseup":case"dragend":wA=!1,BA(s,n,i);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":BA(s,n,i)}var v;if(In)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Gn?Hn(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(Ln&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Gn&&(v=tn()):(Ze="value"in(Je=i)?Je.value:Je.textContent,Gn=!0)),0<(m=VA(A,w)).length&&(w=new Bn(w,t,null,n,i),s.push({event:w,listeners:m}),v?w.data=v:null!==(v=Nn(n))&&(w.data=v))),(v=Dn?function(t,e){switch(t){case"compositionend":return Nn(e);case"keypress":return 32!==e.which?null:(On=!0,Rn);case"textInput":return(t=e.data)===Rn&&On?null:t;default:return null}}(t,n):function(t,e){if(Gn)return"compositionend"===t||!In&&Hn(t,e)?(t=tn(),$e=Ze=Je=null,Gn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ln&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(A=VA(A,"onBeforeInput")).length&&(i=new Bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:A}),i.data=v))}RA(s,e)})}function jA(t,e,n){return{instance:t,listener:e,currentTarget:n}}function VA(t,e){for(var n=e+"Capture",A=[];null!==t;){var i=t,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=Pt(t,n))&&A.unshift(jA(t,r,i)),null!=(r=Pt(t,e))&&A.push(jA(t,r,i))),t=t.return}return A}function zA(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function XA(t,e,n,A,i){for(var r=e._reactName,s=[];null!==n&&n!==A;){var a=n,o=a.alternate,l=a.stateNode;if(null!==o&&o===A)break;5===a.tag&&null!==l&&(a=l,i?null!=(o=Pt(n,r))&&s.unshift(jA(n,o,a)):i||null!=(o=Pt(n,r))&&s.push(jA(n,o,a))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var qA=/\r\n?/g,YA=/\u0000|\uFFFD/g;function JA(t){return("string"===typeof t?t:""+t).replace(qA,"\n").replace(YA,"")}function ZA(t,e,n){if(e=JA(e),JA(t)!==e&&n)throw Error(r(425))}function $A(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Ai="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ri="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ri?function(t){return ri.resolve(null).then(t).catch(ai)}:Ai;function ai(t){setTimeout(function(){throw t})}function oi(t,e){var n=e,A=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===A)return t.removeChild(i),void Ge(e);A--}else"$"!==n&&"$?"!==n&&"$!"!==n||A++;n=i}while(n);Ge(e)}function li(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),ui="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,fi="__reactListeners$"+hi,mi="__reactHandles$"+hi;function vi(t){var e=t[ui];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[ui]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ci(t);null!==t;){if(n=t[ui])return n;t=ci(t)}return e}n=(t=n).parentNode}return null}function wi(t){return!(t=t[ui]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function yi(t){return t[di]||null}var bi=[],Ci=-1;function _i(t){return{current:t}}function Fi(t){0>Ci||(t.current=bi[Ci],bi[Ci]=null,Ci--)}function Ei(t,e){Ci++,bi[Ci]=t.current,t.current=e}var xi={},Si=_i(xi),ki=_i(!1),Ui=xi;function Qi(t,e){var n=t.type.contextTypes;if(!n)return xi;var A=t.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===e)return A.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=e[i];return A&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Pi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Mi(){Fi(ki),Fi(Si)}function Ii(t,e,n){if(Si.current!==xi)throw Error(r(168));Ei(Si,e),Ei(ki,n)}function Ti(t,e,n){var A=t.stateNode;if(e=e.childContextTypes,"function"!==typeof A.getChildContext)return n;for(var i in A=A.getChildContext())if(!(i in e))throw Error(r(108,K(t)||"Unknown",i));return L({},n,A)}function Di(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xi,Ui=Si.current,Ei(Si,t),Ei(ki,ki.current),!0}function Li(t,e,n){var A=t.stateNode;if(!A)throw Error(r(169));n?(t=Ti(t,e,Ui),A.__reactInternalMemoizedMergedChildContext=t,Fi(ki),Fi(Si),Ei(Si,t)):Fi(ki),Ei(ki,n)}var Ri=null,Oi=!1,Hi=!1;function Ni(t){null===Ri?Ri=[t]:Ri.push(t)}function Gi(){if(!Hi&&null!==Ri){Hi=!0;var t=0,e=we;try{var n=Ri;for(we=1;t<n.length;t++){var A=n[t];do{A=A(!0)}while(null!==A)}Ri=null,Oi=!1}catch(i){throw null!==Ri&&(Ri=Ri.slice(t+1)),zt($t,Gi),i}finally{we=e,Hi=!1}}return null}var Ki=[],Wi=0,ji=null,Vi=0,zi=[],Xi=0,qi=null,Yi=1,Ji="";function Zi(t,e){Ki[Wi++]=Vi,Ki[Wi++]=ji,ji=t,Vi=e}function $i(t,e,n){zi[Xi++]=Yi,zi[Xi++]=Ji,zi[Xi++]=qi,qi=t;var A=Yi;t=Ji;var i=32-se(A)-1;A&=~(1<<i),n+=1;var r=32-se(e)+i;if(30<r){var s=i-i%5;r=(A&(1<<s)-1).toString(32),A>>=s,i-=s,Yi=1<<32-se(e)+i|n<<i|A,Ji=r+t}else Yi=1<<r|n<<i|A,Ji=t}function tr(t){null!==t.return&&(Zi(t,1),$i(t,1,0))}function er(t){for(;t===ji;)ji=Ki[--Wi],Ki[Wi]=null,Vi=Ki[--Wi],Ki[Wi]=null;for(;t===qi;)qi=zi[--Xi],zi[Xi]=null,Ji=zi[--Xi],zi[Xi]=null,Yi=zi[--Xi],zi[Xi]=null}var nr=null,Ar=null,ir=!1,rr=null;function sr(t,e){var n=Ql(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function ar(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,nr=t,Ar=li(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,nr=t,Ar=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==qi?{id:Yi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Ql(18,null,null,0)).stateNode=e,n.return=t,t.child=n,nr=t,Ar=null,!0);default:return!1}}function or(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function lr(t){if(ir){var e=Ar;if(e){var n=e;if(!ar(t,e)){if(or(t))throw Error(r(418));e=li(n.nextSibling);var A=nr;e&&ar(t,e)?sr(A,n):(t.flags=-4097&t.flags|2,ir=!1,nr=t)}}else{if(or(t))throw Error(r(418));t.flags=-4097&t.flags|2,ir=!1,nr=t}}}function cr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;nr=t}function hr(t){if(t!==nr)return!1;if(!ir)return cr(t),ir=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=Ar)){if(or(t))throw ur(),Error(r(418));for(;e;)sr(t,e),e=li(e.nextSibling)}if(cr(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Ar=li(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Ar=null}}else Ar=nr?li(t.stateNode.nextSibling):null;return!0}function ur(){for(var t=Ar;t;)t=li(t.nextSibling)}function dr(){Ar=nr=null,ir=!1}function pr(t){null===rr?rr=[t]:rr.push(t)}var gr=B.ReactCurrentBatchConfig;function fr(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var A=n.stateNode}if(!A)throw Error(r(147,t));var i=A,s=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===s?e.ref:(e=function(t){var e=i.refs;null===t?delete e[s]:e[s]=t},e._stringRef=s,e)}if("string"!==typeof t)throw Error(r(284));if(!n._owner)throw Error(r(290,t))}return t}function mr(t,e){throw t=Object.prototype.toString.call(e),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vr(t){return(0,t._init)(t._payload)}function wr(t){function e(e,n){if(t){var A=e.deletions;null===A?(e.deletions=[n],e.flags|=16):A.push(n)}}function n(n,A){if(!t)return null;for(;null!==A;)e(n,A),A=A.sibling;return null}function A(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ml(t,e)).index=0,t.sibling=null,t}function s(e,n,A){return e.index=A,t?null!==(A=e.alternate)?(A=A.index)<n?(e.flags|=2,n):A:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function o(t,e,n,A){return null===e||6!==e.tag?((e=Ll(n,t.mode,A)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,A){var r=n.type;return r===C?h(t,e,n.props.children,A,n.key):null!==e&&(e.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===P&&vr(r)===e.type)?((A=i(e,n.props)).ref=fr(t,e,n),A.return=t,A):((A=Il(n.type,n.key,n.props,null,t.mode,A)).ref=fr(t,e,n),A.return=t,A)}function c(t,e,n,A){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Rl(n,t.mode,A)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,A,r){return null===e||7!==e.tag?((e=Tl(n,t.mode,A,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Ll(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case y:return(n=Il(e.type,e.key,e.props,null,t.mode,n)).ref=fr(t,null,e),n.return=t,n;case b:return(e=Rl(e,t.mode,n)).return=t,e;case P:return u(t,(0,e._init)(e._payload),n)}if(et(e)||T(e))return(e=Tl(e,t.mode,n,null)).return=t,e;mr(t,e)}return null}function d(t,e,n,A){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:o(t,e,""+n,A);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===i?l(t,e,n,A):null;case b:return n.key===i?c(t,e,n,A):null;case P:return d(t,e,(i=n._init)(n._payload),A)}if(et(n)||T(n))return null!==i?null:h(t,e,n,A,null);mr(t,n)}return null}function p(t,e,n,A,i){if("string"===typeof A&&""!==A||"number"===typeof A)return o(e,t=t.get(n)||null,""+A,i);if("object"===typeof A&&null!==A){switch(A.$$typeof){case y:return l(e,t=t.get(null===A.key?n:A.key)||null,A,i);case b:return c(e,t=t.get(null===A.key?n:A.key)||null,A,i);case P:return p(t,e,n,(0,A._init)(A._payload),i)}if(et(A)||T(A))return h(e,t=t.get(n)||null,A,i,null);mr(e,A)}return null}function g(i,r,a,o){for(var l=null,c=null,h=r,g=r=0,f=null;null!==h&&g<a.length;g++){h.index>g?(f=h,h=null):f=h.sibling;var m=d(i,h,a[g],o);if(null===m){null===h&&(h=f);break}t&&h&&null===m.alternate&&e(i,h),r=s(m,r,g),null===c?l=m:c.sibling=m,c=m,h=f}if(g===a.length)return n(i,h),ir&&Zi(i,g),l;if(null===h){for(;g<a.length;g++)null!==(h=u(i,a[g],o))&&(r=s(h,r,g),null===c?l=h:c.sibling=h,c=h);return ir&&Zi(i,g),l}for(h=A(i,h);g<a.length;g++)null!==(f=p(h,i,g,a[g],o))&&(t&&null!==f.alternate&&h.delete(null===f.key?g:f.key),r=s(f,r,g),null===c?l=f:c.sibling=f,c=f);return t&&h.forEach(function(t){return e(i,t)}),ir&&Zi(i,g),l}function f(i,a,o,l){var c=T(o);if("function"!==typeof c)throw Error(r(150));if(null==(o=c.call(o)))throw Error(r(151));for(var h=c=null,g=a,f=a=0,m=null,v=o.next();null!==g&&!v.done;f++,v=o.next()){g.index>f?(m=g,g=null):m=g.sibling;var w=d(i,g,v.value,l);if(null===w){null===g&&(g=m);break}t&&g&&null===w.alternate&&e(i,g),a=s(w,a,f),null===h?c=w:h.sibling=w,h=w,g=m}if(v.done)return n(i,g),ir&&Zi(i,f),c;if(null===g){for(;!v.done;f++,v=o.next())null!==(v=u(i,v.value,l))&&(a=s(v,a,f),null===h?c=v:h.sibling=v,h=v);return ir&&Zi(i,f),c}for(g=A(i,g);!v.done;f++,v=o.next())null!==(v=p(g,i,f,v.value,l))&&(t&&null!==v.alternate&&g.delete(null===v.key?f:v.key),a=s(v,a,f),null===h?c=v:h.sibling=v,h=v);return t&&g.forEach(function(t){return e(i,t)}),ir&&Zi(i,f),c}return function t(A,r,s,o){if("object"===typeof s&&null!==s&&s.type===C&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case y:t:{for(var l=s.key,c=r;null!==c;){if(c.key===l){if((l=s.type)===C){if(7===c.tag){n(A,c.sibling),(r=i(c,s.props.children)).return=A,A=r;break t}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&vr(l)===c.type){n(A,c.sibling),(r=i(c,s.props)).ref=fr(A,c,s),r.return=A,A=r;break t}n(A,c);break}e(A,c),c=c.sibling}s.type===C?((r=Tl(s.props.children,A.mode,o,s.key)).return=A,A=r):((o=Il(s.type,s.key,s.props,null,A.mode,o)).ref=fr(A,r,s),o.return=A,A=o)}return a(A);case b:t:{for(c=s.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(A,r.sibling),(r=i(r,s.children||[])).return=A,A=r;break t}n(A,r);break}e(A,r),r=r.sibling}(r=Rl(s,A.mode,o)).return=A,A=r}return a(A);case P:return t(A,r,(c=s._init)(s._payload),o)}if(et(s))return g(A,r,s,o);if(T(s))return f(A,r,s,o);mr(A,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==r&&6===r.tag?(n(A,r.sibling),(r=i(r,s)).return=A,A=r):(n(A,r),(r=Ll(s,A.mode,o)).return=A,A=r),a(A)):n(A,r)}}var Br=wr(!0),yr=wr(!1),br=_i(null),Cr=null,_r=null,Fr=null;function Er(){Fr=_r=Cr=null}function xr(t){var e=br.current;Fi(br),t._currentValue=e}function Sr(t,e,n){for(;null!==t;){var A=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==A&&(A.childLanes|=e)):null!==A&&(A.childLanes&e)!==e&&(A.childLanes|=e),t===n)break;t=t.return}}function kr(t,e){Cr=t,Fr=_r=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(va=!0),t.firstContext=null)}function Ur(t){var e=t._currentValue;if(Fr!==t)if(t={context:t,memoizedValue:e,next:null},null===_r){if(null===Cr)throw Error(r(308));_r=t,Cr.dependencies={lanes:0,firstContext:t}}else _r=_r.next=t;return e}var Qr=null;function Pr(t){null===Qr?Qr=[t]:Qr.push(t)}function Mr(t,e,n,A){var i=e.interleaved;return null===i?(n.next=n,Pr(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,A)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Tr=!1;function Dr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Or(t,e,n){var A=t.updateQueue;if(null===A)return null;if(A=A.shared,0!==(2&So)){var i=A.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),A.pending=e,Ir(t,n)}return null===(i=A.interleaved)?(e.next=e,Pr(A)):(e.next=i.next,i.next=e),A.interleaved=e,Ir(t,n)}function Hr(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var A=e.lanes;n|=A&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Nr(t,e){var n=t.updateQueue,A=t.alternate;if(null!==A&&n===(A=A.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?i=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?i=r=e:r=r.next=e}else i=r=e;return n={baseState:A.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:A.shared,effects:A.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gr(t,e,n,A){var i=t.updateQueue;Tr=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var o=a,l=o.next;o.next=null,null===s?r=l:s.next=l,s=o;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=o))}if(null!==r){var h=i.baseState;for(s=0,c=l=o=null,a=r;;){var u=a.lane,d=a.eventTime;if((A&u)===u){null!==c&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(u=e,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,u);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(u="function"===typeof(p=g.payload)?p.call(d,h,u):p)||void 0===u)break t;h=L({},h,u);break t;case 2:Tr=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(u=i.effects)?i.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(l=c=d,o=h):c=c.next=d,s|=u;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(u=a).next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}if(null===c&&(o=h),i.baseState=o,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(e=i.shared.interleaved)){i=e;do{s|=i.lane,i=i.next}while(i!==e)}else null===r&&(i.shared.lanes=0);Do|=s,t.lanes=s,t.memoizedState=h}}function Kr(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var A=t[e],i=A.callback;if(null!==i){if(A.callback=null,A=n,"function"!==typeof i)throw Error(r(191,i));i.call(A)}}}var Wr={},jr=_i(Wr),Vr=_i(Wr),zr=_i(Wr);function Xr(t){if(t===Wr)throw Error(r(174));return t}function qr(t,e){switch(Ei(zr,e),Ei(Vr,t),Ei(jr,Wr),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ot(null,"");break;default:e=ot(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Fi(jr),Ei(jr,e)}function Yr(){Fi(jr),Fi(Vr),Fi(zr)}function Jr(t){Xr(zr.current);var e=Xr(jr.current),n=ot(e,t.type);e!==n&&(Ei(Vr,t),Ei(jr,n))}function Zr(t){Vr.current===t&&(Fi(jr),Fi(Vr))}var $r=_i(0);function ts(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var es=[];function ns(){for(var t=0;t<es.length;t++)es[t]._workInProgressVersionPrimary=null;es.length=0}var As=B.ReactCurrentDispatcher,is=B.ReactCurrentBatchConfig,rs=0,ss=null,as=null,os=null,ls=!1,cs=!1,hs=0,us=0;function ds(){throw Error(r(321))}function ps(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!aA(t[n],e[n]))return!1;return!0}function gs(t,e,n,A,i,s){if(rs=s,ss=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,As.current=null===t||null===t.memoizedState?Zs:$s,t=n(A,i),cs){s=0;do{if(cs=!1,hs=0,25<=s)throw Error(r(301));s+=1,os=as=null,e.updateQueue=null,As.current=ta,t=n(A,i)}while(cs)}if(As.current=Js,e=null!==as&&null!==as.next,rs=0,os=as=ss=null,ls=!1,e)throw Error(r(300));return t}function fs(){var t=0!==hs;return hs=0,t}function ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===os?ss.memoizedState=os=t:os=os.next=t,os}function vs(){if(null===as){var t=ss.alternate;t=null!==t?t.memoizedState:null}else t=as.next;var e=null===os?ss.memoizedState:os.next;if(null!==e)os=e,as=t;else{if(null===t)throw Error(r(310));t={memoizedState:(as=t).memoizedState,baseState:as.baseState,baseQueue:as.baseQueue,queue:as.queue,next:null},null===os?ss.memoizedState=os=t:os=os.next=t}return os}function ws(t,e){return"function"===typeof e?e(t):e}function Bs(t){var e=vs(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var A=as,i=A.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}A.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,A=A.baseState;var o=a=null,l=null,c=s;do{var h=c.lane;if((rs&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),A=c.hasEagerState?c.eagerState:t(A,c.action);else{var u={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(o=l=u,a=A):l=l.next=u,ss.lanes|=h,Do|=h}c=c.next}while(null!==c&&c!==s);null===l?a=A:l.next=o,aA(A,e.memoizedState)||(va=!0),e.memoizedState=A,e.baseState=a,e.baseQueue=l,n.lastRenderedState=A}if(null!==(t=n.interleaved)){i=t;do{s=i.lane,ss.lanes|=s,Do|=s,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ys(t){var e=vs(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var A=n.dispatch,i=n.pending,s=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=t(s,a.action),a=a.next}while(a!==i);aA(s,e.memoizedState)||(va=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,A]}function bs(){}function Cs(t,e){var n=ss,A=vs(),i=e(),s=!aA(A.memoizedState,i);if(s&&(A.memoizedState=i,va=!0),A=A.queue,Ts(Es.bind(null,n,A,t),[t]),A.getSnapshot!==e||s||null!==os&&1&os.memoizedState.tag){if(n.flags|=2048,Us(9,Fs.bind(null,n,A,i,e),void 0,null),null===ko)throw Error(r(349));0!==(30&rs)||_s(n,e,i)}return i}function _s(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ss.updateQueue)?(e={lastEffect:null,stores:null},ss.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Fs(t,e,n,A){e.value=n,e.getSnapshot=A,xs(e)&&Ss(t)}function Es(t,e,n){return n(function(){xs(e)&&Ss(t)})}function xs(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!aA(t,n)}catch(A){return!0}}function Ss(t){var e=Ir(t,1);null!==e&&nl(e,t,1,-1)}function ks(t){var e=ms();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},e.queue=t,t=t.dispatch=zs.bind(null,ss,t),[e.memoizedState,t]}function Us(t,e,n,A){return t={tag:t,create:e,destroy:n,deps:A,next:null},null===(e=ss.updateQueue)?(e={lastEffect:null,stores:null},ss.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(A=n.next,n.next=t,t.next=A,e.lastEffect=t),t}function Qs(){return vs().memoizedState}function Ps(t,e,n,A){var i=ms();ss.flags|=t,i.memoizedState=Us(1|e,n,void 0,void 0===A?null:A)}function Ms(t,e,n,A){var i=vs();A=void 0===A?null:A;var r=void 0;if(null!==as){var s=as.memoizedState;if(r=s.destroy,null!==A&&ps(A,s.deps))return void(i.memoizedState=Us(e,n,r,A))}ss.flags|=t,i.memoizedState=Us(1|e,n,r,A)}function Is(t,e){return Ps(8390656,8,t,e)}function Ts(t,e){return Ms(2048,8,t,e)}function Ds(t,e){return Ms(4,2,t,e)}function Ls(t,e){return Ms(4,4,t,e)}function Rs(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Os(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ms(4,4,Rs.bind(null,e,t),n)}function Hs(){}function Ns(t,e){var n=vs();e=void 0===e?null:e;var A=n.memoizedState;return null!==A&&null!==e&&ps(e,A[1])?A[0]:(n.memoizedState=[t,e],t)}function Gs(t,e){var n=vs();e=void 0===e?null:e;var A=n.memoizedState;return null!==A&&null!==e&&ps(e,A[1])?A[0]:(t=t(),n.memoizedState=[t,e],t)}function Ks(t,e,n){return 0===(21&rs)?(t.baseState&&(t.baseState=!1,va=!0),t.memoizedState=n):(aA(n,e)||(n=ge(),ss.lanes|=n,Do|=n,t.baseState=!0),e)}function Ws(t,e){var n=we;we=0!==n&&4>n?n:4,t(!0);var A=is.transition;is.transition={};try{t(!1),e()}finally{we=n,is.transition=A}}function js(){return vs().memoizedState}function Vs(t,e,n){var A=el(t);if(n={lane:A,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(t))qs(e,n);else if(null!==(n=Mr(t,e,n,A))){nl(n,t,A,tl()),Ys(n,e,A)}}function zs(t,e,n){var A=el(t),i={lane:A,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(t))qs(e,i);else{var r=t.alternate;if(0===t.lanes&&(null===r||0===r.lanes)&&null!==(r=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=r(s,n);if(i.hasEagerState=!0,i.eagerState=a,aA(a,s)){var o=e.interleaved;return null===o?(i.next=i,Pr(e)):(i.next=o.next,o.next=i),void(e.interleaved=i)}}catch(l){}null!==(n=Mr(t,e,i,A))&&(nl(n,t,A,i=tl()),Ys(n,e,A))}}function Xs(t){var e=t.alternate;return t===ss||null!==e&&e===ss}function qs(t,e){cs=ls=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ys(t,e,n){if(0!==(4194240&n)){var A=e.lanes;n|=A&=t.pendingLanes,e.lanes=n,ve(t,n)}}var Js={readContext:Ur,useCallback:ds,useContext:ds,useEffect:ds,useImperativeHandle:ds,useInsertionEffect:ds,useLayoutEffect:ds,useMemo:ds,useReducer:ds,useRef:ds,useState:ds,useDebugValue:ds,useDeferredValue:ds,useTransition:ds,useMutableSource:ds,useSyncExternalStore:ds,useId:ds,unstable_isNewReconciler:!1},Zs={readContext:Ur,useCallback:function(t,e){return ms().memoizedState=[t,void 0===e?null:e],t},useContext:Ur,useEffect:Is,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ps(4194308,4,Rs.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ps(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ps(4,2,t,e)},useMemo:function(t,e){var n=ms();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var A=ms();return e=void 0!==n?n(e):e,A.memoizedState=A.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},A.queue=t,t=t.dispatch=Vs.bind(null,ss,t),[A.memoizedState,t]},useRef:function(t){return t={current:t},ms().memoizedState=t},useState:ks,useDebugValue:Hs,useDeferredValue:function(t){return ms().memoizedState=t},useTransition:function(){var t=ks(!1),e=t[0];return t=Ws.bind(null,t[1]),ms().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var A=ss,i=ms();if(ir){if(void 0===n)throw Error(r(407));n=n()}else{if(n=e(),null===ko)throw Error(r(349));0!==(30&rs)||_s(A,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Is(Es.bind(null,A,s,t),[t]),A.flags|=2048,Us(9,Fs.bind(null,A,s,n,e),void 0,null),n},useId:function(){var t=ms(),e=ko.identifierPrefix;if(ir){var n=Ji;e=":"+e+"R"+(n=(Yi&~(1<<32-se(Yi)-1)).toString(32)+n),0<(n=hs++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=us++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$s={readContext:Ur,useCallback:Ns,useContext:Ur,useEffect:Ts,useImperativeHandle:Os,useInsertionEffect:Ds,useLayoutEffect:Ls,useMemo:Gs,useReducer:Bs,useRef:Qs,useState:function(){return Bs(ws)},useDebugValue:Hs,useDeferredValue:function(t){return Ks(vs(),as.memoizedState,t)},useTransition:function(){return[Bs(ws)[0],vs().memoizedState]},useMutableSource:bs,useSyncExternalStore:Cs,useId:js,unstable_isNewReconciler:!1},ta={readContext:Ur,useCallback:Ns,useContext:Ur,useEffect:Ts,useImperativeHandle:Os,useInsertionEffect:Ds,useLayoutEffect:Ls,useMemo:Gs,useReducer:ys,useRef:Qs,useState:function(){return ys(ws)},useDebugValue:Hs,useDeferredValue:function(t){var e=vs();return null===as?e.memoizedState=t:Ks(e,as.memoizedState,t)},useTransition:function(){return[ys(ws)[0],vs().memoizedState]},useMutableSource:bs,useSyncExternalStore:Cs,useId:js,unstable_isNewReconciler:!1};function ea(t,e){if(t&&t.defaultProps){for(var n in e=L({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function na(t,e,n,A){n=null===(n=n(A,e=t.memoizedState))||void 0===n?e:L({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Aa={isMounted:function(t){return!!(t=t._reactInternals)&&Gt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var A=tl(),i=el(t),r=Rr(A,i);r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Or(t,r,i))&&(nl(e,t,i,A),Hr(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var A=tl(),i=el(t),r=Rr(A,i);r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Or(t,r,i))&&(nl(e,t,i,A),Hr(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tl(),A=el(t),i=Rr(n,A);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Or(t,i,A))&&(nl(e,t,A,n),Hr(e,t,A))}};function ia(t,e,n,A,i,r,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(A,r,s):!e.prototype||!e.prototype.isPureReactComponent||(!oA(n,A)||!oA(i,r))}function ra(t,e,n){var A=!1,i=xi,r=e.contextType;return"object"===typeof r&&null!==r?r=Ur(r):(i=Pi(e)?Ui:Si.current,r=(A=null!==(A=e.contextTypes)&&void 0!==A)?Qi(t,i):xi),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Aa,t.stateNode=e,e._reactInternals=t,A&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function sa(t,e,n,A){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,A),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,A),e.state!==t&&Aa.enqueueReplaceState(e,e.state,null)}function aa(t,e,n,A){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Dr(t);var r=e.contextType;"object"===typeof r&&null!==r?i.context=Ur(r):(r=Pi(e)?Ui:Si.current,i.context=Qi(t,r)),i.state=t.memoizedState,"function"===typeof(r=e.getDerivedStateFromProps)&&(na(t,e,r,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Aa.enqueueReplaceState(i,i.state,null),Gr(t,n,i,A),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function oa(t,e){try{var n="",A=e;do{n+=N(A),A=A.return}while(A);var i=n}catch(r){i="\nError generating stack: "+r.message+"\n"+r.stack}return{value:t,source:e,stack:i,digest:null}}function la(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ca(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function ua(t,e,n){(n=Rr(-1,n)).tag=3,n.payload={element:null};var A=e.value;return n.callback=function(){Wo||(Wo=!0,jo=A),ca(0,e)},n}function da(t,e,n){(n=Rr(-1,n)).tag=3;var A=t.type.getDerivedStateFromError;if("function"===typeof A){var i=e.value;n.payload=function(){return A(i)},n.callback=function(){ca(0,e)}}var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ca(0,e),"function"!==typeof A&&(null===Vo?Vo=new Set([this]):Vo.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function pa(t,e,n){var A=t.pingCache;if(null===A){A=t.pingCache=new ha;var i=new Set;A.set(e,i)}else void 0===(i=A.get(e))&&(i=new Set,A.set(e,i));i.has(n)||(i.add(n),t=Fl.bind(null,t,e,n),e.then(t,t))}function ga(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function fa(t,e,n,A,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Rr(-1,1)).tag=2,Or(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var ma=B.ReactCurrentOwner,va=!1;function wa(t,e,n,A){e.child=null===t?yr(e,null,n,A):Br(e,t.child,n,A)}function Ba(t,e,n,A,i){n=n.render;var r=e.ref;return kr(e,i),A=gs(t,e,n,A,r,i),n=fs(),null===t||va?(ir&&n&&tr(e),e.flags|=1,wa(t,e,A,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ka(t,e,i))}function ya(t,e,n,A,i){if(null===t){var r=n.type;return"function"!==typeof r||Pl(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Il(n.type,null,A,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=r,ba(t,e,r,A,i))}if(r=t.child,0===(t.lanes&i)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:oA)(s,A)&&t.ref===e.ref)return Ka(t,e,i)}return e.flags|=1,(t=Ml(r,A)).ref=e.ref,t.return=e,e.child=t}function ba(t,e,n,A,i){if(null!==t){var r=t.memoizedProps;if(oA(r,A)&&t.ref===e.ref){if(va=!1,e.pendingProps=A=r,0===(t.lanes&i))return e.lanes=t.lanes,Ka(t,e,i);0!==(131072&t.flags)&&(va=!0)}}return Fa(t,e,n,A,i)}function Ca(t,e,n){var A=e.pendingProps,i=A.children,r=null!==t?t.memoizedState:null;if("hidden"===A.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Mo,Po),Po|=n;else{if(0===(1073741824&n))return t=null!==r?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ei(Mo,Po),Po|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=null!==r?r.baseLanes:n,Ei(Mo,Po),Po|=A}else null!==r?(A=r.baseLanes|n,e.memoizedState=null):A=n,Ei(Mo,Po),Po|=A;return wa(t,e,i,n),e.child}function _a(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fa(t,e,n,A,i){var r=Pi(n)?Ui:Si.current;return r=Qi(e,r),kr(e,i),n=gs(t,e,n,A,r,i),A=fs(),null===t||va?(ir&&A&&tr(e),e.flags|=1,wa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ka(t,e,i))}function Ea(t,e,n,A,i){if(Pi(n)){var r=!0;Di(e)}else r=!1;if(kr(e,i),null===e.stateNode)Ga(t,e),ra(e,n,A),aa(e,n,A,i),A=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var o=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ur(l):l=Qi(e,l=Pi(n)?Ui:Si.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==A||o!==l)&&sa(e,s,A,l),Tr=!1;var u=e.memoizedState;s.state=u,Gr(e,A,s,i),o=e.memoizedState,a!==A||u!==o||ki.current||Tr?("function"===typeof c&&(na(e,n,c,A),o=e.memoizedState),(a=Tr||ia(e,n,a,A,u,o,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=A,e.memoizedState=o),s.props=A,s.state=o,s.context=l,A=a):("function"===typeof s.componentDidMount&&(e.flags|=4194308),A=!1)}else{s=e.stateNode,Lr(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:ea(e.type,a),s.props=l,h=e.pendingProps,u=s.context,"object"===typeof(o=n.contextType)&&null!==o?o=Ur(o):o=Qi(e,o=Pi(n)?Ui:Si.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||u!==o)&&sa(e,s,A,o),Tr=!1,u=e.memoizedState,s.state=u,Gr(e,A,s,i);var p=e.memoizedState;a!==h||u!==p||ki.current||Tr?("function"===typeof d&&(na(e,n,d,A),p=e.memoizedState),(l=Tr||ia(e,n,l,A,u,p,o)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(A,p,o),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(A,p,o)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=A,e.memoizedState=p),s.props=A,s.state=p,s.context=o,A=l):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),A=!1)}return xa(t,e,n,A,r,i)}function xa(t,e,n,A,i,r){_a(t,e);var s=0!==(128&e.flags);if(!A&&!s)return i&&Li(e,n,!1),Ka(t,e,r);A=e.stateNode,ma.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:A.render();return e.flags|=1,null!==t&&s?(e.child=Br(e,t.child,null,r),e.child=Br(e,null,a,r)):wa(t,e,a,r),e.memoizedState=A.state,i&&Li(e,n,!0),e.child}function Sa(t){var e=t.stateNode;e.pendingContext?Ii(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ii(0,e.context,!1),qr(t,e.containerInfo)}function ka(t,e,n,A,i){return dr(),pr(i),e.flags|=256,wa(t,e,n,A),e.child}var Ua,Qa,Pa,Ma,Ia={dehydrated:null,treeContext:null,retryLane:0};function Ta(t){return{baseLanes:t,cachePool:null,transitions:null}}function Da(t,e,n){var A,i=e.pendingProps,s=$r.current,a=!1,o=0!==(128&e.flags);if((A=o)||(A=(null===t||null!==t.memoizedState)&&0!==(2&s)),A?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(s|=1),Ei($r,1&s),null===t)return lr(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(o=i.children,t=i.fallback,a?(i=e.mode,a=e.child,o={mode:"hidden",children:o},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=o):a=Dl(o,i,0,null),t=Tl(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ta(n),e.memoizedState=Ia,t):La(e,o));if(null!==(s=t.memoizedState)&&null!==(A=s.dehydrated))return function(t,e,n,A,i,s,a){if(n)return 256&e.flags?(e.flags&=-257,Ra(t,e,a,A=la(Error(r(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(s=A.fallback,i=e.mode,A=Dl({mode:"visible",children:A.children},i,0,null),(s=Tl(s,i,a,null)).flags|=2,A.return=e,s.return=e,A.sibling=s,e.child=A,0!==(1&e.mode)&&Br(e,t.child,null,a),e.child.memoizedState=Ta(a),e.memoizedState=Ia,s);if(0===(1&e.mode))return Ra(t,e,a,null);if("$!"===i.data){if(A=i.nextSibling&&i.nextSibling.dataset)var o=A.dgst;return A=o,Ra(t,e,a,A=la(s=Error(r(419)),A,void 0))}if(o=0!==(a&t.childLanes),va||o){if(null!==(A=ko)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(A.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ir(t,i),nl(A,t,i,-1))}return gl(),Ra(t,e,a,A=la(Error(r(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=xl.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ar=li(i.nextSibling),nr=e,ir=!0,rr=null,null!==t&&(zi[Xi++]=Yi,zi[Xi++]=Ji,zi[Xi++]=qi,Yi=t.id,Ji=t.overflow,qi=e),e=La(e,A.children),e.flags|=4096,e)}(t,e,o,i,A,s,n);if(a){a=i.fallback,o=e.mode,A=(s=t.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&o)&&e.child!==s?((i=e.child).childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ml(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==A?a=Ml(A,a):(a=Tl(a,o,n,null)).flags|=2,a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,o=null===(o=t.child.memoizedState)?Ta(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Ia,i}return t=(a=t.child).sibling,i=Ml(a,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function La(t,e){return(e=Dl({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Ra(t,e,n,A){return null!==A&&pr(A),Br(e,t.child,null,n),(t=La(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Oa(t,e,n){t.lanes|=e;var A=t.alternate;null!==A&&(A.lanes|=e),Sr(t.return,e,n)}function Ha(t,e,n,A,i){var r=t.memoizedState;null===r?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:A,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=A,r.tail=n,r.tailMode=i)}function Na(t,e,n){var A=e.pendingProps,i=A.revealOrder,r=A.tail;if(wa(t,e,A.children,n),0!==(2&(A=$r.current)))A=1&A|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Oa(t,n,e);else if(19===t.tag)Oa(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}A&=1}if(Ei($r,A),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ts(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ha(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ts(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ha(e,!0,n,null,r);break;case"together":Ha(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ga(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ka(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Do|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(n=Ml(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ml(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Wa(t,e){if(!ir)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var A=null;null!==n;)null!==n.alternate&&(A=n),n=n.sibling;null===A?e||null===t.tail?t.tail=null:t.tail.sibling=null:A.sibling=null}}function ja(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,A=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,A|=14680064&i.subtreeFlags,A|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,A|=i.subtreeFlags,A|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=A,t.childLanes=n,e}function Va(t,e,n){var A=e.pendingProps;switch(er(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ja(e),null;case 1:case 17:return Pi(e.type)&&Mi(),ja(e),null;case 3:return A=e.stateNode,Yr(),Fi(ki),Fi(Si),ns(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),null!==t&&null!==t.child||(hr(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==rr&&(sl(rr),rr=null))),Qa(t,e),ja(e),null;case 5:Zr(e);var i=Xr(zr.current);if(n=e.type,null!==t&&null!=e.stateNode)Pa(t,e,n,A,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!A){if(null===e.stateNode)throw Error(r(166));return ja(e),null}if(t=Xr(jr.current),hr(e)){A=e.stateNode,n=e.type;var s=e.memoizedProps;switch(A[ui]=e,A[di]=s,t=0!==(1&e.mode),n){case"dialog":OA("cancel",A),OA("close",A);break;case"iframe":case"object":case"embed":OA("load",A);break;case"video":case"audio":for(i=0;i<TA.length;i++)OA(TA[i],A);break;case"source":OA("error",A);break;case"img":case"image":case"link":OA("error",A),OA("load",A);break;case"details":OA("toggle",A);break;case"input":Y(A,s),OA("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!s.multiple},OA("invalid",A);break;case"textarea":it(A,s),OA("invalid",A)}for(var o in vt(n,s),i=null,s)if(s.hasOwnProperty(o)){var l=s[o];"children"===o?"string"===typeof l?A.textContent!==l&&(!0!==s.suppressHydrationWarning&&ZA(A.textContent,l,t),i=["children",l]):"number"===typeof l&&A.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&ZA(A.textContent,l,t),i=["children",""+l]):a.hasOwnProperty(o)&&null!=l&&"onScroll"===o&&OA("scroll",A)}switch(n){case"input":V(A),$(A,s,!0);break;case"textarea":V(A),st(A);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(A.onclick=$A)}A=i,e.updateQueue=A,null!==A&&(e.flags|=4)}else{o=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=o.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof A.is?t=o.createElement(n,{is:A.is}):(t=o.createElement(n),"select"===n&&(o=t,A.multiple?o.multiple=!0:A.size&&(o.size=A.size))):t=o.createElementNS(t,n),t[ui]=e,t[di]=A,Ua(t,e,!1,!1),e.stateNode=t;t:{switch(o=wt(n,A),n){case"dialog":OA("cancel",t),OA("close",t),i=A;break;case"iframe":case"object":case"embed":OA("load",t),i=A;break;case"video":case"audio":for(i=0;i<TA.length;i++)OA(TA[i],t);i=A;break;case"source":OA("error",t),i=A;break;case"img":case"image":case"link":OA("error",t),OA("load",t),i=A;break;case"details":OA("toggle",t),i=A;break;case"input":Y(t,A),i=q(t,A),OA("invalid",t);break;case"option":default:i=A;break;case"select":t._wrapperState={wasMultiple:!!A.multiple},i=L({},A,{value:void 0}),OA("invalid",t);break;case"textarea":it(t,A),i=At(t,A),OA("invalid",t)}for(s in vt(n,i),l=i)if(l.hasOwnProperty(s)){var c=l[s];"style"===s?ft(t,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&ut(t,c):"number"===typeof c&&ut(t,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&OA("scroll",t):null!=c&&w(t,s,c,o))}switch(n){case"input":V(t),$(t,A,!1);break;case"textarea":V(t),st(t);break;case"option":null!=A.value&&t.setAttribute("value",""+W(A.value));break;case"select":t.multiple=!!A.multiple,null!=(s=A.value)?nt(t,!!A.multiple,s,!1):null!=A.defaultValue&&nt(t,!!A.multiple,A.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=$A)}switch(n){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break t;case"img":A=!0;break t;default:A=!1}}A&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return ja(e),null;case 6:if(t&&null!=e.stateNode)Ma(t,e,t.memoizedProps,A);else{if("string"!==typeof A&&null===e.stateNode)throw Error(r(166));if(n=Xr(zr.current),Xr(jr.current),hr(e)){if(A=e.stateNode,n=e.memoizedProps,A[ui]=e,(s=A.nodeValue!==n)&&null!==(t=nr))switch(t.tag){case 3:ZA(A.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&ZA(A.nodeValue,n,0!==(1&t.mode))}s&&(e.flags|=4)}else(A=(9===n.nodeType?n:n.ownerDocument).createTextNode(A))[ui]=e,e.stateNode=A}return ja(e),null;case 13:if(Fi($r),A=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ir&&null!==Ar&&0!==(1&e.mode)&&0===(128&e.flags))ur(),dr(),e.flags|=98560,s=!1;else if(s=hr(e),null!==A&&null!==A.dehydrated){if(null===t){if(!s)throw Error(r(318));if(!(s=null!==(s=e.memoizedState)?s.dehydrated:null))throw Error(r(317));s[ui]=e}else dr(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;ja(e),s=!1}else null!==rr&&(sl(rr),rr=null),s=!0;if(!s)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((A=null!==A)!==(null!==t&&null!==t.memoizedState)&&A&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&$r.current)?0===Io&&(Io=3):gl())),null!==e.updateQueue&&(e.flags|=4),ja(e),null);case 4:return Yr(),Qa(t,e),null===t&&GA(e.stateNode.containerInfo),ja(e),null;case 10:return xr(e.type._context),ja(e),null;case 19:if(Fi($r),null===(s=e.memoizedState))return ja(e),null;if(A=0!==(128&e.flags),null===(o=s.rendering))if(A)Wa(s,!1);else{if(0!==Io||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(o=ts(t))){for(e.flags|=128,Wa(s,!1),null!==(A=o.updateQueue)&&(e.updateQueue=A,e.flags|=4),e.subtreeFlags=0,A=n,n=e.child;null!==n;)t=A,(s=n).flags&=14680066,null===(o=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ei($r,1&$r.current|2),e.child}t=t.sibling}null!==s.tail&&Jt()>Go&&(e.flags|=128,A=!0,Wa(s,!1),e.lanes=4194304)}else{if(!A)if(null!==(t=ts(o))){if(e.flags|=128,A=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!ir)return ja(e),null}else 2*Jt()-s.renderingStartTime>Go&&1073741824!==n&&(e.flags|=128,A=!0,Wa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(null!==(n=s.last)?n.sibling=o:e.child=o,s.last=o)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jt(),e.sibling=null,n=$r.current,Ei($r,A?1&n|2:1&n),e):(ja(e),null);case 22:case 23:return hl(),A=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==A&&(e.flags|=8192),A&&0!==(1&e.mode)?0!==(1073741824&Po)&&(ja(e),6&e.subtreeFlags&&(e.flags|=8192)):ja(e),null;case 24:case 25:return null}throw Error(r(156,e.tag))}function za(t,e){switch(er(e),e.tag){case 1:return Pi(e.type)&&Mi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Yr(),Fi(ki),Fi(Si),ns(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Zr(e),null;case 13:if(Fi($r),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(r(340));dr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Fi($r),null;case 4:return Yr(),null;case 10:return xr(e.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ua=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(){},Pa=function(t,e,n,A){var i=t.memoizedProps;if(i!==A){t=e.stateNode,Xr(jr.current);var r,s=null;switch(n){case"input":i=q(t,i),A=q(t,A),s=[];break;case"select":i=L({},i,{value:void 0}),A=L({},A,{value:void 0}),s=[];break;case"textarea":i=At(t,i),A=At(t,A),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof A.onClick&&(t.onclick=$A)}for(c in vt(n,A),n=null,i)if(!A.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var o=i[c];for(r in o)o.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in A){var l=A[c];if(o=null!=i?i[c]:void 0,A.hasOwnProperty(c)&&l!==o&&(null!=l||null!=o))if("style"===c)if(o){for(r in o)!o.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in l)l.hasOwnProperty(r)&&o[r]!==l[r]&&(n||(n={}),n[r]=l[r])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&OA("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}},Ma=function(t,e,n,A){n!==A&&(e.flags|=4)};var Xa=!1,qa=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(A){_l(t,e,A)}else n.current=null}function $a(t,e,n){try{n()}catch(A){_l(t,e,A)}}var to=!1;function eo(t,e,n){var A=e.updateQueue;if(null!==(A=null!==A?A.lastEffect:null)){var i=A=A.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,void 0!==r&&$a(e,n,r)}i=i.next}while(i!==A)}}function no(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var A=n.create;n.destroy=A()}n=n.next}while(n!==e)}}function Ao(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function io(t){var e=t.alternate;null!==e&&(t.alternate=null,io(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[ui],delete e[di],delete e[gi],delete e[fi],delete e[mi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ro(t){return 5===t.tag||3===t.tag||4===t.tag}function so(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ro(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ao(t,e,n){var A=t.tag;if(5===A||6===A)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=$A));else if(4!==A&&null!==(t=t.child))for(ao(t,e,n),t=t.sibling;null!==t;)ao(t,e,n),t=t.sibling}function oo(t,e,n){var A=t.tag;if(5===A||6===A)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==A&&null!==(t=t.child))for(oo(t,e,n),t=t.sibling;null!==t;)oo(t,e,n),t=t.sibling}var lo=null,co=!1;function ho(t,e,n){for(n=n.child;null!==n;)uo(t,e,n),n=n.sibling}function uo(t,e,n){if(re&&"function"===typeof re.onCommitFiberUnmount)try{re.onCommitFiberUnmount(ie,n)}catch(a){}switch(n.tag){case 5:qa||Za(n,e);case 6:var A=lo,i=co;lo=null,ho(t,e,n),co=i,null!==(lo=A)&&(co?(t=lo,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):lo.removeChild(n.stateNode));break;case 18:null!==lo&&(co?(t=lo,n=n.stateNode,8===t.nodeType?oi(t.parentNode,n):1===t.nodeType&&oi(t,n),Ge(t)):oi(lo,n.stateNode));break;case 4:A=lo,i=co,lo=n.stateNode.containerInfo,co=!0,ho(t,e,n),lo=A,co=i;break;case 0:case 11:case 14:case 15:if(!qa&&(null!==(A=n.updateQueue)&&null!==(A=A.lastEffect))){i=A=A.next;do{var r=i,s=r.destroy;r=r.tag,void 0!==s&&(0!==(2&r)||0!==(4&r))&&$a(n,e,s),i=i.next}while(i!==A)}ho(t,e,n);break;case 1:if(!qa&&(Za(n,e),"function"===typeof(A=n.stateNode).componentWillUnmount))try{A.props=n.memoizedProps,A.state=n.memoizedState,A.componentWillUnmount()}catch(a){_l(n,e,a)}ho(t,e,n);break;case 21:ho(t,e,n);break;case 22:1&n.mode?(qa=(A=qa)||null!==n.memoizedState,ho(t,e,n),qa=A):ho(t,e,n);break;default:ho(t,e,n)}}function po(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ya),e.forEach(function(e){var A=Sl.bind(null,t,e);n.has(e)||(n.add(e),e.then(A,A))})}}function go(t,e){var n=e.deletions;if(null!==n)for(var A=0;A<n.length;A++){var i=n[A];try{var s=t,a=e,o=a;t:for(;null!==o;){switch(o.tag){case 5:lo=o.stateNode,co=!1;break t;case 3:case 4:lo=o.stateNode.containerInfo,co=!0;break t}o=o.return}if(null===lo)throw Error(r(160));uo(s,a,i),lo=null,co=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){_l(i,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)fo(e,t),e=e.sibling}function fo(t,e){var n=t.alternate,A=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(go(e,t),mo(t),4&A){try{eo(3,t,t.return),no(3,t)}catch(f){_l(t,t.return,f)}try{eo(5,t,t.return)}catch(f){_l(t,t.return,f)}}break;case 1:go(e,t),mo(t),512&A&&null!==n&&Za(n,n.return);break;case 5:if(go(e,t),mo(t),512&A&&null!==n&&Za(n,n.return),32&t.flags){var i=t.stateNode;try{ut(i,"")}catch(f){_l(t,t.return,f)}}if(4&A&&null!=(i=t.stateNode)){var s=t.memoizedProps,a=null!==n?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&J(i,s),wt(o,a);var c=wt(o,s);for(a=0;a<l.length;a+=2){var h=l[a],u=l[a+1];"style"===h?ft(i,u):"dangerouslySetInnerHTML"===h?ht(i,u):"children"===h?ut(i,u):w(i,h,u,c)}switch(o){case"input":Z(i,s);break;case"textarea":rt(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?nt(i,!!s.multiple,p,!1):d!==!!s.multiple&&(null!=s.defaultValue?nt(i,!!s.multiple,s.defaultValue,!0):nt(i,!!s.multiple,s.multiple?[]:"",!1))}i[di]=s}catch(f){_l(t,t.return,f)}}break;case 6:if(go(e,t),mo(t),4&A){if(null===t.stateNode)throw Error(r(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(f){_l(t,t.return,f)}}break;case 3:if(go(e,t),mo(t),4&A&&null!==n&&n.memoizedState.isDehydrated)try{Ge(e.containerInfo)}catch(f){_l(t,t.return,f)}break;case 4:default:go(e,t),mo(t);break;case 13:go(e,t),mo(t),8192&(i=t.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(No=Jt())),4&A&&po(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(qa=(c=qa)||h,go(e,t),qa=c):go(e,t),mo(t),8192&A){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&0!==(1&t.mode))for(Ja=t,h=t.child;null!==h;){for(u=Ja=h;null!==Ja;){switch(p=(d=Ja).child,d.tag){case 0:case 11:case 14:case 15:eo(4,d,d.return);break;case 1:Za(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){A=d,n=d.return;try{e=A,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(f){_l(A,n,f)}}break;case 5:Za(d,d.return);break;case 22:if(null!==d.memoizedState){yo(u);continue}}null!==p?(p.return=d,Ja=p):yo(u)}h=h.sibling}t:for(h=null,u=t;;){if(5===u.tag){if(null===h){h=u;try{i=u.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=u.stateNode,a=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,o.style.display=gt("display",a))}catch(f){_l(t,t.return,f)}}}else if(6===u.tag){if(null===h)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(f){_l(t,t.return,f)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===t)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===t)break t;for(;null===u.sibling;){if(null===u.return||u.return===t)break t;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:go(e,t),mo(t),4&A&&po(t);case 21:}}function mo(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(ro(n)){var A=n;break t}n=n.return}throw Error(r(160))}switch(A.tag){case 5:var i=A.stateNode;32&A.flags&&(ut(i,""),A.flags&=-33),oo(t,so(t),i);break;case 3:case 4:var s=A.stateNode.containerInfo;ao(t,so(t),s);break;default:throw Error(r(161))}}catch(a){_l(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vo(t,e,n){Ja=t,wo(t,e,n)}function wo(t,e,n){for(var A=0!==(1&t.mode);null!==Ja;){var i=Ja,r=i.child;if(22===i.tag&&A){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,o=null!==a&&null!==a.memoizedState||qa;a=Xa;var l=qa;if(Xa=s,(qa=o)&&!l)for(Ja=i;null!==Ja;)o=(s=Ja).child,22===s.tag&&null!==s.memoizedState?bo(i):null!==o?(o.return=s,Ja=o):bo(i);for(;null!==r;)Ja=r,wo(r,e,n),r=r.sibling;Ja=i,Xa=a,qa=l}Bo(t)}else 0!==(8772&i.subtreeFlags)&&null!==r?(r.return=i,Ja=r):Bo(t)}}function Bo(t){for(;null!==Ja;){var e=Ja;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:qa||no(5,e);break;case 1:var A=e.stateNode;if(4&e.flags&&!qa)if(null===n)A.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ea(e.type,n.memoizedProps);A.componentDidUpdate(i,n.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;null!==s&&Kr(e,s,A);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Kr(e,a,n)}break;case 5:var o=e.stateNode;if(null===n&&4&e.flags){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var u=h.dehydrated;null!==u&&Ge(u)}}}break;default:throw Error(r(163))}qa||512&e.flags&&Ao(e)}catch(d){_l(e,e.return,d)}}if(e===t){Ja=null;break}if(null!==(n=e.sibling)){n.return=e.return,Ja=n;break}Ja=e.return}}function yo(t){for(;null!==Ja;){var e=Ja;if(e===t){Ja=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Ja=n;break}Ja=e.return}}function bo(t){for(;null!==Ja;){var e=Ja;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{no(4,e)}catch(o){_l(e,n,o)}break;case 1:var A=e.stateNode;if("function"===typeof A.componentDidMount){var i=e.return;try{A.componentDidMount()}catch(o){_l(e,i,o)}}var r=e.return;try{Ao(e)}catch(o){_l(e,r,o)}break;case 5:var s=e.return;try{Ao(e)}catch(o){_l(e,s,o)}}}catch(o){_l(e,e.return,o)}if(e===t){Ja=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Ja=a;break}Ja=e.return}}var Co,_o=Math.ceil,Fo=B.ReactCurrentDispatcher,Eo=B.ReactCurrentOwner,xo=B.ReactCurrentBatchConfig,So=0,ko=null,Uo=null,Qo=0,Po=0,Mo=_i(0),Io=0,To=null,Do=0,Lo=0,Ro=0,Oo=null,Ho=null,No=0,Go=1/0,Ko=null,Wo=!1,jo=null,Vo=null,zo=!1,Xo=null,qo=0,Yo=0,Jo=null,Zo=-1,$o=0;function tl(){return 0!==(6&So)?Jt():-1!==Zo?Zo:Zo=Jt()}function el(t){return 0===(1&t.mode)?1:0!==(2&So)&&0!==Qo?Qo&-Qo:null!==gr.transition?(0===$o&&($o=ge()),$o):0!==(t=we)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function nl(t,e,n,A){if(50<Yo)throw Yo=0,Jo=null,Error(r(185));me(t,n,A),0!==(2&So)&&t===ko||(t===ko&&(0===(2&So)&&(Lo|=n),4===Io&&al(t,Qo)),Al(t,A),1===n&&0===So&&0===(1&e.mode)&&(Go=Jt()+500,Oi&&Gi()))}function Al(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,A=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var s=31-se(r),a=1<<s,o=i[s];-1===o?0!==(a&n)&&0===(a&A)||(i[s]=de(a,e)):o<=e&&(t.expiredLanes|=a),r&=~a}}(t,e);var A=ue(t,t===ko?Qo:0);if(0===A)null!==n&&Xt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=A&-A,t.callbackPriority!==e){if(null!=n&&Xt(n),1===e)0===t.tag?function(t){Oi=!0,Ni(t)}(ol.bind(null,t)):Ni(ol.bind(null,t)),si(function(){0===(6&So)&&Gi()}),n=null;else{switch(Be(A)){case 1:n=$t;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=Ae}n=kl(n,il.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function il(t,e){if(Zo=-1,$o=0,0!==(6&So))throw Error(r(327));var n=t.callbackNode;if(bl()&&t.callbackNode!==n)return null;var A=ue(t,t===ko?Qo:0);if(0===A)return null;if(0!==(30&A)||0!==(A&t.expiredLanes)||e)e=fl(t,A);else{e=A;var i=So;So|=2;var s=pl();for(ko===t&&Qo===e||(Ko=null,Go=Jt()+500,ul(t,e));;)try{vl();break}catch(o){dl(t,o)}Er(),Fo.current=s,So=i,null!==Uo?e=0:(ko=null,Qo=0,e=Io)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(A=i,e=rl(t,i))),1===e)throw n=To,ul(t,0),al(t,A),Al(t,Jt()),n;if(6===e)al(t,A);else{if(i=t.current.alternate,0===(30&A)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var A=0;A<n.length;A++){var i=n[A],r=i.getSnapshot;i=i.value;try{if(!aA(r(),i))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=fl(t,A))&&(0!==(s=pe(t))&&(A=s,e=rl(t,s))),1===e))throw n=To,ul(t,0),al(t,A),Al(t,Jt()),n;switch(t.finishedWork=i,t.finishedLanes=A,e){case 0:case 1:throw Error(r(345));case 2:case 5:yl(t,Ho,Ko);break;case 3:if(al(t,A),(130023424&A)===A&&10<(e=No+500-Jt())){if(0!==ue(t,0))break;if(((i=t.suspendedLanes)&A)!==A){tl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ai(yl.bind(null,t,Ho,Ko),e);break}yl(t,Ho,Ko);break;case 4:if(al(t,A),(4194240&A)===A)break;for(e=t.eventTimes,i=-1;0<A;){var a=31-se(A);s=1<<a,(a=e[a])>i&&(i=a),A&=~s}if(A=i,10<(A=(120>(A=Jt()-A)?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*_o(A/1960))-A)){t.timeoutHandle=Ai(yl.bind(null,t,Ho,Ko),A);break}yl(t,Ho,Ko);break;default:throw Error(r(329))}}}return Al(t,Jt()),t.callbackNode===n?il.bind(null,t):null}function rl(t,e){var n=Oo;return t.current.memoizedState.isDehydrated&&(ul(t,e).flags|=256),2!==(t=fl(t,e))&&(e=Ho,Ho=n,null!==e&&sl(e)),t}function sl(t){null===Ho?Ho=t:Ho.push.apply(Ho,t)}function al(t,e){for(e&=~Ro,e&=~Lo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-se(e),A=1<<n;t[n]=-1,e&=~A}}function ol(t){if(0!==(6&So))throw Error(r(327));bl();var e=ue(t,0);if(0===(1&e))return Al(t,Jt()),null;var n=fl(t,e);if(0!==t.tag&&2===n){var A=pe(t);0!==A&&(e=A,n=rl(t,A))}if(1===n)throw n=To,ul(t,0),al(t,e),Al(t,Jt()),n;if(6===n)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yl(t,Ho,Ko),Al(t,Jt()),null}function ll(t,e){var n=So;So|=1;try{return t(e)}finally{0===(So=n)&&(Go=Jt()+500,Oi&&Gi())}}function cl(t){null!==Xo&&0===Xo.tag&&0===(6&So)&&bl();var e=So;So|=1;var n=xo.transition,A=we;try{if(xo.transition=null,we=1,t)return t()}finally{we=A,xo.transition=n,0===(6&(So=e))&&Gi()}}function hl(){Po=Mo.current,Fi(Mo)}function ul(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Uo)for(n=Uo.return;null!==n;){var A=n;switch(er(A),A.tag){case 1:null!==(A=A.type.childContextTypes)&&void 0!==A&&Mi();break;case 3:Yr(),Fi(ki),Fi(Si),ns();break;case 5:Zr(A);break;case 4:Yr();break;case 13:case 19:Fi($r);break;case 10:xr(A.type._context);break;case 22:case 23:hl()}n=n.return}if(ko=t,Uo=t=Ml(t.current,null),Qo=Po=e,Io=0,To=null,Ro=Lo=Do=0,Ho=Oo=null,null!==Qr){for(e=0;e<Qr.length;e++)if(null!==(A=(n=Qr[e]).interleaved)){n.interleaved=null;var i=A.next,r=n.pending;if(null!==r){var s=r.next;r.next=i,A.next=s}n.pending=A}Qr=null}return t}function dl(t,e){for(;;){var n=Uo;try{if(Er(),As.current=Js,ls){for(var A=ss.memoizedState;null!==A;){var i=A.queue;null!==i&&(i.pending=null),A=A.next}ls=!1}if(rs=0,os=as=ss=null,cs=!1,hs=0,Eo.current=null,null===n||null===n.return){Io=1,To=e,Uo=null;break}t:{var s=t,a=n.return,o=n,l=e;if(e=Qo,o.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=o,u=h.tag;if(0===(1&h.mode)&&(0===u||11===u||15===u)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,fa(p,a,o,0,e),1&p.mode&&pa(s,c,e),l=c;var g=(e=p).updateQueue;if(null===g){var f=new Set;f.add(l),e.updateQueue=f}else g.add(l);break t}if(0===(1&e)){pa(s,c,e),gl();break t}l=Error(r(426))}else if(ir&&1&o.mode){var m=ga(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),fa(m,a,o,0,e),pr(oa(l,o));break t}}s=l=oa(l,o),4!==Io&&(Io=2),null===Oo?Oo=[s]:Oo.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e,Nr(s,ua(0,l,e));break t;case 1:o=l;var v=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Vo||!Vo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e,Nr(s,da(s,o,e));break t}}s=s.return}while(null!==s)}Bl(n)}catch(B){e=B,Uo===n&&null!==n&&(Uo=n=n.return);continue}break}}function pl(){var t=Fo.current;return Fo.current=Js,null===t?Js:t}function gl(){0!==Io&&3!==Io&&2!==Io||(Io=4),null===ko||0===(268435455&Do)&&0===(268435455&Lo)||al(ko,Qo)}function fl(t,e){var n=So;So|=2;var A=pl();for(ko===t&&Qo===e||(Ko=null,ul(t,e));;)try{ml();break}catch(i){dl(t,i)}if(Er(),So=n,Fo.current=A,null!==Uo)throw Error(r(261));return ko=null,Qo=0,Io}function ml(){for(;null!==Uo;)wl(Uo)}function vl(){for(;null!==Uo&&!qt();)wl(Uo)}function wl(t){var e=Co(t.alternate,t,Po);t.memoizedProps=t.pendingProps,null===e?Bl(t):Uo=e,Eo.current=null}function Bl(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Va(n,e,Po)))return void(Uo=n)}else{if(null!==(n=za(n,e)))return n.flags&=32767,void(Uo=n);if(null===t)return Io=6,void(Uo=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Uo=e);Uo=e=t}while(null!==e);0===Io&&(Io=5)}function yl(t,e,n){var A=we,i=xo.transition;try{xo.transition=null,we=1,function(t,e,n,A){do{bl()}while(null!==Xo);if(0!==(6&So))throw Error(r(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var A=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-se(n),r=1<<i;e[i]=0,A[i]=-1,t[i]=-1,n&=~r}}(t,s),t===ko&&(Uo=ko=null,Qo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||zo||(zo=!0,kl(ee,function(){return bl(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=xo.transition,xo.transition=null;var a=we;we=1;var o=So;So|=4,Eo.current=null,function(t,e){if(ti=We,dA(t=uA())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var A=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(A&&0!==A.rangeCount){n=A.anchorNode;var i=A.anchorOffset,s=A.focusNode;A=A.focusOffset;try{n.nodeType,s.nodeType}catch(y){n=null;break t}var a=0,o=-1,l=-1,c=0,h=0,u=t,d=null;e:for(;;){for(var p;u!==n||0!==i&&3!==u.nodeType||(o=a+i),u!==s||0!==A&&3!==u.nodeType||(l=a+A),3===u.nodeType&&(a+=u.nodeValue.length),null!==(p=u.firstChild);)d=u,u=p;for(;;){if(u===t)break e;if(d===n&&++c===i&&(o=a),d===s&&++h===A&&(l=a),null!==(p=u.nextSibling))break;d=(u=d).parentNode}u=p}n=-1===o||-1===l?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},We=!1,Ja=e;null!==Ja;)if(t=(e=Ja).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ja=t;else for(;null!==Ja;){e=Ja;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var f=g.memoizedProps,m=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?f:ea(e.type,f),m);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var B=e.stateNode.containerInfo;1===B.nodeType?B.textContent="":9===B.nodeType&&B.documentElement&&B.removeChild(B.documentElement);break;default:throw Error(r(163))}}catch(y){_l(e,e.return,y)}if(null!==(t=e.sibling)){t.return=e.return,Ja=t;break}Ja=e.return}g=to,to=!1}(t,n),fo(n,t),pA(ei),We=!!ti,ei=ti=null,t.current=n,vo(n,t,i),Yt(),So=o,we=a,xo.transition=s}else t.current=n;if(zo&&(zo=!1,Xo=t,qo=i),s=t.pendingLanes,0===s&&(Vo=null),function(t){if(re&&"function"===typeof re.onCommitFiberRoot)try{re.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),Al(t,Jt()),null!==e)for(A=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],A(i.value,{componentStack:i.stack,digest:i.digest});if(Wo)throw Wo=!1,t=jo,jo=null,t;0!==(1&qo)&&0!==t.tag&&bl(),s=t.pendingLanes,0!==(1&s)?t===Jo?Yo++:(Yo=0,Jo=t):Yo=0,Gi()}(t,e,n,A)}finally{xo.transition=i,we=A}return null}function bl(){if(null!==Xo){var t=Be(qo),e=xo.transition,n=we;try{if(xo.transition=null,we=16>t?16:t,null===Xo)var A=!1;else{if(t=Xo,Xo=null,qo=0,0!==(6&So))throw Error(r(331));var i=So;for(So|=4,Ja=t.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var c=o[l];for(Ja=c;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:eo(8,h,s)}var u=h.child;if(null!==u)u.return=h,Ja=u;else for(;null!==Ja;){var d=(h=Ja).sibling,p=h.return;if(io(h),h===c){Ja=null;break}if(null!==d){d.return=p,Ja=d;break}Ja=p}}}var g=s.alternate;if(null!==g){var f=g.child;if(null!==f){g.child=null;do{var m=f.sibling;f.sibling=null,f=m}while(null!==f)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else t:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:eo(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Ja=v;break t}Ja=s.return}}var w=t.current;for(Ja=w;null!==Ja;){var B=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==B)B.return=a,Ja=B;else t:for(a=w;null!==Ja;){if(0!==(2048&(o=Ja).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(b){_l(o,o.return,b)}if(o===a){Ja=null;break t}var y=o.sibling;if(null!==y){y.return=o.return,Ja=y;break t}Ja=o.return}}if(So=i,Gi(),re&&"function"===typeof re.onPostCommitFiberRoot)try{re.onPostCommitFiberRoot(ie,t)}catch(b){}A=!0}return A}finally{we=n,xo.transition=e}}return!1}function Cl(t,e,n){t=Or(t,e=ua(0,e=oa(n,e),1),1),e=tl(),null!==t&&(me(t,1,e),Al(t,e))}function _l(t,e,n){if(3===t.tag)Cl(t,t,n);else for(;null!==e;){if(3===e.tag){Cl(e,t,n);break}if(1===e.tag){var A=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof A.componentDidCatch&&(null===Vo||!Vo.has(A))){e=Or(e,t=da(e,t=oa(n,t),1),1),t=tl(),null!==e&&(me(e,1,t),Al(e,t));break}}e=e.return}}function Fl(t,e,n){var A=t.pingCache;null!==A&&A.delete(e),e=tl(),t.pingedLanes|=t.suspendedLanes&n,ko===t&&(Qo&n)===n&&(4===Io||3===Io&&(130023424&Qo)===Qo&&500>Jt()-No?ul(t,0):Ro|=n),Al(t,e)}function El(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=tl();null!==(t=Ir(t,e))&&(me(t,e,n),Al(t,n))}function xl(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),El(t,n)}function Sl(t,e){var n=0;switch(t.tag){case 13:var A=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:A=t.stateNode;break;default:throw Error(r(314))}null!==A&&A.delete(e),El(t,n)}function kl(t,e){return zt(t,e)}function Ul(t,e,n,A){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ql(t,e,n,A){return new Ul(t,e,n,A)}function Pl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ml(t,e){var n=t.alternate;return null===n?((n=Ql(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Il(t,e,n,A,i,s){var a=2;if(A=t,"function"===typeof t)Pl(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case C:return Tl(n.children,i,s,e);case _:a=8,i|=8;break;case F:return(t=Ql(12,n,e,2|i)).elementType=F,t.lanes=s,t;case k:return(t=Ql(13,n,e,i)).elementType=k,t.lanes=s,t;case U:return(t=Ql(19,n,e,i)).elementType=U,t.lanes=s,t;case M:return Dl(n,i,s,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case E:a=10;break t;case x:a=9;break t;case S:a=11;break t;case Q:a=14;break t;case P:a=16,A=null;break t}throw Error(r(130,null==t?t:typeof t,""))}return(e=Ql(a,n,e,i)).elementType=t,e.type=A,e.lanes=s,e}function Tl(t,e,n,A){return(t=Ql(7,t,A,e)).lanes=n,t}function Dl(t,e,n,A){return(t=Ql(22,t,A,e)).elementType=M,t.lanes=n,t.stateNode={isHidden:!1},t}function Ll(t,e,n){return(t=Ql(6,t,null,e)).lanes=n,t}function Rl(t,e,n){return(e=Ql(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ol(t,e,n,A,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fe(0),this.expirationTimes=fe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.identifierPrefix=A,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hl(t,e,n,A,i,r,s,a,o){return t=new Ol(t,e,n,a,o),1===e?(e=1,!0===r&&(e|=8)):e=0,r=Ql(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:A,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dr(r),t}function Nl(t){if(!t)return xi;t:{if(Gt(t=t._reactInternals)!==t||1!==t.tag)throw Error(r(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(r(171))}if(1===t.tag){var n=t.type;if(Pi(n))return Ti(t,n,e)}return e}function Gl(t,e,n,A,i,r,s,a,o){return(t=Hl(n,A,!0,t,0,r,0,a,o)).context=Nl(null),n=t.current,(r=Rr(A=tl(),i=el(n))).callback=void 0!==e&&null!==e?e:null,Or(n,r,i),t.current.lanes=i,me(t,i,A),Al(t,A),t}function Kl(t,e,n,A){var i=e.current,r=tl(),s=el(i);return n=Nl(n),null===e.context?e.context=n:e.pendingContext=n,(e=Rr(r,s)).payload={element:t},null!==(A=void 0===A?null:A)&&(e.callback=A),null!==(t=Or(i,e,s))&&(nl(t,i,s,r),Hr(t,i,s)),s}function Wl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function jl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Vl(t,e){jl(t,e),(t=t.alternate)&&jl(t,e)}Co=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||ki.current)va=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return va=!1,function(t,e,n){switch(e.tag){case 3:Sa(e),dr();break;case 5:Jr(e);break;case 1:Pi(e.type)&&Di(e);break;case 4:qr(e,e.stateNode.containerInfo);break;case 10:var A=e.type._context,i=e.memoizedProps.value;Ei(br,A._currentValue),A._currentValue=i;break;case 13:if(null!==(A=e.memoizedState))return null!==A.dehydrated?(Ei($r,1&$r.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Da(t,e,n):(Ei($r,1&$r.current),null!==(t=Ka(t,e,n))?t.sibling:null);Ei($r,1&$r.current);break;case 19:if(A=0!==(n&e.childLanes),0!==(128&t.flags)){if(A)return Na(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei($r,$r.current),A)break;return null;case 22:case 23:return e.lanes=0,Ca(t,e,n)}return Ka(t,e,n)}(t,e,n);va=0!==(131072&t.flags)}else va=!1,ir&&0!==(1048576&e.flags)&&$i(e,Vi,e.index);switch(e.lanes=0,e.tag){case 2:var A=e.type;Ga(t,e),t=e.pendingProps;var i=Qi(e,Si.current);kr(e,n),i=gs(null,e,A,t,i,n);var s=fs();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(A)?(s=!0,Di(e)):s=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Dr(e),i.updater=Aa,e.stateNode=i,i._reactInternals=e,aa(e,A,t,n),e=xa(null,e,A,!0,s,n)):(e.tag=0,ir&&s&&tr(e),wa(null,e,i,n),e=e.child),e;case 16:A=e.elementType;t:{switch(Ga(t,e),t=e.pendingProps,A=(i=A._init)(A._payload),e.type=A,i=e.tag=function(t){if("function"===typeof t)return Pl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===S)return 11;if(t===Q)return 14}return 2}(A),t=ea(A,t),i){case 0:e=Fa(null,e,A,t,n);break t;case 1:e=Ea(null,e,A,t,n);break t;case 11:e=Ba(null,e,A,t,n);break t;case 14:e=ya(null,e,A,ea(A.type,t),n);break t}throw Error(r(306,A,""))}return e;case 0:return A=e.type,i=e.pendingProps,Fa(t,e,A,i=e.elementType===A?i:ea(A,i),n);case 1:return A=e.type,i=e.pendingProps,Ea(t,e,A,i=e.elementType===A?i:ea(A,i),n);case 3:t:{if(Sa(e),null===t)throw Error(r(387));A=e.pendingProps,i=(s=e.memoizedState).element,Lr(t,e),Gr(e,A,null,n);var a=e.memoizedState;if(A=a.element,s.isDehydrated){if(s={element:A,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=ka(t,e,A,n,i=oa(Error(r(423)),e));break t}if(A!==i){e=ka(t,e,A,n,i=oa(Error(r(424)),e));break t}for(Ar=li(e.stateNode.containerInfo.firstChild),nr=e,ir=!0,rr=null,n=yr(e,null,A,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(dr(),A===i){e=Ka(t,e,n);break t}wa(t,e,A,n)}e=e.child}return e;case 5:return Jr(e),null===t&&lr(e),A=e.type,i=e.pendingProps,s=null!==t?t.memoizedProps:null,a=i.children,ni(A,i)?a=null:null!==s&&ni(A,s)&&(e.flags|=32),_a(t,e),wa(t,e,a,n),e.child;case 6:return null===t&&lr(e),null;case 13:return Da(t,e,n);case 4:return qr(e,e.stateNode.containerInfo),A=e.pendingProps,null===t?e.child=Br(e,null,A,n):wa(t,e,A,n),e.child;case 11:return A=e.type,i=e.pendingProps,Ba(t,e,A,i=e.elementType===A?i:ea(A,i),n);case 7:return wa(t,e,e.pendingProps,n),e.child;case 8:case 12:return wa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(A=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ei(br,A._currentValue),A._currentValue=a,null!==s)if(aA(s.value,a)){if(s.children===i.children&&!ki.current){e=Ka(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var o=s.dependencies;if(null!==o){a=s.child;for(var l=o.firstContext;null!==l;){if(l.context===A){if(1===s.tag){(l=Rr(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Sr(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===e.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(r(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Sr(a,n,e),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,A=e.pendingProps.children,kr(e,n),A=A(i=Ur(i)),e.flags|=1,wa(t,e,A,n),e.child;case 14:return i=ea(A=e.type,e.pendingProps),ya(t,e,A,i=ea(A.type,i),n);case 15:return ba(t,e,e.type,e.pendingProps,n);case 17:return A=e.type,i=e.pendingProps,i=e.elementType===A?i:ea(A,i),Ga(t,e),e.tag=1,Pi(A)?(t=!0,Di(e)):t=!1,kr(e,n),ra(e,A,i),aa(e,A,i,n),xa(null,e,A,!0,t,n);case 19:return Na(t,e,n);case 22:return Ca(t,e,n)}throw Error(r(156,e.tag))};var zl="function"===typeof reportError?reportError:function(t){console.error(t)};function Xl(t){this._internalRoot=t}function ql(t){this._internalRoot=t}function Yl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zl(){}function $l(t,e,n,A,i){var r=n._reactRootContainer;if(r){var s=r;if("function"===typeof i){var a=i;i=function(){var t=Wl(s);a.call(t)}}Kl(e,s,t,i)}else s=function(t,e,n,A,i){if(i){if("function"===typeof A){var r=A;A=function(){var t=Wl(s);r.call(t)}}var s=Gl(e,A,t,0,null,!1,0,"",Zl);return t._reactRootContainer=s,t[pi]=s.current,GA(8===t.nodeType?t.parentNode:t),cl(),s}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof A){var a=A;A=function(){var t=Wl(o);a.call(t)}}var o=Hl(t,0,!1,null,0,!1,0,"",Zl);return t._reactRootContainer=o,t[pi]=o.current,GA(8===t.nodeType?t.parentNode:t),cl(function(){Kl(e,o,n,A)}),o}(n,e,t,i,A);return Wl(s)}ql.prototype.render=Xl.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(r(409));Kl(t,e,null,null)},ql.prototype.unmount=Xl.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cl(function(){Kl(null,t,null,null)}),e[pi]=null}},ql.prototype.unstable_scheduleHydration=function(t){if(t){var e=_e();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Me.length&&0!==e&&e<Me[n].priority;n++);Me.splice(n,0,t),0===n&&Le(t)}},ye=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),Al(e,Jt()),0===(6&So)&&(Go=Jt()+500,Gi()))}break;case 13:cl(function(){var e=Ir(t,1);if(null!==e){var n=tl();nl(e,t,1,n)}}),Vl(t,1)}},be=function(t){if(13===t.tag){var e=Ir(t,134217728);if(null!==e)nl(e,t,134217728,tl());Vl(t,134217728)}},Ce=function(t){if(13===t.tag){var e=el(t),n=Ir(t,e);if(null!==n)nl(n,t,e,tl());Vl(t,e)}},_e=function(){return we},Fe=function(t,e){var n=we;try{return we=t,e()}finally{we=n}},bt=function(t,e,n){switch(e){case"input":if(Z(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var A=n[e];if(A!==t&&A.form===t.form){var i=yi(A);if(!i)throw Error(r(90));z(A),Z(A,i)}}}break;case"textarea":rt(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},St=ll,kt=cl;var tc={usingClientEntryPoint:!1,Events:[wi,Bi,yi,Et,xt,ll]},ec={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=jt(t))?null:t.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{ie=Ac.inject(nc),re=Ac}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(e))throw Error(r(200));return function(t,e,n){var A=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==A?null:""+A,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Yl(t))throw Error(r(299));var n=!1,A="",i=zl;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(A=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Hl(t,1,!1,null,0,n,0,A,i),t[pi]=e.current,GA(8===t.nodeType?t.parentNode:t),new Xl(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(r(188));throw t=Object.keys(t).join(","),Error(r(268,t))}return t=null===(t=jt(e))?null:t.stateNode},e.flushSync=function(t){return cl(t)},e.hydrate=function(t,e,n){if(!Jl(e))throw Error(r(200));return $l(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Yl(t))throw Error(r(405));var A=null!=n&&n.hydratedSources||null,i=!1,s="",a=zl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Gl(e,null,t,1,null!=n?n:null,i,0,s,a),t[pi]=e.current,GA(t),A)for(t=0;t<A.length;t++)i=(i=(n=A[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ql(e)},e.render=function(t,e,n){if(!Jl(e))throw Error(r(200));return $l(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jl(t))throw Error(r(40));return!!t._reactRootContainer&&(cl(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0)},e.unstable_batchedUpdates=ll,e.unstable_renderSubtreeIntoContainer=function(t,e,n,A){if(!Jl(n))throw Error(r(200));if(null==t||void 0===t._reactInternals)throw Error(r(38));return $l(t,e,n,!1,A)},e.version="18.3.1-next-f1338f8080-20240426"},736:(t,e,n)=>{var A=n(738).default,i=n(45);t.exports=function(t){var e=i(t,"string");return"symbol"==A(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},738:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},756:t=>{t.exports=function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")},t.exports.__esModule=!0,t.exports.default=t.exports},790:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var A=n(195);function i(t,e){(0,A.A)(t,e),e.add(t)}},816:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var A=n(284);function i(t){var e=function(t,e){if("object"!=(0,A.A)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=(0,A.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==(0,A.A)(e)?e:e+""}},851:()=>{},853:(t,e,n)=>{"use strict";t.exports=n(234)},897:(t,e,n)=>{var A=n(693);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(t);e&&(A=A.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,A)}return n}t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t},t.exports.__esModule=!0,t.exports.default=t.exports},933:()=>{},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},960:(t,e,n)=>{"use strict";function A(t,e,n){e||(e=[]);var A=e.length++;return Object.defineProperty({},"_",{set:function(i){e[A]=i,t.apply(n,e)}})}n.d(e,{A:()=>A})}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;__webpack_require__.t=function(n,A){if(1&A&&(n=this(n)),8&A)return n;if("object"===typeof n&&n){if(4&A&&n.__esModule)return n;if(16&A&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var r={};t=t||[null,e({}),e([]),e(e)];for(var s=2&A&&n;("object"==typeof s||"function"==typeof s)&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach(t=>r[t]=()=>n[t]);return r.default=()=>n,__webpack_require__.d(i,r),i}})(),__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.f={},__webpack_require__.e=t=>Promise.all(Object.keys(__webpack_require__.f).reduce((e,n)=>(__webpack_require__.f[n](t,e),e),[])),__webpack_require__.u=t=>"static/js/"+t+".d4bffb95.chunk.js",__webpack_require__.miniCssF=t=>{},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="frontend:";__webpack_require__.l=(n,A,i,r)=>{if(t[n])t[n].push(A);else{var s,a;if(void 0!==i)for(var o=document.getElementsByTagName("script"),l=0;l<o.length;l++){var c=o[l];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==e+i){s=c;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",e+i),s.src=n),t[n]=[A];var h=(e,A)=>{s.onerror=s.onload=null,clearTimeout(u);var i=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(t=>t(A)),e)return e(A)},u=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),a&&document.head.appendChild(s)}}})(),__webpack_require__.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.p="/",(()=>{var t={792:0};__webpack_require__.f.j=(e,n)=>{var A=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==A)if(A)n.push(A[2]);else{var i=new Promise((n,i)=>A=t[e]=[n,i]);n.push(A[2]=i);var r=__webpack_require__.p+__webpack_require__.u(e),s=new Error;__webpack_require__.l(r,n=>{if(__webpack_require__.o(t,e)&&(0!==(A=t[e])&&(t[e]=void 0),A)){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,A[1](s)}},"chunk-"+e,e)}};var e=(e,n)=>{var A,i,r=n[0],s=n[1],a=n[2],o=0;if(r.some(e=>0!==t[e])){for(A in s)__webpack_require__.o(s,A)&&(__webpack_require__.m[A]=s[A]);if(a)a(__webpack_require__)}for(e&&e(n);o<r.length;o++)i=r[o],__webpack_require__.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=self.webpackChunkfrontend=self.webpackChunkfrontend||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var t,e=__webpack_require__(43),n=__webpack_require__.t(e,2),A=__webpack_require__(391),i=__webpack_require__(950),r=__webpack_require__.t(i,2);function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(t[A]=n[A])}return t},s.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));const a="popstate";function o(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function l(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function c(t,e){return{usr:t.state,key:t.key,idx:e}}function h(t,e,n,A){return void 0===n&&(n=null),s({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?d(e):e,{state:n,key:e&&e.key||A||Math.random().toString(36).substr(2,8)})}function u(t){let{pathname:e="/",search:n="",hash:A=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),A&&"#"!==A&&(e+="#"===A.charAt(0)?A:"#"+A),e}function d(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let A=t.indexOf("?");A>=0&&(e.search=t.substr(A),t=t.substr(0,A)),t&&(e.pathname=t)}return e}function p(e,n,A,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:l=!1}=i,d=r.history,p=t.Pop,g=null,f=m();function m(){return(d.state||{idx:null}).idx}function v(){p=t.Pop;let e=m(),n=null==e?null:e-f;f=e,g&&g({action:p,location:B.location,delta:n})}function w(t){let e="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof t?t:u(t);return n=n.replace(/ $/,"%20"),o(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==f&&(f=0,d.replaceState(s({},d.state,{idx:f}),""));let B={get action(){return p},get location(){return e(r,d)},listen(t){if(g)throw new Error("A history only accepts one active listener");return r.addEventListener(a,v),g=t,()=>{r.removeEventListener(a,v),g=null}},createHref:t=>n(r,t),createURL:w,encodeLocation(t){let e=w(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(e,n){p=t.Push;let i=h(B.location,e,n);A&&A(i,e),f=m()+1;let s=c(i,f),a=B.createHref(i);try{d.pushState(s,"",a)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;r.location.assign(a)}l&&g&&g({action:p,location:B.location,delta:1})},replace:function(e,n){p=t.Replace;let i=h(B.location,e,n);A&&A(i,e),f=m();let r=c(i,f),s=B.createHref(i);d.replaceState(r,"",s),l&&g&&g({action:p,location:B.location,delta:0})},go:t=>d.go(t)};return B}var g;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function f(t,e,n){return void 0===n&&(n="/"),m(t,e,n,!1)}function m(t,e,n,A){let i=Q(("string"===typeof e?d(e):e).pathname||"/",n);if(null==i)return null;let r=v(t);!function(t){t.sort((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every((t,n)=>t===e[n]);return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map(t=>t.childrenIndex),e.routesMeta.map(t=>t.childrenIndex)))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a){let t=U(i);s=S(r[a],t,A)}return s}function v(t,e,n,A){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===A&&(A="");let i=(t,i,r)=>{let s={relativePath:void 0===r?t.path||"":r,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(A),'Absolute route path "'+s.relativePath+'" nested under path "'+A+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(A.length));let a=D([A,s.relativePath]),l=n.concat(s);t.children&&t.children.length>0&&(o(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),v(t.children,e,l,a)),(null!=t.path||t.index)&&e.push({path:a,score:x(a,t.index),routesMeta:l})};return t.forEach((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let A of w(t.path))i(t,e,A);else i(t,e)}),e}function w(t){let e=t.split("/");if(0===e.length)return[];let[n,...A]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===A.length)return i?[r,""]:[r];let s=w(A.join("/")),a=[];return a.push(...s.map(t=>""===t?r:[r,t].join("/"))),i&&a.push(...s),a.map(e=>t.startsWith("/")&&""===e?"/":e)}const B=/^:[\w-]+$/,y=3,b=2,C=1,_=10,F=-2,E=t=>"*"===t;function x(t,e){let n=t.split("/"),A=n.length;return n.some(E)&&(A+=F),e&&(A+=b),n.filter(t=>!E(t)).reduce((t,e)=>t+(B.test(e)?y:""===e?C:_),A)}function S(t,e,n){void 0===n&&(n=!1);let{routesMeta:A}=t,i={},r="/",s=[];for(let a=0;a<A.length;++a){let t=A[a],o=a===A.length-1,l="/"===r?e:e.slice(r.length)||"/",c=k({path:t.relativePath,caseSensitive:t.caseSensitive,end:o},l),h=t.route;if(!c&&o&&n&&!A[A.length-1].route.index&&(c=k({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},l)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:D([r,c.pathname]),pathnameBase:L(D([r,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(r=D([r,c.pathnameBase]))}return s}function k(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,A]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);l("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let A=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(t,e,n)=>(A.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));t.endsWith("*")?(A.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let r=new RegExp(i,e?void 0:"i");return[r,A]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],s=r.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:A.reduce((t,e,n)=>{let{paramName:A,isOptional:i}=e;if("*"===A){let t=a[n]||"";s=r.slice(0,r.length-t.length).replace(/(.)\/+$/,"$1")}const o=a[n];return t[A]=i&&!o?void 0:(o||"").replace(/%2F/g,"/"),t},{}),pathname:r,pathnameBase:s,pattern:t}}function U(t){try{return t.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(e){return l(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function Q(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,A=t.charAt(n);return A&&"/"!==A?null:t.slice(n)||"/"}function P(t,e,n,A){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(A)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(t){return t.filter((t,e)=>0===e||t.route.path&&t.route.path.length>0)}function I(t,e){let n=M(t);return e?n.map((t,e)=>e===n.length-1?t.pathname:t.pathnameBase):n.map(t=>t.pathnameBase)}function T(t,e,n,A){let i;void 0===A&&(A=!1),"string"===typeof t?i=d(t):(i=s({},t),o(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),o(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),o(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let r,a=""===t||""===i.pathname,l=a?"/":i.pathname;if(null==l)r=n;else{let t=e.length-1;if(!A&&l.startsWith("..")){let e=l.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}r=t>=0?e[t]:"/"}let c=function(t,e){void 0===e&&(e="/");let{pathname:n,search:A="",hash:i=""}="string"===typeof t?d(t):t,r=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)}),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:r,search:R(A),hash:O(i)}}(i,r),h=l&&"/"!==l&&l.endsWith("/"),u=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!u||(c.pathname+="/"),c}const D=t=>t.join("/").replace(/\/\/+/g,"/"),L=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),R=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",O=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function H(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const N=["post","put","patch","delete"],G=(new Set(N),["get",...N]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(t[A]=n[A])}return t},K.apply(this,arguments)}const W=e.createContext(null);const j=e.createContext(null);const V=e.createContext(null);const z=e.createContext(null);const X=e.createContext({outlet:null,matches:[],isDataRoute:!1});const q=e.createContext(null);function Y(){return null!=e.useContext(z)}function J(){return Y()||o(!1),e.useContext(z).location}function Z(t){e.useContext(V).static||e.useLayoutEffect(t)}function $(){let{isDataRoute:t}=e.useContext(X);return t?function(){let{router:t}=lt(at.UseNavigateStable),n=ht(ot.UseNavigateStable),A=e.useRef(!1);return Z(()=>{A.current=!0}),e.useCallback(function(e,i){void 0===i&&(i={}),A.current&&("number"===typeof e?t.navigate(e):t.navigate(e,K({fromRouteId:n},i)))},[t,n])}():function(){Y()||o(!1);let t=e.useContext(W),{basename:n,future:A,navigator:i}=e.useContext(V),{matches:r}=e.useContext(X),{pathname:s}=J(),a=JSON.stringify(I(r,A.v7_relativeSplatPath)),l=e.useRef(!1);return Z(()=>{l.current=!0}),e.useCallback(function(e,A){if(void 0===A&&(A={}),!l.current)return;if("number"===typeof e)return void i.go(e);let r=T(e,JSON.parse(a),s,"path"===A.relative);null==t&&"/"!==n&&(r.pathname="/"===r.pathname?n:D([n,r.pathname])),(A.replace?i.replace:i.push)(r,A.state,A)},[n,i,a,s,t])}()}function tt(t,n){let{relative:A}=void 0===n?{}:n,{future:i}=e.useContext(V),{matches:r}=e.useContext(X),{pathname:s}=J(),a=JSON.stringify(I(r,i.v7_relativeSplatPath));return e.useMemo(()=>T(t,JSON.parse(a),s,"path"===A),[t,a,s,A])}function et(n,A,i,r){Y()||o(!1);let{navigator:s}=e.useContext(V),{matches:a}=e.useContext(X),l=a[a.length-1],c=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,p=J();if(A){var g;let t="string"===typeof A?d(A):A;"/"===h||(null==(g=t.pathname)?void 0:g.startsWith(h))||o(!1),u=t}else u=p;let m=u.pathname||"/",v=m;if("/"!==h){let t=h.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(t.length).join("/")}let w=f(n,{pathname:v});let B=st(w&&w.map(t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:D([h,s.encodeLocation?s.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:D([h,s.encodeLocation?s.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])})),a,i,r);return A&&B?e.createElement(z.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:t.Pop}},B):B}function nt(){let t=function(){var t;let n=e.useContext(q),A=ct(ot.UseRouteError),i=ht(ot.UseRouteError);if(void 0!==n)return n;return null==(t=A.errors)?void 0:t[i]}(),n=H(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),A=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),A?e.createElement("pre",{style:r},A):null,null)}const At=e.createElement(nt,null);class it extends e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?e.createElement(X.Provider,{value:this.props.routeContext},e.createElement(q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rt(t){let{routeContext:n,match:A,children:i}=t,r=e.useContext(W);return r&&r.static&&r.staticContext&&(A.route.errorElement||A.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=A.route.id),e.createElement(X.Provider,{value:n},i)}function st(t,n,A,i){var r;if(void 0===n&&(n=[]),void 0===A&&(A=null),void 0===i&&(i=null),null==t){var s;if(!A)return null;if(A.errors)t=A.matches;else{if(!(null!=(s=i)&&s.v7_partialHydration&&0===n.length&&!A.initialized&&A.matches.length>0))return null;t=A.matches}}let a=t,l=null==(r=A)?void 0:r.errors;if(null!=l){let t=a.findIndex(t=>t.route.id&&void 0!==(null==l?void 0:l[t.route.id]));t>=0||o(!1),a=a.slice(0,Math.min(a.length,t+1))}let c=!1,h=-1;if(A&&i&&i.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=e),t.route.id){let{loaderData:e,errors:n}=A,i=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){c=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight((t,i,r)=>{let s,o=!1,u=null,d=null;var p;A&&(s=l&&i.route.id?l[i.route.id]:void 0,u=i.route.errorElement||At,c&&(h<0&&0===r?(p="route-fallback",!1||ut[p]||(ut[p]=!0),o=!0,d=null):h===r&&(o=!0,d=i.route.hydrateFallbackElement||null)));let g=n.concat(a.slice(0,r+1)),f=()=>{let n;return n=s?u:o?d:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(rt,{match:i,routeContext:{outlet:t,matches:g,isDataRoute:null!=A},children:n})};return A&&(i.route.ErrorBoundary||i.route.errorElement||0===r)?e.createElement(it,{location:A.location,revalidation:A.revalidation,component:u,error:s,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var at=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(at||{}),ot=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ot||{});function lt(t){let n=e.useContext(W);return n||o(!1),n}function ct(t){let n=e.useContext(j);return n||o(!1),n}function ht(t){let n=function(){let t=e.useContext(X);return t||o(!1),t}(),A=n.matches[n.matches.length-1];return A.route.id||o(!1),A.route.id}const ut={};function dt(t,e){null==t||t.v7_startTransition,void 0===(null==t?void 0:t.v7_relativeSplatPath)&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}n.startTransition;function pt(t){o(!1)}function gt(n){let{basename:A="/",children:i=null,location:r,navigationType:s=t.Pop,navigator:a,static:l=!1,future:c}=n;Y()&&o(!1);let h=A.replace(/^\/*/,"/"),u=e.useMemo(()=>({basename:h,navigator:a,static:l,future:K({v7_relativeSplatPath:!1},c)}),[h,c,a,l]);"string"===typeof r&&(r=d(r));let{pathname:p="/",search:g="",hash:f="",state:m=null,key:v="default"}=r,w=e.useMemo(()=>{let t=Q(p,h);return null==t?null:{location:{pathname:t,search:g,hash:f,state:m,key:v},navigationType:s}},[h,p,g,f,m,v,s]);return null==w?null:e.createElement(V.Provider,{value:u},e.createElement(z.Provider,{children:i,value:w}))}function ft(t){let{children:e,location:n}=t;return et(mt(e),n)}new Promise(()=>{});e.Component;function mt(t,n){void 0===n&&(n=[]);let A=[];return e.Children.forEach(t,(t,i)=>{if(!e.isValidElement(t))return;let r=[...n,i];if(t.type===e.Fragment)return void A.push.apply(A,mt(t.props.children,r));t.type!==pt&&o(!1),t.props.index&&t.props.children&&o(!1);let s={id:t.props.id||r.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=mt(t.props.children,r)),A.push(s)}),A}function vt(){return vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(t[A]=n[A])}return t},vt.apply(this,arguments)}function wt(t,e){if(null==t)return{};var n,A,i={},r=Object.keys(t);for(A=0;A<r.length;A++)n=r[A],e.indexOf(n)>=0||(i[n]=t[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Bt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ty){}new Map;const yt=n.startTransition;r.flushSync,n.useId;function bt(t){let{basename:n,children:A,future:i,window:r}=t,s=e.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:r,v5Compat:!0})&&(a={}),p(function(t,e){let{pathname:n,search:A,hash:i}=t.location;return h("",{pathname:n,search:A,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")},function(t,e){return"string"===typeof e?e:u(e)},null,a)));let o=s.current,[l,c]=e.useState({action:o.action,location:o.location}),{v7_startTransition:d}=i||{},g=e.useCallback(t=>{d&&yt?yt(()=>c(t)):c(t)},[c,d]);return e.useLayoutEffect(()=>o.listen(g),[o,g]),e.useEffect(()=>dt(i),[i]),e.createElement(gt,{basename:n,children:A,location:l.location,navigationType:l.action,navigator:o,future:i})}const Ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_t=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=e.forwardRef(function(t,n){let A,{onClick:i,relative:r,reloadDocument:s,replace:a,state:l,target:c,to:h,preventScrollReset:d,viewTransition:p}=t,g=wt(t,Bt),{basename:f}=e.useContext(V),m=!1;if("string"===typeof h&&_t.test(h)&&(A=h,Ct))try{let t=new URL(window.location.href),e=h.startsWith("//")?new URL(t.protocol+h):new URL(h),n=Q(e.pathname,f);e.origin===t.origin&&null!=n?h=n+e.search+e.hash:m=!0}catch(ty){}let v=function(t,n){let{relative:A}=void 0===n?{}:n;Y()||o(!1);let{basename:i,navigator:r}=e.useContext(V),{hash:s,pathname:a,search:l}=tt(t,{relative:A}),c=a;return"/"!==i&&(c="/"===a?i:D([i,a])),r.createHref({pathname:c,search:l,hash:s})}(h,{relative:r}),w=function(t,n){let{target:A,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:o}=void 0===n?{}:n,l=$(),c=J(),h=tt(t,{relative:a});return e.useCallback(e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,A)){e.preventDefault();let n=void 0!==i?i:u(c)===u(h);l(t,{replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,h,i,r,A,t,s,a,o])}(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:p});return e.createElement("a",vt({},g,{href:A||v,onClick:m||s?i:function(t){i&&i(t),t.defaultPrevented||w(t)},ref:n,target:c}))});var Et,xt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Et||(Et={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(xt||(xt={}));var St=__webpack_require__(579);const kt=function(){const[t,n]=(0,e.useState)([]),[A,i]=(0,e.useState)(null),[r,s]=(0,e.useState)(""),[a,o]=(0,e.useState)([]),l=(0,e.useRef)(null),c=async()=>{try{const t=await fetch("/api/projects"),e=await t.json();n(e),e.length>0&&!A&&i(e[0])}catch(t){console.error("Error fetching projects:",t)}},h=async()=>{r.trim()&&A&&s("")};return(0,e.useEffect)(()=>{c()},[]),(0,e.useEffect)(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[a]),(0,St.jsxs)(St.Fragment,{children:[(0,St.jsxs)("aside",{className:"project-history-panel chatgpt-history-card full-height-panel",children:[(0,St.jsx)("header",{className:"project-header",children:(0,St.jsxs)("button",{id:"newProjectBtn",className:"new-project-btn primary-btn-3d",onClick:async()=>{prompt("Enter new project name:")&&c()},children:[(0,St.jsx)("i",{className:"icon-plus-3d"})," New Project"]})}),(0,St.jsx)("div",{className:"project-list-scroll full-height-scroll",id:"clientFolders",children:t.map(t=>(0,St.jsx)("div",{className:"project-item ".concat(A&&A.id===t.id?"active":""),onClick:()=>i(t),children:t.name},t.id))})]}),(0,St.jsx)("div",{className:"single-workspace-tile chatgpt-main-box full-height-panel",children:(0,St.jsxs)("div",{className:"ai-chat-tile large-chat-container",children:[(0,St.jsxs)("div",{ref:l,id:"chatMessages",className:"chat-messages whatsapp-style-3d-box dynamic-message-area",children:[0===a.length&&(0,St.jsx)("div",{className:"msg ai initial-greeting",children:"Ready when you are. Select a project to start."}),a.map((t,e)=>(0,St.jsx)("div",{className:"msg ".concat(t.role),children:t.content},e))]}),(0,St.jsxs)("div",{className:"chat-input-area centered-input-bar fixed-input-height",children:[(0,St.jsx)("input",{type:"file",id:"fileUpload",multiple:!0,style:{display:"none"}}),(0,St.jsx)("button",{className:"upload-icon-btn",title:"Upload Files (Plans/Images)",children:(0,St.jsx)("i",{className:"fas fa-paperclip"})}),(0,St.jsx)("input",{type:"text",id:"chatInput",placeholder:A?"Ask your AI interior designer something...":"Select or create a project first...",value:r,onChange:t=>s(t.target.value),onKeyDown:t=>"Enter"===t.key&&h(),disabled:!A}),(0,St.jsx)("button",{id:"sendMsg",className:"send-btn",onClick:h,disabled:!r.trim()||!A,children:"Send"})]})]})})]})};const Ut=function(){const[t,n]=(0,e.useState)(null),A=(0,e.useRef)(null),i=$(),r=t?"fas fa-check-circle":"fas fa-file-upload",s=t?"Selected: ".concat(t.name):"Add PDF File";return(0,St.jsx)("div",{className:"single-workspace-tile chatgpt-main-box full-height-panel discussion-mode",children:(0,St.jsx)("div",{id:"annotationMain",className:"annotation-container large-chat-container",children:(0,St.jsxs)("div",{id:"importView",className:"view-content active",style:{textAlign:"center"},children:[(0,St.jsx)("h2",{className:"import-title",children:"Import Designs"}),(0,St.jsx)("input",{type:"file",id:"pdfUpload",accept:"application/pdf,image/*",style:{display:"none"},ref:A,onChange:t=>{const e=t.target.files[0];n(e)}}),(0,St.jsx)("div",{className:"add-file-box-3d",children:(0,St.jsxs)("button",{id:"addPdfFileBtn",className:"add-file-icon-btn primary-btn-3d",onClick:()=>{A.current.click()},children:[(0,St.jsx)("i",{className:r,style:{fontSize:"3rem"}}),(0,St.jsx)("span",{children:s})]})}),(0,St.jsxs)("button",{id:"openEditorBtn",className:"primary-btn-3d edit-btn-3d",onClick:async()=>{if(!t)return;const e=new FormData,n="default_project_1";e.append("file",t);try{const A=await fetch("/api/projects/".concat(n,"/upload"),{method:"POST",body:e}),r=await A.json();console.log("Upload response:",r),A.ok&&r.success?i("/annotation_editor",{state:{filePath:r.path,fileName:t.name,projectId:n}}):alert("Upload failed: ".concat(r.error||"Server error"))}catch(A){console.error("Upload failed:",A),alert("A network error occurred during upload.")}},disabled:!t,children:[(0,St.jsx)("i",{className:"fas fa-magic"})," Send & Open 3D Editor"]})]})})})};var Qt,Pt,Mt,It,Tt,Dt,Lt,Rt,Ot,Ht,Nt,Gt,Kt,Wt,jt,Vt,zt,Xt,qt=__webpack_require__(960),Yt=__webpack_require__(379),Jt=__webpack_require__(790),Zt=__webpack_require__(149),$t=__webpack_require__(205),te=__webpack_require__(458),ee=__webpack_require__(558),ne=__webpack_require__(467),Ae=__webpack_require__(562),ie=__webpack_require__(495);const re="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),se=[.001,0,0,.001,0,0],ae=1.35,oe=1,le=2,ce=4,he=16,ue=32,de=64,pe=128,ge=256,fe={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},me="pdfjs_internal_editor_",ve={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},we={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Be=0,ye=1,be=2,Ce=3,_e=3,Fe=4,Ee={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},xe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Se=1,ke=2,Ue=3,Qe=4,Pe=5,Me={ERRORS:0,WARNINGS:1,INFOS:5},Ie={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Te=0,De=1,Le=2,Re=3;let Oe=Me.WARNINGS;function He(t){Number.isInteger(t)&&(Oe=t)}function Ne(){return Oe}function Ge(t){Oe>=Me.INFOS&&console.info("Info: ".concat(t))}function Ke(t){Oe>=Me.WARNINGS&&console.warn("Warning: ".concat(t))}function We(t){throw new Error(t)}function je(t,e){t||We(e)}function Ve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);(null===e||void 0===e?void 0:e.length)>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch(i){}}const A=e?URL.parse(t,e):URL.parse(t);return function(t){switch(null===t||void 0===t?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(A)?A:null}function ze(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const A=URL.parse(t);return A?(A.hash=e,A.href):n&&Ve(t,"http://example.com")?t.split("#",1)[0]+"".concat(e?"#".concat(e):""):""}function Xe(t,e,n){let A=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:n,enumerable:!A,configurable:!0,writable:!1}),n}const qe=function(){function t(t,e){this.message=t,this.name=e}return t.prototype=new Error,t.constructor=t,t}();class Ye extends qe{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Je extends qe{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Ze extends qe{constructor(t){super(t,"InvalidPDFException")}}class $e extends qe{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class tn extends qe{constructor(t){super(t,"FormatError")}}class en extends qe{constructor(t){super(t,"AbortException")}}function nn(t){"object"===typeof t&&void 0!==(null===t||void 0===t?void 0:t.length)||We("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const A=[];for(let i=0;i<e;i+=n){const r=Math.min(i+n,e),s=t.subarray(i,r);A.push(String.fromCharCode.apply(null,s))}return A.join("")}function An(t){"string"!==typeof t&&We("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let A=0;A<e;++A)n[A]=255&t.charCodeAt(A);return n}class rn{static get isLittleEndian(){return Xe(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return Xe(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return Xe(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return Xe(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:t,userAgent:e}=navigator;return Xe(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return Xe(this,"isCSSRoundSupported",null===(t=globalThis.CSS)||void 0===t||null===(e=t.supports)||void 0===e?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const sn=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class an{static makeHexColor(t,e,n){return"#".concat(sn[t]).concat(sn[e]).concat(sn[n])}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const A=t[n],i=t[n+1];t[n]=A*e[0]+i*e[2]+e[4],t[n+1]=A*e[1]+i*e[3]+e[5]}static applyTransformToBezier(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const A=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5];for(let l=0;l<6;l+=2){const e=t[n+l],c=t[n+l+1];t[n+l]=e*A+c*r+a,t[n+l+1]=e*i+c*s+o}}static applyInverseTransform(t,e){const n=t[0],A=t[1],i=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-A*e[2]+e[2]*e[5]-e[4]*e[3])/i,t[1]=(-n*e[1]+A*e[0]+e[4]*e[1]-e[5]*e[0])/i}static axialAlignedBoundingBox(t,e,n){const A=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=t[0],c=t[1],h=t[2],u=t[3];let d=A*l+a,p=d,g=A*h+a,f=g,m=s*c+o,v=m,w=s*u+o,B=w;if(0!==i||0!==r){const t=i*l,e=i*h,n=r*c,A=r*u;d+=n,f+=n,g+=A,p+=A,m+=t,B+=t,w+=e,v+=e}n[0]=Math.min(n[0],d,g,p,f),n[1]=Math.min(n[1],m,w,v,B),n[2]=Math.max(n[2],d,g,p,f),n[3]=Math.max(n[3],m,w,v,B)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],A=t[1],i=t[2],r=t[3],s=n**2+A**2,a=n*i+A*r,o=i**2+r**2,l=(s+o)/2,c=Math.sqrt(l**2-(s*o-a**2));e[0]=Math.sqrt(l+c||1),e[1]=Math.sqrt(l-c||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),A=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>A)return null;const i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>r?null:[n,i,A,r]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,A,i){i[0]=Math.min(i[0],t,n),i[1]=Math.min(i[1],e,A),i[2]=Math.max(i[2],t,n),i[3]=Math.max(i[3],e,A)}static bezierBoundingBox(t,e,n,A,i,r,s,a,o){o[0]=Math.min(o[0],t,s),o[1]=Math.min(o[1],e,a),o[2]=Math.max(o[2],t,s),o[3]=Math.max(o[3],e,a),(0,Ae.A)(an,this,ln).call(this,t,n,i,s,e,A,r,a,3*(3*(n-i)-t+s),6*(t-2*n+i),3*(n-t),o),(0,Ae.A)(an,this,ln).call(this,t,n,i,s,e,A,r,a,3*(3*(A-r)-e+a),6*(e-2*A+r),3*(A-e),o)}}function on(t,e,n,A,i,r,s,a,o,l){if(o<=0||o>=1)return;const c=1-o,h=o*o,u=h*o,d=c*(c*(c*t+3*o*e)+3*h*n)+u*A,p=c*(c*(c*i+3*o*r)+3*h*s)+u*a;l[0]=Math.min(l[0],d),l[1]=Math.min(l[1],p),l[2]=Math.max(l[2],d),l[3]=Math.max(l[3],p)}function ln(t,e,n,A,i,r,s,a,o,l,c,h){if(Math.abs(o)<1e-12)return void(Math.abs(l)>=1e-12&&(0,Ae.A)(Qt,this,on).call(this,t,e,n,A,i,r,s,a,-c/l,h));const u=l**2-4*c*o;if(u<0)return;const d=Math.sqrt(u),p=2*o;(0,Ae.A)(Qt,this,on).call(this,t,e,n,A,i,r,s,a,(-l+d)/p,h),(0,Ae.A)(Qt,this,on).call(this,t,e,n,A,i,r,s,a,(-l-d)/p,h)}Qt=an;let cn=null,hn=null;function un(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),nn(t)}const dn="pdfjs_internal_id_";function pn(t,e,n){return Math.min(Math.max(t,e),n)}function gn(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(nn(t))}"function"!==typeof Promise.try&&(Promise.try=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),A=1;A<e;A++)n[A-1]=arguments[A];return new Promise(e=>{e(t(...n))})}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(t){return t.reduce((t,e)=>t+e,0)});class fn{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){var A;if(!n)return;let i=null;const r=n.name;if("#text"===r)i=n.value;else{if(!fn.shouldBuildText(r))return;null!==n&&void 0!==n&&null!==(A=n.attributes)&&void 0!==A&&A.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&e.push({str:i}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}class mn{static setupStorage(t,e,n,A,i){const r=A.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==r.value&&(t.textContent=r.value),"print"===i)break;t.addEventListener("input",t=>{A.setValue(e,{value:t.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(r.value===n.attributes.xfaOn?t.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",t=>{A.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})})}else{if(null!==r.value&&t.setAttribute("value",r.value),"print"===i)break;t.addEventListener("input",t=>{A.setValue(e,{value:t.target.value})})}break;case"select":if(null!==r.value){t.setAttribute("value",r.value);for(const t of n.children)t.attributes.value===r.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",t=>{const n=t.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;A.setValue(e,{value:i})})}}static setAttributes(t){let{html:e,element:n,storage:A=null,intent:i,linkService:r}=t;const{attributes:s}=n,a=e instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(i));for(const[o,l]of Object.entries(s))if(null!==l&&void 0!==l)switch(o){case"class":l.length&&e.setAttribute(o,l.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",l);break;case"style":Object.assign(e.style,l);break;case"textContent":e.textContent=l;break;default:(!a||"href"!==o&&"newWindow"!==o)&&e.setAttribute(o,l)}a&&r.addLinkAttributes(e,s.href,s.newWindow),A&&s.dataId&&this.setupStorage(e,s.dataId,n,A)}static render(t){const e=t.annotationStorage,n=t.linkService,A=t.xfaHtml,i=t.intent||"display",r=document.createElement(A.name);A.attributes&&this.setAttributes({html:r,element:A,intent:i,linkService:n});const s="richText"!==i,a=t.div;if(a.append(r),t.viewport){const e="matrix(".concat(t.viewport.transform.join(","),")");a.style.transform=e}s&&a.setAttribute("class","xfaLayer xfaFont");const o=[];if(0===A.children.length){if(A.value){const t=document.createTextNode(A.value);r.append(t),s&&fn.shouldBuildText(A.name)&&o.push(t)}return{textDivs:o}}const l=[[A,-1,r]];for(;l.length>0;){var c,h;const[t,A,r]=l.at(-1);if(A+1===t.children.length){l.pop();continue}const a=t.children[++l.at(-1)[1]];if(null===a)continue;const{name:u}=a;if("#text"===u){const t=document.createTextNode(a.value);o.push(t),r.append(t);continue}const d=null!==a&&void 0!==a&&null!==(c=a.attributes)&&void 0!==c&&c.xmlns?document.createElementNS(a.attributes.xmlns,u):document.createElement(u);if(r.append(d),a.attributes&&this.setAttributes({html:d,element:a,storage:e,intent:i,linkService:n}),(null===(h=a.children)||void 0===h?void 0:h.length)>0)l.push([a,-1,d]);else if(a.value){const t=document.createTextNode(a.value);s&&fn.shouldBuildText(u)&&o.push(t),d.append(t)}}for(const u of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:o}}static update(t){const e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}const vn="http://www.w3.org/2000/svg";class wn{}async function Bn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(En(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,A)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)A(new Error(i.statusText));else{switch(e){case"arraybuffer":case"blob":case"json":return void n(i.response)}n(i.responseText)}},i.send(null)})}Pt=wn,(0,ne.A)(wn,"CSS",96),(0,ne.A)(wn,"PDF",72),(0,ne.A)(wn,"PDF_TO_CSS_UNITS",Pt.CSS/Pt.PDF);class yn{constructor(t){let{viewBox:e,userUnit:n,scale:A,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}=t;this.viewBox=e,this.userUnit=n,this.scale=A,this.rotation=i,this.offsetX=r,this.offsetY=s,A*=n;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,h,u,d,p,g,f,m;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,h=0,u=0,d=1;break;case 90:c=0,h=1,u=1,d=0;break;case 270:c=0,h=-1,u=-1,d=0;break;case 0:c=1,h=0,u=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(u=-u,d=-d),0===c?(p=Math.abs(l-e[1])*A+r,g=Math.abs(o-e[0])*A+s,f=(e[3]-e[1])*A,m=(e[2]-e[0])*A):(p=Math.abs(o-e[0])*A+r,g=Math.abs(l-e[1])*A+s,f=(e[2]-e[0])*A,m=(e[3]-e[1])*A),this.transform=[c*A,h*A,u*A,d*A,p-c*A*o-u*A*l,g-h*A*o-d*A*l],this.width=f,this.height=m}get rawDims(){const t=this.viewBox;return Xe(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:A=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new yn({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:A,dontFlip:i})}convertToViewportPoint(t,e){const n=[t,e];return an.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];an.applyTransform(e,this.transform);const n=[t[2],t[3]];return an.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return an.applyInverseTransform(n,this.transform),n}}class bn extends qe{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t,"RenderingCancelledException"),this.extraDelay=e}}function Cn(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function _n(t){return"string"===typeof t&&/\.pdf$/i.test(t)}class Fn{constructor(){(0,ne.A)(this,"started",Object.create(null)),(0,ne.A)(this,"times",[])}time(t){t in this.started&&Ke("Timer is already running for ".concat(t)),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ke("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:A,end:i}of this.times)t.push("".concat(n.padEnd(e)," ").concat(i-A,"ms\n"));return t.join("")}}function En(t,e){const n=e?URL.parse(t,e):URL.parse(t);return"http:"===(null===n||void 0===n?void 0:n.protocol)||"https:"===(null===n||void 0===n?void 0:n.protocol)}function xn(t){t.preventDefault()}function Sn(t){t.preventDefault(),t.stopPropagation()}class kn{static toDateObject(t){if(t instanceof Date)return t;if(!t||"string"!==typeof t)return null;(0,Ae.A)(kn,this,Un)._||(Un._=(0,Ae.A)(kn,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const e=(0,Ae.A)(kn,this,Un)._.exec(t);if(!e)return null;const n=parseInt(e[1],10);let A=parseInt(e[2],10);A=A>=1&&A<=12?A-1:0;let i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;let a=parseInt(e[6],10);a=a>=0&&a<=59?a:0;const o=e[7]||"Z";let l=parseInt(e[8],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[9],10)||0;return c=c>=0&&c<=59?c:0,"-"===o?(r+=l,s+=c):"+"===o&&(r-=l,s-=c),new Date(Date.UTC(n,A,i,r,s,a))}}var Un={_:void 0};function Qn(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(t=>parseInt(t)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ke('Not a valid color format: "'.concat(t,'"')),[0,0,0])}function Pn(t){const{a:e,b:n,c:A,d:i,e:r,f:s}=t.getTransform();return[e,n,A,i,r,s]}function Mn(t){const{a:e,b:n,c:A,d:i,e:r,f:s}=t.getTransform().invertSelf();return[e,n,A,i,r,s]}function In(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof yn){const{pageWidth:A,pageHeight:i}=e.rawDims,{style:r}=t,s=rn.isCSSRoundSupported,a="var(--total-scale-factor) * ".concat(A,"px"),o="var(--total-scale-factor) * ".concat(i,"px"),l=s?"round(down, ".concat(a,", var(--scale-round-x))"):"calc(".concat(a,")"),c=s?"round(down, ".concat(o,", var(--scale-round-y))"):"calc(".concat(o,")");n&&e.rotation%180!==0?(r.width=c,r.height=l):(r.width=l,r.height=c)}A&&t.setAttribute("data-main-rotation",e.rotation)}class Tn{constructor(){const{pixelRatio:t}=Tn;this.sx=t,this.sy=t}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,A){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,r=1/0,s=1/0,a=1/0;(n=Tn.capPixels(n,i))>0&&(r=Math.sqrt(n/(t*e))),-1!==A&&(s=A/t,a=A/e);const o=Math.min(r,s,a);return(this.sx>o||this.sy>o)&&(this.sx=o,this.sy=o,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Dn=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Ln{static get isDarkMode(){var t,e;return Xe(this,"isDarkMode",!(null===(t=window)||void 0===t||null===(e=t.matchMedia)||void 0===e||!e.call(t,"(prefers-color-scheme: dark)").matches))}}function Rn(t,e){const n=t[0]/255,A=t[1]/255,i=t[2]/255,r=Math.max(n,A,i),s=Math.min(n,A,i),a=(r+s)/2;if(r===s)e[0]=e[1]=0;else{const t=r-s;switch(e[1]=a<.5?t/(r+s):t/(2-r-s),r){case n:e[0]=60*((A-i)/t+(A<i?6:0));break;case A:e[0]=60*((i-n)/t+2);break;case i:e[0]=60*((n-A)/t+4)}}e[2]=a}function On(t,e){const n=t[0],A=t[1],i=t[2],r=(1-Math.abs(2*i-1))*A,s=r*(1-Math.abs(n/60%2-1)),a=i-r/2;switch(Math.floor(n/60)){case 0:e[0]=r+a,e[1]=s+a,e[2]=a;break;case 1:e[0]=s+a,e[1]=r+a,e[2]=a;break;case 2:e[0]=a,e[1]=r+a,e[2]=s+a;break;case 3:e[0]=a,e[1]=s+a,e[2]=r+a;break;case 4:e[0]=s+a,e[1]=a,e[2]=r+a;break;case 5:case 6:e[0]=r+a,e[1]=a,e[2]=s+a}}function Hn(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function Nn(t,e,n){On(t,n),n.map(Hn);const A=.2126*n[0]+.7152*n[1]+.0722*n[2];On(e,n),n.map(Hn);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return A>i?(A+.05)/(i+.05):(i+.05)/(A+.05)}const Gn=new Map;function Kn(t,e){let{html:n,dir:A,className:i}=t;const r=document.createDocumentFragment();if("string"===typeof n){const t=document.createElement("p");t.dir=A||"auto";const e=n.split(/(?:\r\n?|\n)/);for(let n=0,A=e.length;n<A;++n){const i=e[n];t.append(document.createTextNode(i)),n<A-1&&t.append(document.createElement("br"))}r.append(t)}else mn.render({xfaHtml:n,div:r,intent:"richText"});r.firstChild.classList.add("richText",i),e.append(r)}var Wn=new WeakMap,jn=new WeakMap,Vn=new WeakMap,zn=new WeakMap,Xn=new WeakMap,qn=new WeakMap,Yn=new WeakMap,Jn=new WeakMap,Zn=new WeakSet;class $n{constructor(t){(0,Jt.A)(this,Zn),(0,Zt.A)(this,Wn,null),(0,Zt.A)(this,jn,null),(0,Zt.A)(this,Vn,void 0),(0,Zt.A)(this,zn,null),(0,Zt.A)(this,Xn,null),(0,Zt.A)(this,qn,null),(0,Zt.A)(this,Yn,null),(0,Zt.A)(this,Jn,null),(0,ee.A)(Vn,this,t),rA._||(rA._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=(0,ee.A)(Wn,this,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=(0,te.A)(Vn,this)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",xn,{signal:e}),t.addEventListener("pointerdown",tA,{signal:e}));const n=(0,ee.A)(zn,this,document.createElement("div"));n.className="buttons",t.append(n);const A=(0,te.A)(Vn,this).toolbarPosition;if(A){const{style:e}=t,n="ltr"===(0,te.A)(Vn,this)._uiManager.direction?1-A[0]:A[0];e.insetInlineEnd="".concat(100*n,"%"),e.top="calc(".concat(100*A[1],"% + var(--editor-toolbar-vert-offset))")}return t}get div(){return(0,te.A)(Wn,this)}hide(){var t;(0,te.A)(Wn,this).classList.add("hidden"),null===(t=(0,te.A)(jn,this))||void 0===t||t.hideDropdown()}show(){var t,e;(0,te.A)(Wn,this).classList.remove("hidden"),null===(t=(0,te.A)(Xn,this))||void 0===t||t.shown(),null===(e=(0,te.A)(qn,this))||void 0===e||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=(0,te.A)(Vn,this),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",rA._[t]),(0,Ae.A)(Zn,this,AA).call(this,n)&&n.addEventListener("click",t=>{e.delete()},{signal:e._signal}),(0,te.A)(zn,this).append(n)}async addAltText(t){const e=await t.render();(0,Ae.A)(Zn,this,AA).call(this,e),(0,te.A)(zn,this).append(e,(0,$t.A)(Zn,this,iA)),(0,ee.A)(Xn,this,t)}addComment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,te.A)(qn,this))return;const n=t.renderForToolbar();if(!n)return;(0,Ae.A)(Zn,this,AA).call(this,n);const A=(0,ee.A)(Yn,this,(0,$t.A)(Zn,this,iA));e?((0,te.A)(zn,this).insertBefore(n,e),(0,te.A)(zn,this).insertBefore(A,e)):(0,te.A)(zn,this).append(n,A),(0,ee.A)(qn,this,t),t.toolbar=this}addColorPicker(t){if((0,te.A)(jn,this))return;(0,ee.A)(jn,this,t);const e=t.renderButton();(0,Ae.A)(Zn,this,AA).call(this,e),(0,te.A)(zn,this).append(e,(0,$t.A)(Zn,this,iA))}async addEditSignatureButton(t){const e=(0,ee.A)(Jn,this,await t.renderEditButton((0,te.A)(Vn,this)));(0,Ae.A)(Zn,this,AA).call(this,e),(0,te.A)(zn,this).append(e,(0,$t.A)(Zn,this,iA))}removeButton(t){var e,n;if("comment"===t)null===(e=(0,te.A)(qn,this))||void 0===e||e.removeToolbarCommentButton(),(0,ee.A)(qn,this,null),null===(n=(0,te.A)(Yn,this))||void 0===n||n.remove(),(0,ee.A)(Yn,this,null)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e)}}async addButtonBefore(t,e,n){const A=(0,te.A)(zn,this).querySelector(n);A&&"comment"===t&&this.addComment(e,A)}updateEditSignatureButton(t){(0,te.A)(Jn,this)&&((0,te.A)(Jn,this).title=t)}remove(){var t;(0,te.A)(Wn,this).remove(),null===(t=(0,te.A)(jn,this))||void 0===t||t.destroy(),(0,ee.A)(jn,this,null)}}function tA(t){t.stopPropagation()}function eA(t){(0,te.A)(Vn,this)._focusEventsAllowed=!1,Sn(t)}function nA(t){(0,te.A)(Vn,this)._focusEventsAllowed=!0,Sn(t)}function AA(t){const e=(0,te.A)(Vn,this)._uiManager._signal;return e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("focusin",(0,Ae.A)(Zn,this,eA).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",(0,Ae.A)(Zn,this,nA).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",xn,{signal:e}),!0)}function iA(t){const e=document.createElement("div");return e.className="divider",e}var rA={_:null},sA=new WeakMap,aA=new WeakMap,oA=new WeakMap,lA=new WeakSet;class cA{constructor(t){(0,Jt.A)(this,lA),(0,Zt.A)(this,sA,null),(0,Zt.A)(this,aA,null),(0,Zt.A)(this,oA,void 0),(0,ee.A)(oA,this,t)}show(t,e,n){const[A,i]=(0,Ae.A)(lA,this,uA).call(this,e,n),{style:r}=(0,te.A)(aA,this)||(0,ee.A)(aA,this,(0,Ae.A)(lA,this,hA).call(this));t.append((0,te.A)(aA,this)),r.insetInlineEnd="".concat(100*A,"%"),r.top="calc(".concat(100*i,"% + var(--editor-toolbar-vert-offset))")}hide(){(0,te.A)(aA,this).remove()}}function hA(){const t=(0,ee.A)(aA,this,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=(0,te.A)(oA,this)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",xn,{signal:e});const n=(0,ee.A)(sA,this,document.createElement("div"));return n.className="buttons",t.append(n),(0,te.A)(oA,this).hasCommentManager()&&(0,Ae.A)(lA,this,dA).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{(0,te.A)(oA,this).commentSelection("floating_button")}),(0,Ae.A)(lA,this,dA).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{(0,te.A)(oA,this).highlightSelection("floating_button")}),t}function uA(t,e){let n=0,A=0;for(const i of t){const t=i.y+i.height;if(t<n)continue;const r=i.x+(e?i.width:0);t>n?(A=r,n=t):e?r>A&&(A=r):r<A&&(A=r)}return[e?1-A:A,n]}function dA(t,e,n,A){const i=document.createElement("button");i.classList.add("basic",t),i.tabIndex=0,i.setAttribute("data-l10n-id",e);const r=document.createElement("span");i.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id",n);const s=(0,te.A)(oA,this)._signal;s instanceof AbortSignal&&!s.aborted&&(i.addEventListener("contextmenu",xn,{signal:s}),i.addEventListener("click",A,{signal:s})),(0,te.A)(sA,this).append(i)}function pA(t,e,n){for(const A of n)e.addEventListener(A,t[A].bind(t))}var gA=new WeakMap;class fA{constructor(){(0,Zt.A)(this,gA,0)}get id(){var t,e;return"".concat(me).concat(((0,ee.A)(gA,this,(t=(0,te.A)(gA,this),e=t++,t)),e))}}var mA=new WeakMap,vA=new WeakMap,wA=new WeakMap,BA=new WeakSet;class yA{constructor(){(0,Jt.A)(this,BA),(0,Zt.A)(this,mA,un()),(0,Zt.A)(this,vA,0),(0,Zt.A)(this,wA,null)}static get _isSVGFittingCanvas(){const t=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Xe(this,"_isSVGFittingCanvas",e.decode().then(()=>(t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0])))}async getFromFile(t){const{lastModified:e,name:n,size:A,type:i}=t;return(0,Ae.A)(BA,this,bA).call(this,"".concat(e,"_").concat(n,"_").concat(A,"_").concat(i),t)}async getFromUrl(t){return(0,Ae.A)(BA,this,bA).call(this,t,t)}async getFromBlob(t,e){const n=await e;return(0,Ae.A)(BA,this,bA).call(this,t,n)}async getFromId(t){(0,te.A)(wA,this)||(0,ee.A)(wA,this,new Map);const e=(0,te.A)(wA,this).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:t}=e;return delete e.blobPromise,this.getFromBlob(e.id,t)}return this.getFromUrl(e.url)}getFromCanvas(t,e){var n,A,i;(0,te.A)(wA,this)||(0,ee.A)(wA,this,new Map);let r=(0,te.A)(wA,this).get(t);if(null!==(i=r)&&void 0!==i&&i.bitmap)return r.refCounter+=1,r;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),r={bitmap:s.transferToImageBitmap(),id:"image_".concat((0,te.A)(mA,this),"_").concat(((0,ee.A)(vA,this,(n=(0,te.A)(vA,this),A=n++,n)),A)),refCounter:1,isSvg:!1},(0,te.A)(wA,this).set(t,r),(0,te.A)(wA,this).set(r.id,r),r}getSvgUrl(t){const e=(0,te.A)(wA,this).get(t);return null!==e&&void 0!==e&&e.isSvg?e.svgUrl:null}deleteId(t){var e;(0,te.A)(wA,this)||(0,ee.A)(wA,this,new Map);const n=(0,te.A)(wA,this).get(t);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:A}=n;if(!n.url&&!n.file){const t=new OffscreenCanvas(A.width,A.height);t.getContext("bitmaprenderer").transferFromImageBitmap(A),n.blobPromise=t.convertToBlob()}null===(e=A.close)||void 0===e||e.call(A),n.bitmap=null}isValidId(t){return t.startsWith("image_".concat((0,te.A)(mA,this),"_"))}}async function bA(t,e){var n;(0,te.A)(wA,this)||(0,ee.A)(wA,this,new Map);let A=(0,te.A)(wA,this).get(t);if(null===A)return null;if(null!==(n=A)&&void 0!==n&&n.bitmap)return A.refCounter+=1,A;try{var i,r;let t;if(A||(A={bitmap:null,id:"image_".concat((0,te.A)(mA,this),"_").concat(((0,ee.A)(vA,this,(i=(0,te.A)(vA,this),r=i++,i)),r)),refCounter:0,isSvg:!1}),"string"===typeof e?(A.url=e,t=await Bn(e,"blob")):e instanceof File?t=A.file=e:e instanceof Blob&&(t=e),"image/svg+xml"===t.type){const e=Mt._isSVGFittingCanvas,n=new FileReader,i=new Image,r=new Promise((t,r)=>{i.onload=()=>{A.bitmap=i,A.isSvg=!0,t()},n.onload=async()=>{const t=A.svgUrl=n.result;i.src=await e?"".concat(t,"#svgView(preserveAspectRatio(none))"):t},i.onerror=n.onerror=r});n.readAsDataURL(t),await r}else A.bitmap=await createImageBitmap(t);A.refCounter=1}catch(ty){Ke(ty),A=null}return(0,te.A)(wA,this).set(t,A),A&&(0,te.A)(wA,this).set(A.id,A),A}Mt=yA;var CA=new WeakMap,_A=new WeakMap,FA=new WeakMap,EA=new WeakMap;class xA{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;(0,Zt.A)(this,CA,[]),(0,Zt.A)(this,_A,!1),(0,Zt.A)(this,FA,void 0),(0,Zt.A)(this,EA,-1),(0,ee.A)(FA,this,t)}add(t){let{cmd:e,undo:n,post:A,mustExec:i,type:r=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}=t;if(i&&e(),(0,te.A)(_A,this))return;const o={cmd:e,undo:n,post:A,type:r};if(-1===(0,te.A)(EA,this))return(0,te.A)(CA,this).length>0&&((0,te.A)(CA,this).length=0),(0,ee.A)(EA,this,0),void(0,te.A)(CA,this).push(o);if(s&&(0,te.A)(CA,this)[(0,te.A)(EA,this)].type===r)return a&&(o.undo=(0,te.A)(CA,this)[(0,te.A)(EA,this)].undo),void((0,te.A)(CA,this)[(0,te.A)(EA,this)]=o);const l=(0,te.A)(EA,this)+1;l===(0,te.A)(FA,this)?(0,te.A)(CA,this).splice(0,1):((0,ee.A)(EA,this,l),l<(0,te.A)(CA,this).length&&(0,te.A)(CA,this).splice(l)),(0,te.A)(CA,this).push(o)}undo(){if(-1===(0,te.A)(EA,this))return;(0,ee.A)(_A,this,!0);const{undo:t,post:e}=(0,te.A)(CA,this)[(0,te.A)(EA,this)];t(),null===e||void 0===e||e(),(0,ee.A)(_A,this,!1),(0,ee.A)(EA,this,(0,te.A)(EA,this)-1)}redo(){if((0,te.A)(EA,this)<(0,te.A)(CA,this).length-1){(0,ee.A)(EA,this,(0,te.A)(EA,this)+1),(0,ee.A)(_A,this,!0);const{cmd:t,post:e}=(0,te.A)(CA,this)[(0,te.A)(EA,this)];t(),null===e||void 0===e||e(),(0,ee.A)(_A,this,!1)}}hasSomethingToUndo(){return-1!==(0,te.A)(EA,this)}hasSomethingToRedo(){return(0,te.A)(EA,this)<(0,te.A)(CA,this).length-1}cleanType(t){if(-1!==(0,te.A)(EA,this)){for(let e=(0,te.A)(EA,this);e>=0;e--)if((0,te.A)(CA,this)[e].type!==t)return(0,te.A)(CA,this).splice(e+1,(0,te.A)(EA,this)-e),void(0,ee.A)(EA,this,e);(0,te.A)(CA,this).length=0,(0,ee.A)(EA,this,-1)}}destroy(){(0,ee.A)(CA,this,null)}}var SA=new WeakSet;class kA{constructor(t){(0,Jt.A)(this,SA),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=rn.platform;for(const[n,A,i={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:A,options:i}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:A,options:i}),this.allKeys.add(t.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get((0,Ae.A)(SA,this,UA).call(this,e));if(!n)return;const{callback:A,options:{bubbles:i=!1,args:r=[],checker:s=null}}=n;s&&!s(t,e)||(A.bind(t,...r,e)(),i||Sn(e))}}function UA(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}class QA{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return function(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const A=window.getComputedStyle(e).color;t.set(n,Qn(A))}e.remove()}(t),Xe(this,"_colors",t)}convert(t){const e=Qn(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,A]of this._colors)if(A.every((t,n)=>t===e[n]))return QA._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?an.makeHexColor(...e):t}}(0,ne.A)(QA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var PA=new WeakMap,MA=new WeakMap,IA=new WeakMap,TA=new WeakMap,DA=new WeakMap,LA=new WeakMap,RA=new WeakMap,OA=new WeakMap,HA=new WeakMap,NA=new WeakMap,GA=new WeakMap,KA=new WeakMap,WA=new WeakMap,jA=new WeakMap,VA=new WeakMap,zA=new WeakMap,XA=new WeakMap,qA=new WeakMap,YA=new WeakMap,JA=new WeakMap,ZA=new WeakMap,$A=new WeakMap,ti=new WeakMap,ei=new WeakMap,ni=new WeakMap,Ai=new WeakMap,ii=new WeakMap,ri=new WeakMap,si=new WeakMap,ai=new WeakMap,oi=new WeakMap,li=new WeakMap,ci=new WeakMap,hi=new WeakMap,ui=new WeakMap,di=new WeakMap,pi=new WeakMap,gi=new WeakMap,fi=new WeakMap,mi=new WeakMap,vi=new WeakMap,wi=new WeakMap,Bi=new WeakMap,yi=new WeakMap,bi=new WeakMap,Ci=new WeakMap,_i=new WeakMap,Fi=new WeakMap,Ei=new WeakMap,xi=new WeakSet;class Si{static get _keyboardManager(){const t=Si.prototype,e=t=>(0,te.A)(Ci,t).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,e)=>{let{target:n}=e;if(n instanceof HTMLInputElement){const{type:t}=n;return"text"!==t&&"number"!==t}return!0},A=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Xe(this,"_keyboardManager",new kA([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&(0,te.A)(Ci,t).contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&(0,te.A)(Ci,t).contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-A,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[A,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-A],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,A],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}]]))}constructor(t,e,n,A,i,r,s,a,o,l,c,h,u,d,p,g){(0,Jt.A)(this,xi),(0,Zt.A)(this,PA,new AbortController),(0,Zt.A)(this,MA,null),(0,Zt.A)(this,IA,null),(0,Zt.A)(this,TA,new Map),(0,Zt.A)(this,DA,new Map),(0,Zt.A)(this,LA,null),(0,Zt.A)(this,RA,null),(0,Zt.A)(this,OA,null),(0,Zt.A)(this,HA,new xA),(0,Zt.A)(this,NA,null),(0,Zt.A)(this,GA,null),(0,Zt.A)(this,KA,null),(0,Zt.A)(this,WA,0),(0,Zt.A)(this,jA,new Set),(0,Zt.A)(this,VA,null),(0,Zt.A)(this,zA,null),(0,Zt.A)(this,XA,new Set),(0,ne.A)(this,"_editorUndoBar",null),(0,Zt.A)(this,qA,!1),(0,Zt.A)(this,YA,!1),(0,Zt.A)(this,JA,!1),(0,Zt.A)(this,ZA,null),(0,Zt.A)(this,$A,null),(0,Zt.A)(this,ti,null),(0,Zt.A)(this,ei,null),(0,Zt.A)(this,ni,!1),(0,Zt.A)(this,Ai,null),(0,Zt.A)(this,ii,new fA),(0,Zt.A)(this,ri,!1),(0,Zt.A)(this,si,!1),(0,Zt.A)(this,ai,!1),(0,Zt.A)(this,oi,null),(0,Zt.A)(this,li,null),(0,Zt.A)(this,ci,null),(0,Zt.A)(this,hi,null),(0,Zt.A)(this,ui,null),(0,Zt.A)(this,di,ve.NONE),(0,Zt.A)(this,pi,new Set),(0,Zt.A)(this,gi,null),(0,Zt.A)(this,fi,null),(0,Zt.A)(this,mi,null),(0,Zt.A)(this,vi,null),(0,Zt.A)(this,wi,null),(0,Zt.A)(this,Bi,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),(0,Zt.A)(this,yi,[0,0]),(0,Zt.A)(this,bi,null),(0,Zt.A)(this,Ci,null),(0,Zt.A)(this,_i,null),(0,Zt.A)(this,Fi,null),(0,Zt.A)(this,Ei,null);const f=this._signal=(0,te.A)(PA,this).signal;(0,ee.A)(Ci,this,t),(0,ee.A)(_i,this,e),(0,ee.A)(Fi,this,n),(0,ee.A)(LA,this,A),(0,ee.A)(NA,this,i),(0,ee.A)(fi,this,r),(0,ee.A)(wi,this,a),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:f}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),s._on("setpreference",this.onSetPreference.bind(this),{signal:f}),s._on("switchannotationeditorparams",t=>this.updateParams(t.type,t.value),{signal:f}),window.addEventListener("pointerdown",()=>{(0,ee.A)(si,this,!0)},{capture:!0,signal:f}),window.addEventListener("pointerup",()=>{(0,ee.A)(si,this,!1)},{capture:!0,signal:f}),(0,Ae.A)(xi,this,Ii).call(this),(0,Ae.A)(xi,this,Ni).call(this),(0,Ae.A)(xi,this,Li).call(this),(0,ee.A)(RA,this,a.annotationStorage),(0,ee.A)(ZA,this,a.filterFactory),(0,ee.A)(mi,this,o),(0,ee.A)(ei,this,l||null),(0,ee.A)(qA,this,c),(0,ee.A)(YA,this,h),(0,ee.A)(JA,this,u),(0,ee.A)(ui,this,d||null),this.viewParameters={realScale:wn.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=!1!==g,null===i||void 0===i||i.setSidebarUiManager(this)}destroy(){var t,e,n,A,i,r,s,a,o;null===(t=(0,te.A)(Ei,this))||void 0===t||t.resolve(),(0,ee.A)(Ei,this,null),null===(e=(0,te.A)(PA,this))||void 0===e||e.abort(),(0,ee.A)(PA,this,null),this._signal=null;for(const l of(0,te.A)(DA,this).values())l.destroy();(0,te.A)(DA,this).clear(),(0,te.A)(TA,this).clear(),(0,te.A)(XA,this).clear(),null===(n=(0,te.A)(hi,this))||void 0===n||n.clear(),(0,ee.A)(MA,this,null),(0,te.A)(pi,this).clear(),(0,te.A)(HA,this).destroy(),null===(A=(0,te.A)(LA,this))||void 0===A||A.destroy(),null===(i=(0,te.A)(NA,this))||void 0===i||i.destroy(),null===(r=(0,te.A)(fi,this))||void 0===r||r.destroy(),null===(s=(0,te.A)(Ai,this))||void 0===s||s.hide(),(0,ee.A)(Ai,this,null),null===(a=(0,te.A)(ci,this))||void 0===a||a.destroy(),(0,ee.A)(ci,this,null),(0,ee.A)(IA,this,null),(0,te.A)($A,this)&&(clearTimeout((0,te.A)($A,this)),(0,ee.A)($A,this,null)),(0,te.A)(bi,this)&&(clearTimeout((0,te.A)(bi,this)),(0,ee.A)(bi,this,null)),null===(o=this._editorUndoBar)||void 0===o||o.destroy(),(0,ee.A)(wi,this,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return(0,te.A)(ui,this)}get useNewAltTextFlow(){return(0,te.A)(YA,this)}get useNewAltTextWhenAddingImage(){return(0,te.A)(JA,this)}get hcmFilter(){return Xe(this,"hcmFilter",(0,te.A)(mi,this)?(0,te.A)(ZA,this).addHCMFilter((0,te.A)(mi,this).foreground,(0,te.A)(mi,this).background):"none")}get direction(){return Xe(this,"direction",getComputedStyle((0,te.A)(Ci,this)).direction)}get _highlightColors(){return Xe(this,"_highlightColors",(0,te.A)(ei,this)?new Map((0,te.A)(ei,this).split(",").map(t=>((t=t.split("=").map(t=>t.trim()))[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Xe(this,"highlightColors",null);const e=new Map,n=!!(0,te.A)(mi,this);for(const[A,i]of t){const t=A.endsWith("_HCM");n&&t?e.set(A.replace("_HCM",""),i):n||t||e.set(A,i)}return Xe(this,"highlightColors",e)}get highlightColorNames(){return Xe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),(0,ee.A)(KA,this,t)}setMainHighlightColorPicker(t){(0,ee.A)(ci,this,t)}editAltText(t){var e;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(e=(0,te.A)(LA,this))||void 0===e||e.editAltText(this,t,n)}hasCommentManager(){return!!(0,te.A)(NA,this)}editComment(t,e,n,A){var i;null===(i=(0,te.A)(NA,this))||void 0===i||i.showDialog(this,t,e,n,A)}selectComment(t,e){const n=(0,te.A)(DA,this).get(t),A=null===n||void 0===n?void 0:n.getEditorByUID(e);null===A||void 0===A||A.toggleComment(!0,!0)}updateComment(t){var e;null===(e=(0,te.A)(NA,this))||void 0===e||e.updateComment(t.getData())}updatePopupColor(t){var e;null===(e=(0,te.A)(NA,this))||void 0===e||e.updatePopupColor(t)}removeComment(t){var e;null===(e=(0,te.A)(NA,this))||void 0===e||e.removeComments([t.uid])}toggleComment(t,e){var n;let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;null===(n=(0,te.A)(NA,this))||void 0===n||n.toggleCommentPopup(t,e,A)}makeCommentColor(t,e){var n;return t&&(null===(n=(0,te.A)(NA,this))||void 0===n?void 0:n.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return(null===(t=(0,te.A)(NA,this))||void 0===t?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if((0,te.A)(DA,this).has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),A=n=>{n.pageNumber===t&&(this._eventBus._off("editorsrendered",A),e())};this._eventBus.on("editorsrendered",A),await n}getSignature(t){var e;null===(e=(0,te.A)(fi,this))||void 0===e||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return(0,te.A)(fi,this)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference(t){let{name:e,value:n}=t;if("enableNewAltTextWhenAddingImage"===e)(0,ee.A)(JA,this,n)}onPageChanging(t){let{pageNumber:e}=t;(0,ee.A)(WA,this,e-1)}focusMainContainer(){(0,te.A)(Ci,this).focus()}findParent(t,e){for(const n of(0,te.A)(DA,this).values()){const{x:A,y:i,width:r,height:s}=n.div.getBoundingClientRect();if(t>=A&&t<=A+r&&e>=i&&e<=i+s)return n}return null}disableUserSelect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,te.A)(_i,this).classList.toggle("noUserSelect",t)}addShouldRescale(t){(0,te.A)(XA,this).add(t)}removeShouldRescale(t){(0,te.A)(XA,this).delete(t)}onScaleChanging(t){var e;let{scale:n}=t;this.commitOrRemove(),this.viewParameters.realScale=n*wn.PDF_TO_CSS_UNITS;for(const A of(0,te.A)(XA,this))A.onScaleChanging();null===(e=(0,te.A)(KA,this))||void 0===e||e.onScaleChanging()}onRotationChanging(t){let{pagesRotation:e}=t;this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:A,anchorOffset:i,focusNode:r,focusOffset:s}=n,a=n.toString(),o=(0,Ae.A)(xi,this,ki).call(this,n).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;n.empty();const c=(0,Ae.A)(xi,this,Ui).call(this,o),h=(0,te.A)(di,this)===ve.NONE,u=()=>{const n=null===c||void 0===c?void 0:c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:l,anchorNode:A,anchorOffset:i,focusNode:r,focusOffset:s,text:a});h&&this.showAllEditors("highlight",!0,!0),e&&(null===n||void 0===n||n.editComment())};h?this.switchToMode(ve.HIGHLIGHT,u):u()}commentSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!(0,te.A)(RA,this))return null;const e="".concat(me).concat(t),n=(0,te.A)(RA,this).getRawValue(e);return n&&(0,te.A)(RA,this).remove(e),n}addToAnnotationStorage(t){t.isEmpty()||!(0,te.A)(RA,this)||(0,te.A)(RA,this).has(t.id)||(0,te.A)(RA,this).setValue(t.id,t)}a11yAlert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,te.A)(Fi,this);n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,(0,te.A)(ni,this)&&((0,ee.A)(ni,this,!1),(0,Ae.A)(xi,this,Mi).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of(0,te.A)(pi,this))if(e.div.contains(t)){(0,ee.A)(li,this,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!(0,te.A)(li,this))return;const[t,e]=(0,te.A)(li,this);(0,ee.A)(li,this,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){(0,Ae.A)(xi,this,Li).call(this),(0,Ae.A)(xi,this,Oi).call(this)}removeEditListeners(){(0,Ae.A)(xi,this,Ri).call(this),(0,Ae.A)(xi,this,Hi).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of(0,te.A)(zA,this))if(n.isHandlingMimeForPasting(e))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}drop(t){for(const e of t.dataTransfer.items)for(const n of(0,te.A)(zA,this))if(n.isHandlingMimeForPasting(e.type))return n.paste(e,this.currentLayer),void t.preventDefault()}copy(t){var e;if(t.preventDefault(),null===(e=(0,te.A)(MA,this))||void 0===e||e.commitOrRemove(),!this.hasSelection)return;const n=[];for(const A of(0,te.A)(pi,this)){const t=A.serialize(!0);t&&n.push(t)}0!==n.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const t of(0,te.A)(zA,this))if(t.isHandlingMimeForPasting(r.type))return void t.paste(r,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){return void Ke('paste: "'.concat(i.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const A=this.currentLayer;try{const t=[];for(const r of n){const e=await A.deserialize(r);if(!e)return;t.push(e)}const e=()=>{for(const e of t)(0,Ae.A)(xi,this,Vi).call(this,e);(0,Ae.A)(xi,this,qi).call(this,t)},i=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:i,mustExec:!0})}catch(i){Ke('paste: "'.concat(i.message,'".'))}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),(0,te.A)(di,this)===ve.NONE||this.isEditorHandlingKeyboard||Si._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,(0,te.A)(ni,this)&&((0,ee.A)(ni,this,!1),(0,Ae.A)(xi,this,Mi).call(this,"main_toolbar")))}onEditingAction(t){let{name:e}=t;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}setEditingState(t){t?((0,Ae.A)(xi,this,Ti).call(this),(0,Ae.A)(xi,this,Oi).call(this),(0,Ae.A)(xi,this,Gi).call(this,{isEditing:(0,te.A)(di,this)!==ve.NONE,isEmpty:(0,Ae.A)(xi,this,Xi).call(this),hasSomethingToUndo:(0,te.A)(HA,this).hasSomethingToUndo(),hasSomethingToRedo:(0,te.A)(HA,this).hasSomethingToRedo(),hasSelectedEditor:!1})):((0,Ae.A)(xi,this,Di).call(this),(0,Ae.A)(xi,this,Hi).call(this),(0,Ae.A)(xi,this,Gi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!(0,te.A)(zA,this)){(0,ee.A)(zA,this,t);for(const t of(0,te.A)(zA,this))(0,Ae.A)(xi,this,Ki).call(this,t.defaultPropertiesToUpdate)}}getId(){return(0,te.A)(ii,this).id}get currentLayer(){return(0,te.A)(DA,this).get((0,te.A)(WA,this))}getLayer(t){return(0,te.A)(DA,this).get(t)}get currentPageIndex(){return(0,te.A)(WA,this)}addLayer(t){(0,te.A)(DA,this).set(t.pageIndex,t),(0,te.A)(ri,this)?t.enable():t.disable()}removeLayer(t){(0,te.A)(DA,this).delete(t.pageIndex)}async updateMode(t){var e,n;let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,te.A)(di,this)!==t&&(!(0,te.A)(Ei,this)||(await(0,te.A)(Ei,this).promise,(0,te.A)(Ei,this)))){var a,o;if((0,ee.A)(Ei,this,Promise.withResolvers()),null===(e=(0,te.A)(KA,this))||void 0===e||e.commitOrRemove(),(0,te.A)(di,this)===ve.POPUP)null===(a=(0,te.A)(NA,this))||void 0===a||a.hideSidebar();if(null===(n=(0,te.A)(NA,this))||void 0===n||n.destroyPopup(),(0,ee.A)(di,this,t),t===ve.NONE){var l;this.setEditingState(!1),(0,Ae.A)(xi,this,ji).call(this);for(const t of(0,te.A)(TA,this).values())t.hideStandaloneCommentButton();return null===(l=this._editorUndoBar)||void 0===l||l.hide(),this.toggleComment(null),void(0,te.A)(Ei,this).resolve()}for(const t of(0,te.A)(TA,this).values())t.addStandaloneCommentButton();if(t===ve.SIGNATURE)await(null===(o=(0,te.A)(fi,this))||void 0===o?void 0:o.loadSignatures());this.setEditingState(!0),await(0,Ae.A)(xi,this,Wi).call(this),this.unselectAll();for(const e of(0,te.A)(DA,this).values())e.updateMode(t);if(t===ve.POPUP){var c;(0,te.A)(IA,this)||(0,ee.A)(IA,this,await(0,te.A)(wi,this).getAnnotationsByType(new Set((0,te.A)(zA,this).map(t=>t._editorType))));const t=new Set,e=[];for(const n of(0,te.A)(TA,this).values()){const{annotationElementId:A,hasComment:i,deleted:r}=n;A&&t.add(A),i&&!r&&e.push(n.getData())}for(const n of(0,te.A)(IA,this)){const{id:A,popupRef:i,contentsObj:r}=n;i&&null!==r&&void 0!==r&&r.str&&!t.has(A)&&!(0,te.A)(jA,this).has(A)&&e.push(n)}null===(c=(0,te.A)(NA,this))||void 0===c||c.showSidebar(e)}if(!A)return i&&this.addNewEditorFromKeyboard(),void(0,te.A)(Ei,this).resolve();for(const t of(0,te.A)(TA,this).values())t.uid===A?(this.setSelected(t),s?t.editComment():r?t.enterInEditMode():t.focus()):t.unselect();(0,te.A)(Ei,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==(0,te.A)(di,this)&&this._eventBus.dispatch("switchannotationeditormode",(0,Yt.A)({source:this},t))}updateParams(t,e){if((0,te.A)(zA,this)){switch(t){case we.CREATE:return void this.currentLayer.addNewEditor(e);case we.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),((0,te.A)(vi,this)||(0,ee.A)(vi,this,new Map)).set(t,e),this.showAllEditors("highlight",e)}if(this.hasSelection)for(const n of(0,te.A)(pi,this))n.updateParams(t,e);else for(const n of(0,te.A)(zA,this))n.updateDefaultParams(t,e)}}showAllEditors(t,e){var n,A;for(const i of(0,te.A)(TA,this).values())i.editorType===t&&i.show(e);(null===(n=null===(A=(0,te.A)(vi,this))||void 0===A?void 0:A.get(we.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==e&&(0,Ae.A)(xi,this,Ki).call(this,[[we.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((0,te.A)(ai,this)!==t){(0,ee.A)(ai,this,t);for(const e of(0,te.A)(DA,this).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of(0,te.A)(TA,this).values())e.pageIndex===t&&(yield e)}getEditor(t){return(0,te.A)(TA,this).get(t)}addEditor(t){(0,te.A)(TA,this).set(t.id,t)}removeEditor(t){var e,n;(t.div.contains(document.activeElement)&&((0,te.A)($A,this)&&clearTimeout((0,te.A)($A,this)),(0,ee.A)($A,this,setTimeout(()=>{this.focusMainContainer(),(0,ee.A)($A,this,null)},0))),(0,te.A)(TA,this).delete(t.id),t.annotationElementId)&&(null===(e=(0,te.A)(hi,this))||void 0===e||e.delete(t.annotationElementId));(this.unselect(t),t.annotationElementId&&(0,te.A)(jA,this).has(t.annotationElementId))||(null===(n=(0,te.A)(RA,this))||void 0===n||n.remove(t.id))}addDeletedAnnotationElement(t){(0,te.A)(jA,this).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return(0,te.A)(jA,this).has(t)}removeDeletedAnnotationElement(t){(0,te.A)(jA,this).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){(0,te.A)(MA,this)!==t&&((0,ee.A)(MA,this,t),t&&(0,Ae.A)(xi,this,Ki).call(this,t.propertiesToUpdate))}updateUI(t){(0,$t.A)(xi,this,zi)===t&&(0,Ae.A)(xi,this,Ki).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){(0,Ae.A)(xi,this,Ki).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if((0,te.A)(pi,this).has(t))return(0,te.A)(pi,this).delete(t),t.unselect(),void(0,Ae.A)(xi,this,Gi).call(this,{hasSelectedEditor:this.hasSelection});(0,te.A)(pi,this).add(t),t.select(),(0,Ae.A)(xi,this,Ki).call(this,t.propertiesToUpdate),(0,Ae.A)(xi,this,Gi).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),null===(e=(0,te.A)(KA,this))||void 0===e||e.commitOrRemove();for(const n of(0,te.A)(pi,this))n!==t&&n.unselect();(0,te.A)(pi,this).clear(),(0,te.A)(pi,this).add(t),t.select(),(0,Ae.A)(xi,this,Ki).call(this,t.propertiesToUpdate),(0,Ae.A)(xi,this,Gi).call(this,{hasSelectedEditor:!0})}isSelected(t){return(0,te.A)(pi,this).has(t)}get firstSelectedEditor(){return(0,te.A)(pi,this).values().next().value}unselect(t){t.unselect(),(0,te.A)(pi,this).delete(t),(0,Ae.A)(xi,this,Gi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==(0,te.A)(pi,this).size}get isEnterHandled(){return 1===(0,te.A)(pi,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){var t;(0,te.A)(HA,this).undo(),(0,Ae.A)(xi,this,Gi).call(this,{hasSomethingToUndo:(0,te.A)(HA,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:(0,Ae.A)(xi,this,Xi).call(this)}),null===(t=this._editorUndoBar)||void 0===t||t.hide()}redo(){(0,te.A)(HA,this).redo(),(0,Ae.A)(xi,this,Gi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:(0,te.A)(HA,this).hasSomethingToRedo(),isEmpty:(0,Ae.A)(xi,this,Xi).call(this)})}addCommands(t){(0,te.A)(HA,this).add(t),(0,Ae.A)(xi,this,Gi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:(0,Ae.A)(xi,this,Xi).call(this)})}cleanUndoStack(t){(0,te.A)(HA,this).cleanType(t)}delete(){var t;this.commitOrRemove();const e=null===(t=this.currentLayer)||void 0===t?void 0:t.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...(0,te.A)(pi,this)],A=()=>{for(const t of n)(0,Ae.A)(xi,this,Vi).call(this,t)};this.addCommands({cmd:()=>{var t;null===(t=this._editorUndoBar)||void 0===t||t.show(A,1===n.length?n[0].editorType:n.length);for(const e of n)e.remove()},undo:A,mustExec:!0})}commitOrRemove(){var t;null===(t=(0,te.A)(MA,this))||void 0===t||t.commitOrRemove()}hasSomethingToControl(){return(0,te.A)(MA,this)||this.hasSelection}selectAll(){for(const t of(0,te.A)(pi,this))t.commit();(0,Ae.A)(xi,this,qi).call(this,(0,te.A)(TA,this).values())}unselectAll(){var t;if((!(0,te.A)(MA,this)||((0,te.A)(MA,this).commitOrRemove(),(0,te.A)(di,this)===ve.NONE))&&(null===(t=(0,te.A)(KA,this))||void 0===t||!t.commitOrRemove())&&this.hasSelection){for(const t of(0,te.A)(pi,this))t.unselect();(0,te.A)(pi,this).clear(),(0,Ae.A)(xi,this,Gi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;(0,te.A)(yi,this)[0]+=t,(0,te.A)(yi,this)[1]+=e;const[n,A]=(0,te.A)(yi,this),i=[...(0,te.A)(pi,this)];(0,te.A)(bi,this)&&clearTimeout((0,te.A)(bi,this)),(0,ee.A)(bi,this,setTimeout(()=>{(0,ee.A)(bi,this,null),(0,te.A)(yi,this)[0]=(0,te.A)(yi,this)[1]=0,this.addCommands({cmd:()=>{for(const t of i)(0,te.A)(TA,this).has(t.id)&&(t.translateInPage(n,A),t.translationDone())},undo:()=>{for(const t of i)(0,te.A)(TA,this).has(t.id)&&(t.translateInPage(-n,-A),t.translationDone())},mustExec:!1})},1e3));for(const r of i)r.translateInPage(t,e),r.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),(0,ee.A)(VA,this,new Map);for(const t of(0,te.A)(pi,this))(0,te.A)(VA,this).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!(0,te.A)(VA,this))return!1;this.disableUserSelect(!1);const t=(0,te.A)(VA,this);(0,ee.A)(VA,this,null);let e=!1;for(const[{x:A,y:i,pageIndex:r},s]of t)s.newX=A,s.newY=i,s.newPageIndex=r,e||(e=A!==s.savedX||i!==s.savedY||r!==s.savedPageIndex);if(!e)return!1;const n=(t,e,n,A)=>{if((0,te.A)(TA,this).has(t.id)){const i=(0,te.A)(DA,this).get(A);i?t._setParentAndPosition(i,e,n):(t.pageIndex=A,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:A,newY:i,newPageIndex:r}]of t)n(e,A,i,r)},undo:()=>{for(const[e,{savedX:A,savedY:i,savedPageIndex:r}]of t)n(e,A,i,r)},mustExec:!0}),!0}dragSelectedEditors(t,e){if((0,te.A)(VA,this))for(const n of(0,te.A)(VA,this).keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return(null===(t=this.getActive())||void 0===t?void 0:t.shouldGetKeyboardEvents())||1===(0,te.A)(pi,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return(0,te.A)(MA,this)===t}getActive(){return(0,te.A)(MA,this)}getMode(){return(0,te.A)(di,this)}isEditingMode(){return(0,te.A)(di,this)!==ve.NONE}get imageManager(){return Xe(this,"imageManager",new yA)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let o=0,l=e.rangeCount;o<l;o++)if(!t.contains(e.getRangeAt(o).commonAncestorContainer))return null;const{x:n,y:A,width:i,height:r}=t.getBoundingClientRect();let s;switch(t.getAttribute("data-main-rotation")){case"90":s=(t,e,s,a)=>({x:(e-A)/r,y:1-(t+s-n)/i,width:a/r,height:s/i});break;case"180":s=(t,e,s,a)=>({x:1-(t+s-n)/i,y:1-(e+a-A)/r,width:s/i,height:a/r});break;case"270":s=(t,e,s,a)=>({x:1-(e+a-A)/r,y:(t-n)/i,width:a/r,height:s/i});break;default:s=(t,e,s,a)=>({x:(t-n)/i,y:(e-A)/r,width:s/i,height:a/r})}const a=[];for(let o=0,l=e.rangeCount;o<l;o++){const t=e.getRangeAt(o);if(!t.collapsed)for(const{x:e,y:n,width:A,height:i}of t.getClientRects())0!==A&&0!==i&&a.push(s(e,n,A,i))}return 0===a.length?null:a}addChangedExistingAnnotation(t){let{annotationElementId:e,id:n}=t;((0,te.A)(OA,this)||(0,ee.A)(OA,this,new Map)).set(e,n)}removeChangedExistingAnnotation(t){var e;let{annotationElementId:n}=t;null===(e=(0,te.A)(OA,this))||void 0===e||e.delete(n)}renderAnnotationElement(t){var e;const n=null===(e=(0,te.A)(OA,this))||void 0===e?void 0:e.get(t.data.id);if(!n)return;const A=(0,te.A)(RA,this).getRawValue(n);A&&((0,te.A)(di,this)!==ve.NONE||A.hasBeenModified)&&A.renderAnnotationElement(t)}setMissingCanvas(t,e,n){var A;const i=null===(A=(0,te.A)(hi,this))||void 0===A?void 0:A.get(t);i&&(i.setCanvas(e,n),(0,te.A)(hi,this).delete(t))}addMissingCanvas(t,e){((0,te.A)(hi,this)||(0,ee.A)(hi,this,new Map)).set(t,e)}}function ki(t){let{anchorNode:e}=t;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}function Ui(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of(0,te.A)(DA,this).values())if(n.hasTextLayer(t))return n;return null}function Qi(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=(0,Ae.A)(xi,this,ki).call(this,t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&((0,te.A)(Ai,this)||(0,ee.A)(Ai,this,new cA(this)),(0,te.A)(Ai,this).show(e,n,"ltr"===this.direction))}function Pi(){var t;const e=document.getSelection();if(!e||e.isCollapsed){var n;if((0,te.A)(gi,this))null===(n=(0,te.A)(Ai,this))||void 0===n||n.hide(),(0,ee.A)(gi,this,null),(0,Ae.A)(xi,this,Gi).call(this,{hasSelectedText:!1});return}const{anchorNode:A}=e;if(A===(0,te.A)(gi,this))return;const i=(0,Ae.A)(xi,this,ki).call(this,e).closest(".textLayer");var r;if(i){if(null===(t=(0,te.A)(Ai,this))||void 0===t||t.hide(),(0,ee.A)(gi,this,A),(0,Ae.A)(xi,this,Gi).call(this,{hasSelectedText:!0}),((0,te.A)(di,this)===ve.HIGHLIGHT||(0,te.A)(di,this)===ve.NONE)&&((0,te.A)(di,this)===ve.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),(0,ee.A)(ni,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const t=(0,te.A)(di,this)===ve.HIGHLIGHT?(0,Ae.A)(xi,this,Ui).call(this,i):null;if(null===t||void 0===t||t.toggleDrawing(),(0,te.A)(si,this)){const e=new AbortController,n=this.combinedSignal(e),A=n=>{"pointerup"===n.type&&0!==n.button||(e.abort(),null===t||void 0===t||t.toggleDrawing(!0),"pointerup"===n.type&&(0,Ae.A)(xi,this,Mi).call(this,"main_toolbar"))};window.addEventListener("pointerup",A,{signal:n}),window.addEventListener("blur",A,{signal:n})}else null===t||void 0===t||t.toggleDrawing(!0),(0,Ae.A)(xi,this,Mi).call(this,"main_toolbar")}}else(0,te.A)(gi,this)&&(null===(r=(0,te.A)(Ai,this))||void 0===r||r.hide(),(0,ee.A)(gi,this,null),(0,Ae.A)(xi,this,Gi).call(this,{hasSelectedText:!1}))}function Mi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,te.A)(di,this)===ve.HIGHLIGHT?this.highlightSelection(t):(0,te.A)(qA,this)&&(0,Ae.A)(xi,this,Qi).call(this)}function Ii(){document.addEventListener("selectionchange",(0,Ae.A)(xi,this,Pi).bind(this),{signal:this._signal})}function Ti(){if((0,te.A)(ti,this))return;(0,ee.A)(ti,this,new AbortController);const t=this.combinedSignal((0,te.A)(ti,this));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}function Di(){var t;null===(t=(0,te.A)(ti,this))||void 0===t||t.abort(),(0,ee.A)(ti,this,null)}function Li(){if((0,te.A)(oi,this))return;(0,ee.A)(oi,this,new AbortController);const t=this.combinedSignal((0,te.A)(oi,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}function Ri(){var t;null===(t=(0,te.A)(oi,this))||void 0===t||t.abort(),(0,ee.A)(oi,this,null)}function Oi(){if((0,te.A)(GA,this))return;(0,ee.A)(GA,this,new AbortController);const t=this.combinedSignal((0,te.A)(GA,this));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}function Hi(){var t;null===(t=(0,te.A)(GA,this))||void 0===t||t.abort(),(0,ee.A)(GA,this,null)}function Ni(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}function Gi(t){Object.entries(t).some(t=>{let[e,n]=t;return(0,te.A)(Bi,this)[e]!==n})&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign((0,te.A)(Bi,this),t)}),(0,te.A)(di,this)===ve.HIGHLIGHT&&!1===t.hasSelectedEditor&&(0,Ae.A)(xi,this,Ki).call(this,[[we.HIGHLIGHT_FREE,!0]]))}function Ki(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}async function Wi(){if(!(0,te.A)(ri,this)){(0,ee.A)(ri,this,!0);const t=[];for(const e of(0,te.A)(DA,this).values())t.push(e.enable());await Promise.all(t);for(const e of(0,te.A)(TA,this).values())e.enable()}}function ji(){if(this.unselectAll(),(0,te.A)(ri,this)){(0,ee.A)(ri,this,!1);for(const t of(0,te.A)(DA,this).values())t.disable();for(const t of(0,te.A)(TA,this).values())t.disable()}}function Vi(t){const e=(0,te.A)(DA,this).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}function zi(t){let e=null;for(e of(0,te.A)(pi,t));return e}function Xi(){if(0===(0,te.A)(TA,this).size)return!0;if(1===(0,te.A)(TA,this).size)for(const t of(0,te.A)(TA,this).values())return t.isEmpty();return!1}function qi(t){for(const e of(0,te.A)(pi,this))e.unselect();(0,te.A)(pi,this).clear();for(const e of t)e.isEmpty()||((0,te.A)(pi,this).add(e),e.select());(0,Ae.A)(xi,this,Gi).call(this,{hasSelectedEditor:this.hasSelection})}(0,ne.A)(Si,"TRANSLATE_SMALL",1),(0,ne.A)(Si,"TRANSLATE_BIG",10);var Yi=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,$i=new WeakMap,tr=new WeakMap,er=new WeakMap,nr=new WeakMap,Ar=new WeakMap,ir=new WeakMap,rr=new WeakMap,sr=new WeakMap,ar=new WeakMap,or=new WeakSet;class lr{constructor(t){(0,Jt.A)(this,or),(0,Zt.A)(this,Yi,null),(0,Zt.A)(this,Ji,!1),(0,Zt.A)(this,Zi,null),(0,Zt.A)(this,$i,null),(0,Zt.A)(this,tr,null),(0,Zt.A)(this,er,null),(0,Zt.A)(this,nr,!1),(0,Zt.A)(this,Ar,null),(0,Zt.A)(this,ir,null),(0,Zt.A)(this,rr,null),(0,Zt.A)(this,sr,null),(0,Zt.A)(this,ar,!1),(0,ee.A)(ir,this,t),(0,ee.A)(ar,this,t._uiManager.useNewAltTextFlow),ur._||(ur._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){var e;null!==(e=lr._l10n)&&void 0!==e||(lr._l10n=t)}async render(){const t=(0,ee.A)(Zi,this,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=(0,ee.A)($i,this,document.createElement("span"));t.append(e),(0,te.A)(ar,this)?(t.classList.add("new"),t.setAttribute("data-l10n-id",ur._.missing),e.setAttribute("data-l10n-id",ur._["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=(0,te.A)(ir,this)._uiManager._signal;t.addEventListener("contextmenu",xn,{signal:n}),t.addEventListener("pointerdown",t=>t.stopPropagation(),{signal:n});const A=t=>{t.preventDefault(),(0,te.A)(ir,this)._uiManager.editAltText((0,te.A)(ir,this)),(0,te.A)(ar,this)&&(0,te.A)(ir,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:(0,$t.A)(or,this,cr)}})};return t.addEventListener("click",A,{capture:!0,signal:n}),t.addEventListener("keydown",e=>{e.target===t&&"Enter"===e.key&&((0,ee.A)(nr,this,!0),A(e))},{signal:n}),await(0,Ae.A)(or,this,hr).call(this),t}finish(){(0,te.A)(Zi,this)&&((0,te.A)(Zi,this).focus({focusVisible:(0,te.A)(nr,this)}),(0,ee.A)(nr,this,!1))}isEmpty(){return(0,te.A)(ar,this)?null===(0,te.A)(Yi,this):!(0,te.A)(Yi,this)&&!(0,te.A)(Ji,this)}hasData(){return(0,te.A)(ar,this)?null!==(0,te.A)(Yi,this)||!!(0,te.A)(rr,this):this.isEmpty()}get guessedText(){return(0,te.A)(rr,this)}async setGuessedText(t){null===(0,te.A)(Yi,this)&&((0,ee.A)(rr,this,t),(0,ee.A)(sr,this,await lr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),(0,Ae.A)(or,this,hr).call(this))}toggleAltTextBadge(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;if(!(0,te.A)(ar,this)||(0,te.A)(Yi,this))return null===(e=(0,te.A)(Ar,this))||void 0===e||e.remove(),void(0,ee.A)(Ar,this,null);if(!(0,te.A)(Ar,this)){const t=(0,ee.A)(Ar,this,document.createElement("div"));t.className="noAltTextBadge",(0,te.A)(ir,this).div.append(t)}(0,te.A)(Ar,this).classList.toggle("hidden",!t)}serialize(t){let e=(0,te.A)(Yi,this);return t||(0,te.A)(rr,this)!==e||(e=(0,te.A)(sr,this)),{altText:e,decorative:(0,te.A)(Ji,this),guessedText:(0,te.A)(rr,this),textWithDisclaimer:(0,te.A)(sr,this)}}get data(){return{altText:(0,te.A)(Yi,this),decorative:(0,te.A)(Ji,this)}}set data(t){let{altText:e,decorative:n,guessedText:A,textWithDisclaimer:i,cancel:r=!1}=t;A&&((0,ee.A)(rr,this,A),(0,ee.A)(sr,this,i)),(0,te.A)(Yi,this)===e&&(0,te.A)(Ji,this)===n||(r||((0,ee.A)(Yi,this,e),(0,ee.A)(Ji,this,n)),(0,Ae.A)(or,this,hr).call(this))}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,te.A)(Zi,this)&&(!t&&(0,te.A)(er,this)&&(clearTimeout((0,te.A)(er,this)),(0,ee.A)(er,this,null)),(0,te.A)(Zi,this).disabled=!t)}shown(){(0,te.A)(ir,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:(0,$t.A)(or,this,cr)}})}destroy(){var t,e;null===(t=(0,te.A)(Zi,this))||void 0===t||t.remove(),(0,ee.A)(Zi,this,null),(0,ee.A)($i,this,null),(0,ee.A)(tr,this,null),null===(e=(0,te.A)(Ar,this))||void 0===e||e.remove(),(0,ee.A)(Ar,this,null)}}function cr(t){return((0,te.A)(Yi,t)?"added":null===(0,te.A)(Yi,t)&&t.guessedText&&"review")||"missing"}async function hr(){const t=(0,te.A)(Zi,this);if(!t)return;if((0,te.A)(ar,this)){var e,n;if(t.classList.toggle("done",!!(0,te.A)(Yi,this)),t.setAttribute("data-l10n-id",ur._[(0,$t.A)(or,this,cr)]),null===(e=(0,te.A)($i,this))||void 0===e||e.setAttribute("data-l10n-id",ur._["".concat((0,$t.A)(or,this,cr),"-label")]),!(0,te.A)(Yi,this))return void(null===(n=(0,te.A)(tr,this))||void 0===n||n.remove())}else{var A;if(!(0,te.A)(Yi,this)&&!(0,te.A)(Ji,this))return t.classList.remove("done"),void(null===(A=(0,te.A)(tr,this))||void 0===A||A.remove());t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=(0,te.A)(tr,this);if(!i){(0,ee.A)(tr,this,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id="alt-text-tooltip-".concat((0,te.A)(ir,this).id);const e=100,n=(0,te.A)(ir,this)._uiManager._signal;n.addEventListener("abort",()=>{clearTimeout((0,te.A)(er,this)),(0,ee.A)(er,this,null)},{once:!0}),t.addEventListener("mouseenter",()=>{(0,ee.A)(er,this,setTimeout(()=>{(0,ee.A)(er,this,null),(0,te.A)(tr,this).classList.add("show"),(0,te.A)(ir,this)._reportTelemetry({action:"alt_text_tooltip"})},e))},{signal:n}),t.addEventListener("mouseleave",()=>{var t;(0,te.A)(er,this)&&(clearTimeout((0,te.A)(er,this)),(0,ee.A)(er,this,null)),null===(t=(0,te.A)(tr,this))||void 0===t||t.classList.remove("show")},{signal:n})}(0,te.A)(Ji,this)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=(0,te.A)(Yi,this)),i.parentNode||t.append(i);const r=(0,te.A)(ir,this).getElementForAltText();null===r||void 0===r||r.setAttribute("aria-describedby",i.id)}var ur={_:null};(0,ne.A)(lr,"_l10n",null);var dr=new WeakMap,pr=new WeakMap,gr=new WeakMap,fr=new WeakMap,mr=new WeakMap,vr=new WeakMap,wr=new WeakMap,Br=new WeakMap,yr=new WeakMap,br=new WeakMap,Cr=new WeakSet;class _r{constructor(t){(0,Jt.A)(this,Cr),(0,Zt.A)(this,dr,null),(0,Zt.A)(this,pr,null),(0,Zt.A)(this,gr,!1),(0,Zt.A)(this,fr,null),(0,Zt.A)(this,mr,null),(0,Zt.A)(this,vr,null),(0,Zt.A)(this,wr,null),(0,Zt.A)(this,Br,null),(0,Zt.A)(this,yr,!1),(0,Zt.A)(this,br,null),(0,ee.A)(fr,this,t)}renderForToolbar(){const t=(0,ee.A)(pr,this,document.createElement("button"));return t.className="comment",(0,Ae.A)(Cr,this,Fr).call(this,t,!1)}renderForStandalone(){const t=(0,ee.A)(dr,this,document.createElement("button"));t.className="annotationCommentButton";const e=(0,te.A)(fr,this).commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd="calc(".concat(100*("ltr"===(0,te.A)(fr,this)._uiManager.direction?1-e[0]:e[0]),"% - var(--comment-button-dim))"),n.top="calc(".concat(100*e[1],"% - var(--comment-button-dim))");const A=(0,te.A)(fr,this).commentButtonColor;A&&(n.backgroundColor=A)}return(0,Ae.A)(Cr,this,Fr).call(this,t,!0)}focusButton(){setTimeout(()=>{var t,e;null===(t=null!==(e=(0,te.A)(dr,this))&&void 0!==e?e:(0,te.A)(pr,this))||void 0===t||t.focus()},0)}onUpdatedColor(){if(!(0,te.A)(dr,this))return;const t=(0,te.A)(fr,this).commentButtonColor;t&&((0,te.A)(dr,this).style.backgroundColor=t),(0,te.A)(fr,this)._uiManager.updatePopupColor((0,te.A)(fr,this))}get commentButtonWidth(){var t,e;return(null!==(t=null===(e=(0,te.A)(dr,this))||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==t?t:0)/(0,te.A)(fr,this).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if((0,te.A)(br,this))return(0,te.A)(br,this);if(!(0,te.A)(dr,this))return null;const{x:t,y:e,height:n}=(0,te.A)(dr,this).getBoundingClientRect(),{x:A,y:i,width:r,height:s}=(0,te.A)(fr,this).parent.boundingClientRect;return[(t-A)/r,(e+n-i)/s]}set commentPopupPositionInLayer(t){(0,ee.A)(br,this,t)}hasDefaultPopupPosition(){return null===(0,te.A)(br,this)}removeStandaloneCommentButton(){var t;null===(t=(0,te.A)(dr,this))||void 0===t||t.remove(),(0,ee.A)(dr,this,null)}removeToolbarCommentButton(){var t;null===(t=(0,te.A)(pr,this))||void 0===t||t.remove(),(0,ee.A)(pr,this,null)}setCommentButtonStates(t){let{selected:e,hasPopup:n}=t;(0,te.A)(dr,this)&&((0,te.A)(dr,this).classList.toggle("selected",e),(0,te.A)(dr,this).ariaExpanded=n)}edit(t){const e=this.commentPopupPositionInLayer;let n,A;if(e)[n,A]=e;else{[n,A]=(0,te.A)(fr,this).commentButtonPosition;const{width:t,height:e,x:i,y:r}=(0,te.A)(fr,this);n=i+n*t,A=r+A*e}const i=(0,te.A)(fr,this).parent.boundingClientRect,{x:r,y:s,width:a,height:o}=i;(0,te.A)(fr,this)._uiManager.editComment((0,te.A)(fr,this),r+n*a,s+A*o,(0,Yt.A)((0,Yt.A)({},t),{},{parentDimensions:i}))}finish(){(0,te.A)(pr,this)&&((0,te.A)(pr,this).focus({focusVisible:(0,te.A)(gr,this)}),(0,ee.A)(gr,this,!1))}isDeleted(){return(0,te.A)(yr,this)||""===(0,te.A)(wr,this)}isEmpty(){return null===(0,te.A)(wr,this)}hasBeenEdited(){return this.isDeleted()||(0,te.A)(wr,this)!==(0,te.A)(mr,this)}serialize(){return this.data}get data(){return{text:(0,te.A)(wr,this),richText:(0,te.A)(vr,this),date:(0,te.A)(Br,this),deleted:this.isDeleted()}}set data(t){if(t!==(0,te.A)(wr,this)&&(0,ee.A)(vr,this,null),null===t)return(0,ee.A)(wr,this,""),void(0,ee.A)(yr,this,!0);(0,ee.A)(wr,this,t),(0,ee.A)(Br,this,new Date),(0,ee.A)(yr,this,!1)}setInitialText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,ee.A)(mr,this,t),this.data=t,(0,ee.A)(Br,this,null),(0,ee.A)(vr,this,e)}shown(){}destroy(){var t,e;null===(t=(0,te.A)(pr,this))||void 0===t||t.remove(),(0,ee.A)(pr,this,null),null===(e=(0,te.A)(dr,this))||void 0===e||e.remove(),(0,ee.A)(dr,this,null),(0,ee.A)(wr,this,""),(0,ee.A)(vr,this,null),(0,ee.A)(Br,this,null),(0,ee.A)(fr,this,null),(0,ee.A)(gr,this,!1),(0,ee.A)(yr,this,!1)}}function Fr(t,e){if(!(0,te.A)(fr,this)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[(0,te.A)(fr,this)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=(0,te.A)(fr,this)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",xn,{signal:n}),e&&(t.addEventListener("focusin",t=>{(0,te.A)(fr,this)._focusEventsAllowed=!1,Sn(t)},{capture:!0,signal:n}),t.addEventListener("focusout",t=>{(0,te.A)(fr,this)._focusEventsAllowed=!0,Sn(t)},{capture:!0,signal:n})),t.addEventListener("pointerdown",t=>t.stopPropagation(),{signal:n});const A=e=>{e.preventDefault(),t===(0,te.A)(pr,this)?this.edit():(0,te.A)(fr,this).toggleComment(!0)};return t.addEventListener("click",A,{capture:!0,signal:n}),t.addEventListener("keydown",e=>{e.target===t&&"Enter"===e.key&&((0,ee.A)(gr,this,!0),A(e))},{signal:n}),t.addEventListener("pointerenter",()=>{(0,te.A)(fr,this).toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{(0,te.A)(fr,this).toggleComment(!1,!1)},{signal:n}),t}var Er=new WeakMap,xr=new WeakMap,Sr=new WeakMap,kr=new WeakMap,Ur=new WeakMap,Qr=new WeakMap,Pr=new WeakMap,Mr=new WeakMap,Ir=new WeakMap,Tr=new WeakMap,Dr=new WeakMap,Lr=new WeakMap,Rr=new WeakSet;class Or{constructor(t){let{container:e,isPinchingDisabled:n=null,isPinchingStopped:A=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:s=null,signal:a}=t;(0,Jt.A)(this,Rr),(0,Zt.A)(this,Er,void 0),(0,Zt.A)(this,xr,!1),(0,Zt.A)(this,Sr,null),(0,Zt.A)(this,kr,void 0),(0,Zt.A)(this,Ur,void 0),(0,Zt.A)(this,Qr,void 0),(0,Zt.A)(this,Pr,void 0),(0,Zt.A)(this,Mr,null),(0,Zt.A)(this,Ir,void 0),(0,Zt.A)(this,Tr,null),(0,Zt.A)(this,Dr,void 0),(0,Zt.A)(this,Lr,null),(0,ee.A)(Er,this,e),(0,ee.A)(Sr,this,A),(0,ee.A)(kr,this,n),(0,ee.A)(Ur,this,i),(0,ee.A)(Qr,this,r),(0,ee.A)(Pr,this,s),(0,ee.A)(Dr,this,new AbortController),(0,ee.A)(Ir,this,AbortSignal.any([a,(0,te.A)(Dr,this).signal])),e.addEventListener("touchstart",(0,Ae.A)(Rr,this,Hr).bind(this),{passive:!1,signal:(0,te.A)(Ir,this)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Tn.pixelRatio}destroy(){var t,e;null===(t=(0,te.A)(Dr,this))||void 0===t||t.abort(),(0,ee.A)(Dr,this,null),null===(e=(0,te.A)(Mr,this))||void 0===e||e.abort(),(0,ee.A)(Mr,this,null)}}function Hr(t){var e,n;if(null!==(e=(0,te.A)(kr,this))&&void 0!==e&&e.call(this))return;if(1===t.touches.length){if((0,te.A)(Mr,this))return;const t=(0,ee.A)(Mr,this,new AbortController),e=AbortSignal.any([(0,te.A)(Ir,this),t.signal]),n=(0,te.A)(Er,this),A={capture:!0,signal:e,passive:!1},i=t=>{var e;"touch"===t.pointerType&&(null===(e=(0,te.A)(Mr,this))||void 0===e||e.abort(),(0,ee.A)(Mr,this,null))};return n.addEventListener("pointerdown",t=>{"touch"===t.pointerType&&(Sn(t),i(t))},A),n.addEventListener("pointerup",i,A),void n.addEventListener("pointercancel",i,A)}if(!(0,te.A)(Lr,this)){var A;(0,ee.A)(Lr,this,new AbortController);const t=AbortSignal.any([(0,te.A)(Ir,this),(0,te.A)(Lr,this).signal]),e=(0,te.A)(Er,this),n={signal:t,capture:!1,passive:!1};e.addEventListener("touchmove",(0,Ae.A)(Rr,this,Nr).bind(this),n);const i=(0,Ae.A)(Rr,this,Gr).bind(this);e.addEventListener("touchend",i,n),e.addEventListener("touchcancel",i,n),n.capture=!0,e.addEventListener("pointerdown",Sn,n),e.addEventListener("pointermove",Sn,n),e.addEventListener("pointercancel",Sn,n),e.addEventListener("pointerup",Sn,n),null===(A=(0,te.A)(Ur,this))||void 0===A||A.call(this)}if(Sn(t),2!==t.touches.length||null!==(n=(0,te.A)(Sr,this))&&void 0!==n&&n.call(this))return void(0,ee.A)(Tr,this,null);let[i,r]=t.touches;i.identifier>r.identifier&&([i,r]=[r,i]),(0,ee.A)(Tr,this,{touch0X:i.screenX,touch0Y:i.screenY,touch1X:r.screenX,touch1Y:r.screenY})}function Nr(t){var e;if(!(0,te.A)(Tr,this)||2!==t.touches.length)return;Sn(t);let[n,A]=t.touches;n.identifier>A.identifier&&([n,A]=[A,n]);const{screenX:i,screenY:r}=n,{screenX:s,screenY:a}=A,o=(0,te.A)(Tr,this),{touch0X:l,touch0Y:c,touch1X:h,touch1Y:u}=o,d=h-l,p=u-c,g=s-i,f=a-r,m=Math.hypot(g,f)||1,v=Math.hypot(d,p)||1;if(!(0,te.A)(xr,this)&&Math.abs(v-m)<=It.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(o.touch0X=i,o.touch0Y=r,o.touch1X=s,o.touch1Y=a,!(0,te.A)(xr,this))return void(0,ee.A)(xr,this,!0);const w=[(i+s)/2,(r+a)/2];null===(e=(0,te.A)(Qr,this))||void 0===e||e.call(this,w,v,m)}function Gr(t){if(!(t.touches.length>=2)){var e;if((0,te.A)(Lr,this))(0,te.A)(Lr,this).abort(),(0,ee.A)(Lr,this,null),null===(e=(0,te.A)(Pr,this))||void 0===e||e.call(this);(0,te.A)(Tr,this)&&(Sn(t),(0,ee.A)(Tr,this,null),(0,ee.A)(xr,this,!1))}}It=Or;var Kr=new WeakMap,Wr=new WeakMap,jr=new WeakMap,Vr=new WeakMap,zr=new WeakMap,Xr=new WeakMap,qr=new WeakMap,Yr=new WeakMap,Jr=new WeakMap,Zr=new WeakMap,$r=new WeakMap,ts=new WeakMap,es=new WeakMap,ns=new WeakMap,As=new WeakMap,is=new WeakMap,rs=new WeakMap,ss=new WeakMap,as=new WeakMap,os=new WeakMap,ls=new WeakMap,cs=new WeakMap,hs=new WeakMap,us=new WeakMap,ds=new WeakMap,ps=new WeakMap,gs=new WeakSet;class fs{static get _resizerKeyboardManager(){const t=fs.prototype._resizeWithKeyboard,e=Si.TRANSLATE_SMALL,n=Si.TRANSLATE_BIG;return Xe(this,"_resizerKeyboardManager",new kA([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],fs.prototype._stopResizingWithKeyboard]]))}constructor(t){(0,Jt.A)(this,gs),(0,Zt.A)(this,Kr,null),(0,Zt.A)(this,Wr,null),(0,Zt.A)(this,jr,null),(0,Zt.A)(this,Vr,null),(0,Zt.A)(this,zr,null),(0,Zt.A)(this,Xr,!1),(0,Zt.A)(this,qr,null),(0,Zt.A)(this,Yr,""),(0,Zt.A)(this,Jr,null),(0,Zt.A)(this,Zr,null),(0,Zt.A)(this,$r,null),(0,Zt.A)(this,ts,null),(0,Zt.A)(this,es,null),(0,Zt.A)(this,ns,""),(0,Zt.A)(this,As,!1),(0,Zt.A)(this,is,null),(0,Zt.A)(this,rs,!1),(0,Zt.A)(this,ss,!1),(0,Zt.A)(this,as,!1),(0,Zt.A)(this,os,null),(0,Zt.A)(this,ls,0),(0,Zt.A)(this,cs,0),(0,Zt.A)(this,hs,null),(0,Zt.A)(this,us,null),(0,ne.A)(this,"isSelected",!1),(0,ne.A)(this,"_isCopy",!1),(0,ne.A)(this,"_editToolbar",null),(0,ne.A)(this,"_initialOptions",Object.create(null)),(0,ne.A)(this,"_initialData",null),(0,ne.A)(this,"_isVisible",!0),(0,ne.A)(this,"_uiManager",null),(0,ne.A)(this,"_focusEventsAllowed",!0),(0,Zt.A)(this,ds,!1),(0,Zt.A)(this,ps,fs._zIndex++),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:A,pageX:i,pageY:r}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,A],this.pageTranslation=[i,r];const[s,a]=this.parentDimensions;this.x=t.x/s,this.y=t.y/a,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Xe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Ds({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){var n;if(null!==(n=fs._l10n)&&void 0!==n||(fs._l10n=t),fs._l10nResizer||(fs._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==fs._borderLineWidth)return;const A=getComputedStyle(document.documentElement);fs._borderLineWidth=parseFloat(A.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){We("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return(0,te.A)(ds,this)}set _isDraggable(t){var e;(0,ee.A)(ds,this,t),null===(e=this.div)||void 0===e||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=(0,te.A)(ps,this)}setParent(t){var e;null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):((0,Ae.A)(gs,this,Ts).call(this),null===(e=(0,te.A)(ts,this))||void 0===e||e.remove(),(0,ee.A)(ts,this,null));this.parent=t}focusin(t){this._focusEventsAllowed&&((0,te.A)(As,this)?(0,ee.A)(As,this,!1):this.parent.setSelected(this))}focusout(t){var e;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=t.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(t.preventDefault(),null!==(e=this.parent)&&void 0!==e&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,A){const[i,r]=this.parentDimensions;[n,A]=this.screenToPageTranslation(n,A),this.x=(t+n)/i,this.y=(e+A)/r,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,A]=this.parentDimensions;this.setAt(t*n,e*A,this.width*n,this.height*A),this._onTranslated()}translate(t,e){(0,Ae.A)(gs,this,ms).call(this,this.parentDimensions,t,e)}translateInPage(t,e){(0,te.A)(is,this)||(0,ee.A)(is,this,[this.x,this.y,this.width,this.height]),(0,Ae.A)(gs,this,ms).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){(0,te.A)(is,this)||(0,ee.A)(is,this,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[A,i]}=this;if(this.x+=t/A,this.y+=e/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:s}=this;const[a,o]=this.getBaseTranslation();r+=a,s+=o;const{style:l}=n;l.left="".concat((100*r).toFixed(2),"%"),l.top="".concat((100*s).toFixed(2),"%"),this._onTranslating(r,s),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!(0,te.A)(is,this)&&((0,te.A)(is,this)[0]!==this.x||(0,te.A)(is,this)[1]!==this.y)}get _hasBeenResized(){return!!(0,te.A)(is,this)&&((0,te.A)(is,this)[2]!==this.width||(0,te.A)(is,this)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=fs,A=n/t,i=n/e;switch(this.rotation){case 90:return[-A,i];case 180:return[A,i];case 270:return[A,-i];default:return[-A,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:e},pageDimensions:[n,A]}=this;let{x:i,y:r,width:s,height:a}=this;if(s*=n,a*=A,i*=n,r*=A,this._mustFixPosition)switch(t){case 0:i=pn(i,0,n-s),r=pn(r,0,A-a);break;case 90:i=pn(i,0,n-a),r=pn(r,s,A);break;case 180:i=pn(i,s,n),r=pn(r,a,A);break;case 270:i=pn(i,a,n),r=pn(r,0,A-s)}this.x=i/=n,this.y=r/=A;const[o,l]=this.getBaseTranslation();i+=o,r+=l,e.left="".concat((100*i).toFixed(2),"%"),e.top="".concat((100*r).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(t,e){return vs.call(fs,t,e,this.parentRotation)}pageTranslationToScreen(t,e){return vs.call(fs,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width="".concat((100*e).toFixed(2),"%"),t.height="".concat((100*n).toFixed(2),"%")}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(1e4*t)/1e4}_onResizing(){}altTextFinish(){var t;null===(t=(0,te.A)(jr,this))||void 0===t||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||(0,te.A)(ss,this))return this._editToolbar;this._editToolbar=new $n(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;null===(t=this._editToolbar)||void 0===t||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;null===(t=this._editToolbar)||void 0===t||t.removeButton("comment")}removeEditToolbar(){var t,e;null===(t=this._editToolbar)||void 0===t||t.remove(),this._editToolbar=null,null===(e=(0,te.A)(jr,this))||void 0===e||e.destroy()}addContainer(t){var e;const n=null===(e=this._editToolbar)||void 0===e?void 0:e.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return(0,te.A)(jr,this)||(lr.initialize(fs._l10n),(0,ee.A)(jr,this,new lr(this)),(0,te.A)(Kr,this)&&((0,te.A)(jr,this).data=(0,te.A)(Kr,this),(0,ee.A)(Kr,this,null))),(0,te.A)(jr,this)}get altTextData(){var t;return null===(t=(0,te.A)(jr,this))||void 0===t?void 0:t.data}set altTextData(t){(0,te.A)(jr,this)&&((0,te.A)(jr,this).data=t)}get guessedAltText(){var t;return null===(t=(0,te.A)(jr,this))||void 0===t?void 0:t.guessedText}async setGuessedAltText(t){var e;await(null===(e=(0,te.A)(jr,this))||void 0===e?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return null===(e=(0,te.A)(jr,this))||void 0===e?void 0:e.serialize(t)}hasAltText(){return!!(0,te.A)(jr,this)&&!(0,te.A)(jr,this).isEmpty()}hasAltTextData(){var t,e;return null!==(t=null===(e=(0,te.A)(jr,this))||void 0===e?void 0:e.hasData())&&void 0!==t&&t}focusCommentButton(){var t;null===(t=(0,te.A)(Vr,this))||void 0===t||t.focusButton()}addCommentButton(){return(0,te.A)(Vr,this)||(0,ee.A)(Vr,this,new _r(this))}addStandaloneCommentButton(){(0,te.A)(zr,this)?this._uiManager.isEditingMode()&&(0,te.A)(zr,this).classList.remove("hidden"):this.hasComment&&((0,ee.A)(zr,this,(0,te.A)(Vr,this).renderForStandalone()),this.div.append((0,te.A)(zr,this)))}removeStandaloneCommentButton(){(0,te.A)(Vr,this).removeStandaloneCommentButton(),(0,ee.A)(zr,this,null)}hideStandaloneCommentButton(){var t;null===(t=(0,te.A)(zr,this))||void 0===t||t.classList.add("hidden")}get comment(){var t;const{data:{richText:e,text:n,date:A,deleted:i}}=(0,te.A)(Vr,this);return{text:n,richText:e,date:A,deleted:i,color:this.getNonHCMColor(),opacity:null!==(t=this.opacity)&&void 0!==t?t:1}}set comment(t){(0,te.A)(Vr,this)||(0,ee.A)(Vr,this,new _r(this)),(0,te.A)(Vr,this).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData(t){let{comment:e,popupRef:n,richText:A}=t;if(!n)return;if((0,te.A)(Vr,this)||(0,ee.A)(Vr,this,new _r(this)),(0,te.A)(Vr,this).setInitialText(e,A),!this.annotationElementId)return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var t;return null===(t=(0,te.A)(Vr,this))||void 0===t?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return null===(t=(0,te.A)(Vr,this))||void 0===t?void 0:t.isDeleted()}get hasComment(){return!!(0,te.A)(Vr,this)&&!(0,te.A)(Vr,this).isEmpty()&&!(0,te.A)(Vr,this).isDeleted()}async editComment(t){(0,te.A)(Vr,this)||(0,ee.A)(Vr,this,new _r(this)),(0,te.A)(Vr,this).edit(t)}toggleComment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){(0,te.A)(Vr,this).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const e=180,n=100,[,,,A]=t.rect,[i]=this.pageDimensions,[r]=this.pageTranslation,s=r+i+1,a=A-n,o=s+e;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[s,a,o,A]}}}updateFromAnnotationLayer(t){let{popup:{contents:e,deleted:n}}=t;(0,te.A)(Vr,this).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var t;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=(0,te.A)(Xr,this)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),(0,Ae.A)(gs,this,Us).call(this);const[n,A]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth="".concat((100*A/n).toFixed(2),"%"),e.style.maxHeight="".concat((100*n/A).toFixed(2),"%"));const[i,r]=this.getInitialTranslation();return this.translate(i,r),pA(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&((0,te.A)(us,this)||(0,ee.A)(us,this,new Or({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:(0,Ae.A)(gs,this,Fs).bind(this),onPinching:(0,Ae.A)(gs,this,Es).bind(this),onPinchEnd:(0,Ae.A)(gs,this,xs).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),null===(t=this._uiManager._editorUndoBar)||void 0===t||t.hide(),e}pointerdown(t){const{isMac:e}=rn.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():((0,ee.A)(As,this,!0),this._isDraggable?(0,Ae.A)(gs,this,ks).call(this,t):(0,Ae.A)(gs,this,Ss).call(this,t))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){(0,te.A)(os,this)&&clearTimeout((0,te.A)(os,this)),(0,ee.A)(os,this,setTimeout(()=>{var t;(0,ee.A)(os,this,null),null===(t=this.parent)||void 0===t||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const A=this.parentScale,[i,r]=this.pageDimensions,[s,a]=this.pageTranslation,o=t/A,l=e/A,c=this.x*i,h=this.y*r,u=this.width*i,d=this.height*r;switch(n){case 0:return[c+o+s,r-h-l-d+a,c+o+u+s,r-h-l+a];case 90:return[c+l+s,r-h+o+a,c+l+d+s,r-h+o+u+a];case 180:return[c-o-u+s,r-h+l+a,c-o+s,r-h+l+d+a];case 270:return[c-l-d+s,r-h-o-u+a,c-l+s,r-h-o+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,A,i,r]=t,s=i-n,a=r-A;switch(this.rotation){case 0:return[n,e-r,s,a];case 90:return[n,e-A,a,s];case 180:return[i,e-A,s,a];case 270:return[i,e-r,a,s];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&fs._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;null===(t=(0,te.A)(Vr,this))||void 0===t||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:A,deleted:i,richText:r},uid:s,pageIndex:a,creationDate:o,modificationDate:l}=this;return{id:s,pageIndex:a,rect:this.getPDFRect(),richText:r,contentsObj:{str:t},creationDate:o,modificationDate:n||l,popupRef:!i,color:e,opacity:A}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),(0,ee.A)(ss,this,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),(0,ee.A)(ss,this,!1),!0)}isInEditMode(){return(0,te.A)(ss,this)}shouldGetKeyboardEvents(){return(0,te.A)(as,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:A}=this.getClientDimensions(),{innerHeight:i,innerWidth:r}=window;return e<r&&A>0&&t<i&&n>0}rebuild(){(0,Ae.A)(gs,this,Us).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}serialize(){var t;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}static async deserialize(t,e,n){const A=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});A.rotation=t.rotation,(0,ee.A)(Kr,A,t.accessibilityData),A._isCopy=t.isCopy||!1;const[i,r]=A.pageDimensions,[s,a,o,l]=A.getRectInCurrentCoords(t.rect,r);return A.x=s/i,A.y=a/r,A.width=o/i,A.height=l/r,A}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var t,e;if(null===(t=(0,te.A)(es,this))||void 0===t||t.abort(),(0,ee.A)(es,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(0,te.A)(os,this)&&(clearTimeout((0,te.A)(os,this)),(0,ee.A)(os,this,null)),(0,Ae.A)(gs,this,Ts).call(this),this.removeEditToolbar(),(0,te.A)(hs,this)){for(const t of(0,te.A)(hs,this).values())clearTimeout(t);(0,ee.A)(hs,this,null)}this.parent=null,null===(e=(0,te.A)(us,this))||void 0===e||e.destroy(),(0,ee.A)(us,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&((0,Ae.A)(gs,this,Bs).call(this),(0,te.A)(Jr,this).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return"ltr"===this._uiManager.direction?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,A,i,r]=this.getPDFRect();return[fs._round(n+(i-n)*t),fs._round(A+(r-A)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return(0,te.A)(Vr,this).commentPopupPositionInLayer}set commentPopupPosition(t){(0,te.A)(Vr,this).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return(0,te.A)(Vr,this).hasDefaultPopupPosition()}get commentButtonWidth(){return(0,te.A)(Vr,this).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){(0,te.A)(Vr,this).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),(0,ee.A)($r,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=(0,te.A)(Jr,this).children;if(!(0,te.A)(Wr,this)){(0,ee.A)(Wr,this,Array.from(e));const t=(0,Ae.A)(gs,this,Qs).bind(this),n=(0,Ae.A)(gs,this,Ps).bind(this),A=this._uiManager._signal;for(const e of(0,te.A)(Wr,this)){const i=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t,{signal:A}),e.addEventListener("blur",n,{signal:A}),e.addEventListener("focus",(0,Ae.A)(gs,this,Ms).bind(this,i),{signal:A}),e.setAttribute("data-l10n-id",fs._l10nResizer[i])}}const n=(0,te.A)(Wr,this)[0];let A=0;for(const r of e){if(r===n)break;A++}const i=(360-this.rotation+this.parentRotation)%360/90*((0,te.A)(Wr,this).length/4);if(i!==A){if(i<A)for(let e=0;e<A-i;e++)(0,te.A)(Jr,this).append((0,te.A)(Jr,this).firstChild);else if(i>A)for(let e=0;e<i-A;e++)(0,te.A)(Jr,this).firstChild.before((0,te.A)(Jr,this).lastChild);let t=0;for(const n of e){const e=(0,te.A)(Wr,this)[t++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",fs._l10nResizer[e])}}(0,Ae.A)(gs,this,Is).call(this,0),(0,ee.A)(as,this,!0),(0,te.A)(Jr,this).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){(0,te.A)(as,this)&&(0,Ae.A)(gs,this,_s).call(this,(0,te.A)(ns,this),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){(0,Ae.A)(gs,this,Ts).call(this),this.div.focus()}select(){var t,e,n;this.isSelected&&this._editToolbar?this._editToolbar.show():(this.isSelected=!0,this.makeResizable(),null===(t=this.div)||void 0===t||t.classList.add("selectedEditor"),this._editToolbar?(null===(e=this._editToolbar)||void 0===e||e.show(),null===(n=(0,te.A)(jr,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{var t,e;null!==(t=this.div)&&void 0!==t&&t.classList.contains("selectedEditor")&&(null===(e=this._editToolbar)||void 0===e||e.show())}))}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var t;return null===(t=this.div)||void 0===t?void 0:t.focus({preventScroll:!0})},0)}unselect(){var t,e,n,A,i;this.isSelected&&(this.isSelected=!1,null===(t=(0,te.A)(Jr,this))||void 0===t||t.classList.add("hidden"),null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(A=this._editToolbar)||void 0===A||A.hide(),null===(i=(0,te.A)(jr,this))||void 0===i||i.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){"BUTTON"!==t.target.nodeName&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return(0,te.A)(rs,this)}set isEditing(t){(0,ee.A)(rs,this,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){(0,te.A)(hs,this)||(0,ee.A)(hs,this,new Map);const{action:e}=t;let n=(0,te.A)(hs,this).get(e);return n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(t),(0,te.A)(hs,this).delete(e),0===(0,te.A)(hs,this).size&&(0,ee.A)(hs,this,null)},fs._telemetryTimeout),void(0,te.A)(hs,this).set(e,n)}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),(0,ee.A)(Xr,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),(0,ee.A)(Xr,this,!0)}updateFakeAnnotationElement(t){if((0,te.A)(ts,this)||this.deleted)return this.deleted?((0,te.A)(ts,this).remove(),void(0,ee.A)(ts,this,null)):void((this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&(0,te.A)(ts,this).updateEdited({rect:this.getPDFRect(),popup:this.comment}));(0,ee.A)(ts,this,t.addFakeAnnotation(this))}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const t=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstChild:e}=t.container;"DIV"===(null===e||void 0===e?void 0:e.nodeName)&&e.classList.contains("annotationContent")&&e.remove()}}function ms(t,e,n){let[A,i]=t;[e,n]=this.screenToPageTranslation(e,n),this.x+=e/A,this.y+=n/i,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function vs(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}function ws(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}function Bs(){if((0,te.A)(Jr,this))return;(0,ee.A)(Jr,this,document.createElement("div")),(0,te.A)(Jr,this).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const t=document.createElement("div");(0,te.A)(Jr,this).append(t),t.classList.add("resizer",n),t.setAttribute("data-resizer-name",n),t.addEventListener("pointerdown",(0,Ae.A)(gs,this,ys).bind(this,n),{signal:e}),t.addEventListener("contextmenu",xn,{signal:e}),t.tabIndex=-1}this.div.prepend((0,te.A)(Jr,this))}function ys(t,e){var n;e.preventDefault();const{isMac:A}=rn.platform;if(0!==e.button||e.ctrlKey&&A)return;null===(n=(0,te.A)(jr,this))||void 0===n||n.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,(0,ee.A)(Zr,this,[e.screenX,e.screenY]);const r=new AbortController,s=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",(0,Ae.A)(gs,this,_s).bind(this,t),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Sn,{passive:!1,signal:s}),window.addEventListener("contextmenu",xn,{signal:s}),(0,ee.A)($r,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,o=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const l=()=>{var t;r.abort(),this.parent.togglePointerEvents(!0),null===(t=(0,te.A)(jr,this))||void 0===t||t.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=o,(0,Ae.A)(gs,this,Cs).call(this)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}function bs(t,e,n,A){this.width=n,this.height=A,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}function Cs(){if(!(0,te.A)($r,this))return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:A}=(0,te.A)($r,this);(0,ee.A)($r,this,null);const i=this.x,r=this.y,s=this.width,a=this.height;i===t&&r===e&&s===n&&a===A||this.addCommands({cmd:(0,Ae.A)(gs,this,bs).bind(this,i,r,s,a),undo:(0,Ae.A)(gs,this,bs).bind(this,t,e,n,A),mustExec:!0})}function _s(t,e){const[n,A]=this.parentDimensions,i=this.x,r=this.y,s=this.width,a=this.height,o=Tt.MIN_SIZE/n,l=Tt.MIN_SIZE/A,c=(0,Ae.A)(gs,this,ws).call(this,this.rotation),h=(t,e)=>[c[0]*t+c[2]*e,c[1]*t+c[3]*e],u=(0,Ae.A)(gs,this,ws).call(this,360-this.rotation);let d,p,g=!1,f=!1;switch(t){case"topLeft":g=!0,d=(t,e)=>[0,0],p=(t,e)=>[t,e];break;case"topMiddle":d=(t,e)=>[t/2,0],p=(t,e)=>[t/2,e];break;case"topRight":g=!0,d=(t,e)=>[t,0],p=(t,e)=>[0,e];break;case"middleRight":f=!0,d=(t,e)=>[t,e/2],p=(t,e)=>[0,e/2];break;case"bottomRight":g=!0,d=(t,e)=>[t,e],p=(t,e)=>[0,0];break;case"bottomMiddle":d=(t,e)=>[t/2,e],p=(t,e)=>[t/2,0];break;case"bottomLeft":g=!0,d=(t,e)=>[0,e],p=(t,e)=>[t,0];break;case"middleLeft":f=!0,d=(t,e)=>[0,e/2],p=(t,e)=>[t,e/2]}const m=d(s,a),v=p(s,a);let w=h(...v);const B=Tt._round(i+w[0]),y=Tt._round(r+w[1]);let b,C,_=1,F=1;if(e.fromKeyboard)({deltaX:b,deltaY:C}=e);else{const{screenX:t,screenY:n}=e,[A,i]=(0,te.A)(Zr,this);[b,C]=this.screenToPageTranslation(t-A,n-i),(0,te.A)(Zr,this)[0]=t,(0,te.A)(Zr,this)[1]=n}var E,x;if([b,C]=(E=b/n,x=C/A,[u[0]*E+u[2]*x,u[1]*E+u[3]*x]),g){const t=Math.hypot(s,a);_=F=Math.max(Math.min(Math.hypot(v[0]-m[0]-b,v[1]-m[1]-C)/t,1/s,1/a),o/s,l/a)}else f?_=pn(Math.abs(v[0]-m[0]-b),o,1)/s:F=pn(Math.abs(v[1]-m[1]-C),l,1)/a;const S=Tt._round(s*_),k=Tt._round(a*F);w=h(...p(S,k));const U=B-w[0],Q=y-w[1];(0,te.A)(is,this)||(0,ee.A)(is,this,[this.x,this.y,this.width,this.height]),this.width=S,this.height=k,this.x=U,this.y=Q,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function Fs(){var t;(0,ee.A)($r,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(t=(0,te.A)(jr,this))||void 0===t||t.toggle(!1),this.parent.togglePointerEvents(!1)}function Es(t,e,n){let A=n/e*.7+1-.7;if(1===A)return;const i=(0,Ae.A)(gs,this,ws).call(this,this.rotation),r=(t,e)=>[i[0]*t+i[2]*e,i[1]*t+i[3]*e],[s,a]=this.parentDimensions,o=this.x,l=this.y,c=this.width,h=this.height,u=Tt.MIN_SIZE/s,d=Tt.MIN_SIZE/a;A=Math.max(Math.min(A,1/c,1/h),u/c,d/h);const p=Tt._round(c*A),g=Tt._round(h*A);if(p===c&&g===h)return;(0,te.A)(is,this)||(0,ee.A)(is,this,[o,l,c,h]);const f=r(c/2,h/2),m=Tt._round(o+f[0]),v=Tt._round(l+f[1]),w=r(p/2,g/2);this.x=m-w[0],this.y=v-w[1],this.width=p,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function xs(){var t;null===(t=(0,te.A)(jr,this))||void 0===t||t.toggle(!0),this.parent.togglePointerEvents(!0),(0,Ae.A)(gs,this,Cs).call(this)}function Ss(t){const{isMac:e}=rn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}function ks(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const A=new AbortController,i=this._uiManager.combinedSignal(A),r={capture:!0,passive:!1,signal:i},s=t=>{A.abort(),(0,ee.A)(qr,this,null),(0,ee.A)(As,this,!1),this._uiManager.endDragSession()||(0,Ae.A)(gs,this,Ss).call(this,t),n&&this._onStopDragging()};e&&((0,ee.A)(ls,this,t.clientX),(0,ee.A)(cs,this,t.clientY),(0,ee.A)(qr,this,t.pointerId),(0,ee.A)(Yr,this,t.pointerType),window.addEventListener("pointermove",t=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:e,clientY:A,pointerId:i}=t;if(i!==(0,te.A)(qr,this))return void Sn(t);const[r,s]=this.screenToPageTranslation(e-(0,te.A)(ls,this),A-(0,te.A)(cs,this));(0,ee.A)(ls,this,e),(0,ee.A)(cs,this,A),this._uiManager.dragSelectedEditors(r,s)},r),window.addEventListener("touchmove",Sn,r),window.addEventListener("pointerdown",t=>{t.pointerType===(0,te.A)(Yr,this)&&((0,te.A)(us,this)||t.isPrimary)&&s(t),Sn(t)},r));const a=t=>{(0,te.A)(qr,this)&&(0,te.A)(qr,this)!==t.pointerId?Sn(t):s(t)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})}function Us(){if((0,te.A)(es,this)||!this.div)return;(0,ee.A)(es,this,new AbortController);const t=this._uiManager.combinedSignal((0,te.A)(es,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}function Qs(t){Tt._resizerKeyboardManager.exec(this,t)}function Ps(t){var e;(0,te.A)(as,this)&&(null===(e=t.relatedTarget)||void 0===e?void 0:e.parentNode)!==(0,te.A)(Jr,this)&&(0,Ae.A)(gs,this,Ts).call(this)}function Ms(t){(0,ee.A)(ns,this,(0,te.A)(as,this)?t:"")}function Is(t){if((0,te.A)(Wr,this))for(const e of(0,te.A)(Wr,this))e.tabIndex=t}function Ts(){(0,ee.A)(as,this,!1),(0,Ae.A)(gs,this,Is).call(this,-1),(0,Ae.A)(gs,this,Cs).call(this)}Tt=fs,(0,ne.A)(fs,"_l10n",null),(0,ne.A)(fs,"_l10nResizer",null),(0,ne.A)(fs,"_borderLineWidth",-1),(0,ne.A)(fs,"_colorManager",new QA),(0,ne.A)(fs,"_zIndex",1),(0,ne.A)(fs,"_telemetryTimeout",1e3);class Ds extends fs{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Ls=3285377520,Rs=4294901760,Os=65535;class Hs{constructor(t){this.h1=t?4294967295&t:Ls,this.h2=t?4294967295&t:Ls}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let A=0,i=t.length;A<i;A++){const i=t.charCodeAt(A);i<=255?e[n++]=i:(e[n++]=i>>>8,e[n++]=255&i)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),n=e.byteLength}const A=n>>2,i=n-4*A,r=new Uint32Array(e.buffer,0,A);let s=0,a=0,o=this.h1,l=this.h2;const c=3432918353,h=461845907,u=11601,d=13715;for(let p=0;p<A;p++)1&p?(s=r[p],s=s*c&Rs|s*u&Os,s=s<<15|s>>>17,s=s*h&Rs|s*d&Os,o^=s,o=o<<13|o>>>19,o=5*o+3864292196):(a=r[p],a=a*c&Rs|a*u&Os,a=a<<15|a>>>17,a=a*h&Rs|a*d&Os,l^=a,l=l<<13|l>>>19,l=5*l+3864292196);switch(s=0,i){case 3:s^=e[4*A+2]<<16;case 2:s^=e[4*A+1]<<8;case 1:s^=e[4*A],s=s*c&Rs|s*u&Os,s=s<<15|s>>>17,s=s*h&Rs|s*d&Os,1&A?o^=s:l^=s}this.h1=o,this.h2=l}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&Rs|36045*t&Os,e=4283543511*e&Rs|(2950163797*(e<<16|t>>>16)&Rs)>>>16,t^=e>>>1,t=444984403*t&Rs|60499*t&Os,e=3301882366*e&Rs|(3120437893*(e<<16|t>>>16)&Rs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Ns=Object.freeze({map:null,hash:"",transfer:void 0});var Gs=new WeakMap,Ks=new WeakMap,Ws=new WeakMap,js=new WeakMap,Vs=new WeakSet;class zs{constructor(){(0,Jt.A)(this,Vs),(0,Zt.A)(this,Gs,!1),(0,Zt.A)(this,Ks,null),(0,Zt.A)(this,Ws,null),(0,Zt.A)(this,js,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=(0,te.A)(js,this).get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return(0,te.A)(js,this).get(t)}remove(t){const e=(0,te.A)(js,this).get(t);if(void 0!==e&&(e instanceof fs&&(0,te.A)(Ws,this).delete(e.annotationElementId),(0,te.A)(js,this).delete(t),0===(0,te.A)(js,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor)){for(const t of(0,te.A)(js,this).values())if(t instanceof fs)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=(0,te.A)(js,this).get(t);let A=!1;if(void 0!==n)for(const[i,r]of Object.entries(e))n[i]!==r&&(A=!0,n[i]=r);else A=!0,(0,te.A)(js,this).set(t,e);A&&(0,Ae.A)(Vs,this,Xs).call(this),e instanceof fs&&(((0,te.A)(Ws,this)||(0,ee.A)(Ws,this,new Map)).set(e.annotationElementId,e),"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type))}has(t){return(0,te.A)(js,this).has(t)}get size(){return(0,te.A)(js,this).size}resetModified(){(0,te.A)(Gs,this)&&((0,ee.A)(Gs,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new Ys(this)}get serializable(){if(0===(0,te.A)(js,this).size)return Ns;const t=new Map,e=new Hs,n=[],A=Object.create(null);let i=!1;for(const[r,s]of(0,te.A)(js,this)){const n=s instanceof fs?s.serialize(!1,A):s;n&&(t.set(r,n),e.update("".concat(r,":").concat(JSON.stringify(n))),i||(i=!!n.bitmap))}if(i)for(const r of t.values())r.bitmap&&n.push(r.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Ns}get editorStats(){let t=null;const e=new Map;let n=0,A=0;for(const s of(0,te.A)(js,this).values()){var i;if(!(s instanceof fs)){s.popup&&(s.popup.deleted?A+=1:n+=1);continue}s.isCommentDeleted?A+=1:s.hasEditedComment&&(n+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;e.has(o)||e.set(o,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const l=(i=t)[o]||(i[o]=new Map);for(const[t,e]of Object.entries(a)){var r;if("type"===t)continue;let n=l.get(t);n||(n=new Map,l.set(t,n));const A=null!==(r=n.get(e))&&void 0!==r?r:0;n.set(e,A+1)}}if((A>0||n>0)&&(t||(t=Object.create(null)),t.comments={deleted:A,edited:n}),!t)return null;for(const[s,a]of e)t[s]=a.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){(0,ee.A)(Ks,this,null)}updateEditor(t,e){var n;const A=null===(n=(0,te.A)(Ws,this))||void 0===n?void 0:n.get(t);return!!A&&(A.updateFromAnnotationLayer(e),!0)}getEditor(t){var e;return(null===(e=(0,te.A)(Ws,this))||void 0===e?void 0:e.get(t))||null}get modifiedIds(){if((0,te.A)(Ks,this))return(0,te.A)(Ks,this);const t=[];if((0,te.A)(Ws,this))for(const e of(0,te.A)(Ws,this).values())e.serialize()&&t.push(e.annotationElementId);return(0,ee.A)(Ks,this,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return(0,te.A)(js,this).entries()}}function Xs(){(0,te.A)(Gs,this)||((0,ee.A)(Gs,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var qs=new WeakMap;class Ys extends zs{constructor(t){super(),(0,Zt.A)(this,qs,void 0);const{map:e,hash:n,transfer:A}=t.serializable,i=structuredClone(e,A?{transfer:A}:null);(0,ee.A)(qs,this,{map:i,hash:n,transfer:A})}get print(){We("Should not call PrintAnnotationStorage.print")}get serializable(){return(0,te.A)(qs,this)}get modifiedIds(){return Xe(this,"modifiedIds",{ids:new Set,hash:""})}}var Js=new WeakMap;class Zs{constructor(t){let{ownerDocument:e=globalThis.document,styleElement:n=null}=t;(0,Zt.A)(this,Js,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),(0,te.A)(Js,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){let{systemFontInfo:e,disableFontFace:n,_inspectFont:A}=t;if(e&&!(0,te.A)(Js,this).has(e.loadedName)){if(je(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:n,style:r}=e,s=new FontFace(t,n,r);this.addNativeFontFace(s);try{await s.load(),(0,te.A)(Js,this).add(t),null===A||void 0===A||A(e)}catch(i){Ke("Cannot load system font: ".concat(e.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(s)}return}We("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw Ke("Failed to load font '".concat(e.family,"': '").concat(n,"'.")),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)})}}get isFontLoadingAPISupported(){var t;return Xe(this,"isFontLoadingAPISupported",!(null===(t=this._document)||void 0===t||!t.fonts))}get isSyncFontLoadingSupported(){return Xe(this,"isSyncFontLoadingSupported",re||rn.platform.isFirefox)}_queueLoadingCallback(t){const{loadingRequests:e}=this,n={done:!1,complete:function(){for(je(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){const t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}get _loadTestFont(){return Xe(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function A(t,e,n,A){return t.substring(0,e)+A+t.substring(e+n)}let i,r;const s=this._document.createElement("canvas");s.width=1,s.height=1;const a=s.getContext("2d");let o=0;const l="lt".concat(Date.now()).concat(this.loadTestFontId++);let c=this._loadTestFont;c=A(c,976,l.length,l);const h=1482184792;let u=n(c,16);for(i=0,r=l.length-3;i<r;i+=4)u=u-h+n(l,i)|0;var d;i<l.length&&(u=u-h+n(l+"XXX",i)|0),c=A(c,16,4,(d=u,String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,255&d)));const p="url(data:font/opentype;base64,".concat(btoa(c),");"),g='@font-face {font-family:"'.concat(l,'";src:').concat(p,"}");this.insertRule(g);const f=this._document.createElement("div");f.style.visibility="hidden",f.style.width=f.style.height="10px",f.style.position="absolute",f.style.top=f.style.left="0px";for(const m of[t.loadedName,l]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=m,f.append(t)}this._document.body.append(f),function t(e,n){if(++o>30)return Ke("Load test font never loaded."),void n();a.font="30px "+e,a.fillText(".",0,20),a.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(l,()=>{f.remove(),e.complete()})}}var $s=new WeakMap;class ta{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0;(0,Zt.A)(this,$s,void 0),this.compiledGlyphs=Object.create(null),(0,ee.A)($s,this,t),this._inspectFont=e,n&&Object.assign(this,n),A&&(this.charProcOperatorList=A)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return null===(t=this._inspectFont)||void 0===t||t.call(this,this),e}createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;const e="url(data:".concat(this.mimetype,";base64,").concat(gn(this.data),");");let n;if(this.cssFontInfo){let t="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(t+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(t,"src:").concat(e,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(e,"}");return null===(t=this._inspectFont)||void 0===t||t.call(this,this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let A;try{A=t.get(n)}catch(r){Ke('getPathGenerator - ignoring character: "'.concat(r,'".'))}const i=new Path2D(A||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=i}get black(){return(0,te.A)($s,this).black}get bold(){return(0,te.A)($s,this).bold}get disableFontFace(){var t;return null!==(t=(0,te.A)($s,this).disableFontFace)&&void 0!==t&&t}get fontExtraProperties(){var t;return null!==(t=(0,te.A)($s,this).fontExtraProperties)&&void 0!==t&&t}get isInvalidPDFjsFont(){return(0,te.A)($s,this).isInvalidPDFjsFont}get isType3Font(){return(0,te.A)($s,this).isType3Font}get italic(){return(0,te.A)($s,this).italic}get missingFile(){return(0,te.A)($s,this).missingFile}get remeasure(){return(0,te.A)($s,this).remeasure}get vertical(){return(0,te.A)($s,this).vertical}get ascent(){return(0,te.A)($s,this).ascent}get defaultWidth(){return(0,te.A)($s,this).defaultWidth}get descent(){return(0,te.A)($s,this).descent}get bbox(){return(0,te.A)($s,this).bbox}get fontMatrix(){return(0,te.A)($s,this).fontMatrix}get fallbackName(){return(0,te.A)($s,this).fallbackName}get loadedName(){return(0,te.A)($s,this).loadedName}get mimetype(){return(0,te.A)($s,this).mimetype}get name(){return(0,te.A)($s,this).name}get data(){return(0,te.A)($s,this).data}clearData(){(0,te.A)($s,this).clearData()}get cssFontInfo(){return(0,te.A)($s,this).cssFontInfo}get systemFontInfo(){return(0,te.A)($s,this).systemFontInfo}get defaultVMetrics(){return(0,te.A)($s,this).defaultVMetrics}}function ea(t){if("string"!==typeof t)return null;if(t.endsWith("/"))return t;throw new Error('Invalid factory url: "'.concat(t,'" must include trailing slash.'))}const na=t=>"object"===typeof t&&Number.isInteger(null===t||void 0===t?void 0:t.num)&&t.num>=0&&Number.isInteger(null===t||void 0===t?void 0:t.gen)&&t.gen>=0,Aa=function(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[A,i,...r]=n;if(!t(A)&&!Number.isInteger(A))return!1;if(!e(i))return!1;const s=r.length;let a=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;a=!1;break;default:return!1}for(const o of r)if(!("number"===typeof o||a&&null===o))return!1;return!0}.bind(null,na,t=>"object"===typeof t&&"string"===typeof(null===t||void 0===t?void 0:t.name));var ia=new WeakMap,ra=new WeakMap;class sa{constructor(){(0,Zt.A)(this,ia,new Map),(0,Zt.A)(this,ra,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};(0,te.A)(ra,this).then(()=>{for(const[t]of(0,te.A)(ia,this))t.call(this,n)})}addEventListener(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted)return void Ke("LoopbackPort - cannot use an `aborted` signal.");const r=()=>this.removeEventListener(t,e);A=()=>i.removeEventListener("abort",r),i.addEventListener("abort",r)}(0,te.A)(ia,this).set(e,A)}removeEventListener(t,e){const n=(0,te.A)(ia,this).get(e);null===n||void 0===n||n(),(0,te.A)(ia,this).delete(e)}terminate(){for(const[,t]of(0,te.A)(ia,this))null===t||void 0===t||t();(0,te.A)(ia,this).clear()}}const aa=1,oa=2,la=1,ca=2,ha=3,ua=4,da=5,pa=6,ga=7,fa=8;function ma(){}function va(t){if(t instanceof en||t instanceof Ze||t instanceof Ye||t instanceof $e||t instanceof Je)return t;switch(t instanceof Error||"object"===typeof t&&null!==t||We('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new en(t.message);case"InvalidPDFException":return new Ze(t.message);case"PasswordException":return new Ye(t.message,t.code);case"ResponseException":return new $e(t.message,t.status,t.missing);case"UnknownErrorException":return new Je(t.message,t.details)}return new Je(t.message,t.toString())}var wa=new WeakMap,Ba=new WeakSet;class ya{constructor(t,e,n){(0,Jt.A)(this,Ba),(0,Zt.A)(this,wa,new AbortController),this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",(0,Ae.A)(Ba,this,ba).bind(this),{signal:(0,te.A)(wa,this).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const A=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[A]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:A,data:e},n)}catch(r){i.reject(r)}return i.promise}sendWithStream(t,e,n,A){const i=this.streamId++,r=this.sourceName,s=this.targetName,a=this.comObj;return new ReadableStream({start:n=>{const o=Promise.withResolvers();return this.streamControllers[i]={controller:n,startCall:o,pullCall:null,cancelCall:null,isClosed:!1},a.postMessage({sourceName:r,targetName:s,action:t,streamId:i,data:e,desiredSize:n.desiredSize},A),o.promise},pull:t=>{const e=Promise.withResolvers();return this.streamControllers[i].pullCall=e,a.postMessage({sourceName:r,targetName:s,stream:pa,streamId:i,desiredSize:t.desiredSize}),e.promise},cancel:t=>{je(t instanceof Error,"cancel must have a valid reason");const e=Promise.withResolvers();return this.streamControllers[i].cancelCall=e,this.streamControllers[i].isClosed=!0,a.postMessage({sourceName:r,targetName:s,stream:la,streamId:i,reason:va(t)}),e.promise}},n)}destroy(){var t;null===(t=(0,te.A)(wa,this))||void 0===t||t.abort(),(0,ee.A)(wa,this,null)}}function ba(t){let{data:e}=t;if(e.targetName!==this.sourceName)return;if(e.stream)return void(0,Ae.A)(Ba,this,_a).call(this,e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error("Cannot resolve callback ".concat(t));if(delete this.callbackCapabilities[t],e.callback===aa)n.resolve(e.data);else{if(e.callback!==oa)throw new Error("Unexpected callback case");n.reject(va(e.reason))}return}const n=this.actionHandler[e.action];if(!n)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){const t=this.sourceName,A=e.sourceName,i=this.comObj;return void Promise.try(n,e.data).then(function(n){i.postMessage({sourceName:t,targetName:A,callback:aa,callbackId:e.callbackId,data:n})},function(n){i.postMessage({sourceName:t,targetName:A,callback:oa,callbackId:e.callbackId,reason:va(n)})})}e.streamId?(0,Ae.A)(Ba,this,Ca).call(this,e):n(e.data)}function Ca(t){const e=t.streamId,n=this.sourceName,A=t.sourceName,i=this.comObj,r=this,s=this.actionHandler[t.action],a={enqueue(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const a=this.desiredSize;this.desiredSize-=r,a>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:A,stream:ua,streamId:e,chunk:t},s)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:A,stream:ha,streamId:e}),delete r.streamSinks[e])},error(t){je(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:A,stream:da,streamId:e,reason:va(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[e]=a,Promise.try(s,t.data,a).then(function(){i.postMessage({sourceName:n,targetName:A,stream:fa,streamId:e,success:!0})},function(t){i.postMessage({sourceName:n,targetName:A,stream:fa,streamId:e,reason:va(t)})})}function _a(t){const e=t.streamId,n=this.sourceName,A=t.sourceName,i=this.comObj,r=this.streamControllers[e],s=this.streamSinks[e];switch(t.stream){case fa:t.success?r.startCall.resolve():r.startCall.reject(va(t.reason));break;case ga:t.success?r.pullCall.resolve():r.pullCall.reject(va(t.reason));break;case pa:if(!s){i.postMessage({sourceName:n,targetName:A,stream:ga,streamId:e,success:!0});break}s.desiredSize<=0&&t.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=t.desiredSize,Promise.try(s.onPull||ma).then(function(){i.postMessage({sourceName:n,targetName:A,stream:ga,streamId:e,success:!0})},function(t){i.postMessage({sourceName:n,targetName:A,stream:ga,streamId:e,reason:va(t)})});break;case ua:if(je(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(t.chunk);break;case ha:if(je(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),(0,Ae.A)(Ba,this,Fa).call(this,r,e);break;case da:je(r,"error should have stream controller"),r.controller.error(va(t.reason)),(0,Ae.A)(Ba,this,Fa).call(this,r,e);break;case ca:t.success?r.cancelCall.resolve():r.cancelCall.reject(va(t.reason)),(0,Ae.A)(Ba,this,Fa).call(this,r,e);break;case la:if(!s)break;const a=va(t.reason);Promise.try(s.onCancel||ma,a).then(function(){i.postMessage({sourceName:n,targetName:A,stream:ca,streamId:e,success:!0})},function(t){i.postMessage({sourceName:n,targetName:A,stream:ca,streamId:e,reason:va(t)})}),s.sinkCapability.reject(a),s.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async function Fa(t,e){var n,A,i;await Promise.allSettled([null===(n=t.startCall)||void 0===n?void 0:n.promise,null===(A=t.pullCall)||void 0===A?void 0:A.promise,null===(i=t.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[e]}var Ea=new WeakMap;class xa{constructor(t){let{enableHWA:e=!1}=t;(0,Zt.A)(this,Ea,!1),(0,ee.A)(Ea,this,e)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!(0,te.A)(Ea,this)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){We("Abstract method `_createCanvas` called.")}}class Sa extends xa{constructor(t){let{ownerDocument:e=globalThis.document,enableHWA:n=!1}=t;super({enableHWA:n}),this._document=e}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class ka{constructor(t){let{baseUrl:e=null,isCompressed:n=!0}=t;this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(t=>({cMapData:t,isCompressed:this.isCompressed})).catch(t=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))})}async _fetch(t){We("Abstract method `_fetch` called.")}}class Ua extends ka{async _fetch(t){const e=await Bn(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):An(e)}}class Qa{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,A,i){return"none"}destroy(){}}var Pa=new WeakMap,Ma=new WeakMap,Ia=new WeakMap,Ta=new WeakMap,Da=new WeakMap,La=new WeakMap,Ra=new WeakMap,Oa=new WeakSet;class Ha extends Qa{constructor(t){let{docId:e,ownerDocument:n=globalThis.document}=t;super(),(0,Jt.A)(this,Oa),(0,Zt.A)(this,Pa,void 0),(0,Zt.A)(this,Ma,void 0),(0,Zt.A)(this,Ia,void 0),(0,Zt.A)(this,Ta,void 0),(0,Zt.A)(this,Da,void 0),(0,Zt.A)(this,La,void 0),(0,Zt.A)(this,Ra,0),(0,ee.A)(Ta,this,e),(0,ee.A)(Da,this,n)}addFilter(t){var e,n;if(!t)return"none";let A=(0,$t.A)(Oa,this,Na).get(t);if(A)return A;const[i,r,s]=(0,Ae.A)(Oa,this,Wa).call(this,t),a=1===t.length?i:"".concat(i).concat(r).concat(s);if(A=(0,$t.A)(Oa,this,Na).get(a),A)return(0,$t.A)(Oa,this,Na).set(t,A),A;const o="g_".concat((0,te.A)(Ta,this),"_transfer_map_").concat(((0,ee.A)(Ra,this,(e=(0,te.A)(Ra,this),n=e++,e)),n)),l=(0,Ae.A)(Oa,this,ja).call(this,o);(0,$t.A)(Oa,this,Na).set(t,l),(0,$t.A)(Oa,this,Na).set(a,l);const c=(0,Ae.A)(Oa,this,Xa).call(this,o);return(0,Ae.A)(Oa,this,Ya).call(this,i,r,s,c),l}addHCMFilter(t,e){var n;const A="".concat(t,"-").concat(e),i="base";let r=(0,$t.A)(Oa,this,Ga).get(i);if((null===(n=r)||void 0===n?void 0:n.key)===A)return r.url;var s;r?(null===(s=r.filter)||void 0===s||s.remove(),r.key=A,r.url="none",r.filter=null):(r={key:A,url:"none",filter:null},(0,$t.A)(Oa,this,Ga).set(i,r));if(!t||!e)return r.url;const a=(0,Ae.A)(Oa,this,Za).call(this,t);t=an.makeHexColor(...a);const o=(0,Ae.A)(Oa,this,Za).call(this,e);if(e=an.makeHexColor(...o),(0,$t.A)(Oa,this,Ka).style.color="","#000000"===t&&"#ffffff"===e||t===e)return r.url;const l=new Array(256);for(let p=0;p<=255;p++){const t=p/255;l[p]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const c=l.join(","),h="g_".concat((0,te.A)(Ta,this),"_hcm_filter"),u=r.filter=(0,Ae.A)(Oa,this,Xa).call(this,h);(0,Ae.A)(Oa,this,Ya).call(this,c,c,c,u),(0,Ae.A)(Oa,this,za).call(this,u);const d=(t,e)=>{const n=a[t]/255,A=o[t]/255,i=new Array(e+1);for(let r=0;r<=e;r++)i[r]=n+r/e*(A-n);return i.join(",")};return(0,Ae.A)(Oa,this,Ya).call(this,d(0,5),d(1,5),d(2,5),u),r.url=(0,Ae.A)(Oa,this,ja).call(this,h),r.url}addAlphaFilter(t){var e,n;let A=(0,$t.A)(Oa,this,Na).get(t);if(A)return A;const[i]=(0,Ae.A)(Oa,this,Wa).call(this,[t]),r="alpha_".concat(i);if(A=(0,$t.A)(Oa,this,Na).get(r),A)return(0,$t.A)(Oa,this,Na).set(t,A),A;const s="g_".concat((0,te.A)(Ta,this),"_alpha_map_").concat(((0,ee.A)(Ra,this,(e=(0,te.A)(Ra,this),n=e++,e)),n)),a=(0,Ae.A)(Oa,this,ja).call(this,s);(0,$t.A)(Oa,this,Na).set(t,a),(0,$t.A)(Oa,this,Na).set(r,a);const o=(0,Ae.A)(Oa,this,Xa).call(this,s);return(0,Ae.A)(Oa,this,Ja).call(this,i,o),a}addLuminosityFilter(t){var e,n;let A,i,r=(0,$t.A)(Oa,this,Na).get(t||"luminosity");if(r)return r;if(t?([A]=(0,Ae.A)(Oa,this,Wa).call(this,[t]),i="luminosity_".concat(A)):i="luminosity",r=(0,$t.A)(Oa,this,Na).get(i),r)return(0,$t.A)(Oa,this,Na).set(t,r),r;const s="g_".concat((0,te.A)(Ta,this),"_luminosity_map_").concat(((0,ee.A)(Ra,this,(e=(0,te.A)(Ra,this),n=e++,e)),n)),a=(0,Ae.A)(Oa,this,ja).call(this,s);(0,$t.A)(Oa,this,Na).set(t,a),(0,$t.A)(Oa,this,Na).set(i,a);const o=(0,Ae.A)(Oa,this,Xa).call(this,s);return(0,Ae.A)(Oa,this,Va).call(this,o),t&&(0,Ae.A)(Oa,this,Ja).call(this,A,o),a}addHighlightHCMFilter(t,e,n,A,i){var r;const s="".concat(e,"-").concat(n,"-").concat(A,"-").concat(i);let a=(0,$t.A)(Oa,this,Ga).get(t);if((null===(r=a)||void 0===r?void 0:r.key)===s)return a.url;var o;a?(null===(o=a.filter)||void 0===o||o.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},(0,$t.A)(Oa,this,Ga).set(t,a));if(!e||!n)return a.url;const[l,c]=[e,n].map((0,Ae.A)(Oa,this,Za).bind(this));let h=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),u=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[d,p]=[A,i].map((0,Ae.A)(Oa,this,Za).bind(this));u<h&&([h,u,d,p]=[u,h,p,d]),(0,$t.A)(Oa,this,Ka).style.color="";const g=(t,e,n)=>{const A=new Array(256),i=(u-h)/n,r=t/255,s=(e-t)/(255*n);let a=0;for(let o=0;o<=n;o++){const t=Math.round(h+o*i),e=r+o*s;for(let n=a;n<=t;n++)A[n]=e;a=t+1}for(let o=a;o<256;o++)A[o]=A[a-1];return A.join(",")},f="g_".concat((0,te.A)(Ta,this),"_hcm_").concat(t,"_filter"),m=a.filter=(0,Ae.A)(Oa,this,Xa).call(this,f);return(0,Ae.A)(Oa,this,za).call(this,m),(0,Ae.A)(Oa,this,Ya).call(this,g(d[0],p[0],5),g(d[1],p[1],5),g(d[2],p[2],5),m),a.url=(0,Ae.A)(Oa,this,ja).call(this,f),a.url}destroy(){var t,e,n,A;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(t=(0,te.A)(La,this))&&void 0!==t&&t.size||(null===(e=(0,te.A)(Ia,this))||void 0===e||e.parentNode.parentNode.remove(),(0,ee.A)(Ia,this,null),null===(n=(0,te.A)(Ma,this))||void 0===n||n.clear(),(0,ee.A)(Ma,this,null),null===(A=(0,te.A)(La,this))||void 0===A||A.clear(),(0,ee.A)(La,this,null),(0,ee.A)(Ra,this,0))}}function Na(t){return(0,te.A)(Ma,t)||(0,ee.A)(Ma,t,new Map)}function Ga(t){return(0,te.A)(La,t)||(0,ee.A)(La,t,new Map)}function Ka(t){if(!(0,te.A)(Ia,t)){const e=(0,te.A)(Da,t).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const A=(0,te.A)(Da,t).createElementNS(vn,"svg");A.setAttribute("width",0),A.setAttribute("height",0),(0,ee.A)(Ia,t,(0,te.A)(Da,t).createElementNS(vn,"defs")),e.append(A),A.append((0,te.A)(Ia,t)),(0,te.A)(Da,t).body.append(e)}return(0,te.A)(Ia,t)}function Wa(t){if(1===t.length){const e=t[0],n=new Array(256);for(let t=0;t<256;t++)n[t]=e[t]/255;const A=n.join(",");return[A,A,A]}const[e,n,A]=t,i=new Array(256),r=new Array(256),s=new Array(256);for(let a=0;a<256;a++)i[a]=e[a]/255,r[a]=n[a]/255,s[a]=A[a]/255;return[i.join(","),r.join(","),s.join(",")]}function ja(t){if(void 0===(0,te.A)(Pa,this)){(0,ee.A)(Pa,this,"");const t=(0,te.A)(Da,this).URL;t!==(0,te.A)(Da,this).baseURI&&(Cn(t)?Ke('#createUrl: ignore "data:"-URL for performance reasons.'):(0,ee.A)(Pa,this,ze(t,"")))}return"url(".concat((0,te.A)(Pa,this),"#").concat(t,")")}function Va(t){const e=(0,te.A)(Da,this).createElementNS(vn,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}function za(t){const e=(0,te.A)(Da,this).createElementNS(vn,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}function Xa(t){const e=(0,te.A)(Da,this).createElementNS(vn,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),(0,$t.A)(Oa,this,Ka).append(e),e}function qa(t,e,n){const A=(0,te.A)(Da,this).createElementNS(vn,e);A.setAttribute("type","discrete"),A.setAttribute("tableValues",n),t.append(A)}function Ya(t,e,n,A){const i=(0,te.A)(Da,this).createElementNS(vn,"feComponentTransfer");A.append(i),(0,Ae.A)(Oa,this,qa).call(this,i,"feFuncR",t),(0,Ae.A)(Oa,this,qa).call(this,i,"feFuncG",e),(0,Ae.A)(Oa,this,qa).call(this,i,"feFuncB",n)}function Ja(t,e){const n=(0,te.A)(Da,this).createElementNS(vn,"feComponentTransfer");e.append(n),(0,Ae.A)(Oa,this,qa).call(this,n,"feFuncA",t)}function Za(t){return(0,$t.A)(Oa,this,Ka).style.color=t,Qn(getComputedStyle((0,$t.A)(Oa,this,Ka)).getPropertyValue("color"))}class $a{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch(t=>{throw new Error("Unable to load font data at: ".concat(n))})}async _fetch(t){We("Abstract method `_fetch` called.")}}class to extends $a{async _fetch(t){const e=await Bn(t,"arraybuffer");return new Uint8Array(e)}}class eo{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch(t=>{throw new Error("Unable to load wasm data at: ".concat(n))})}async _fetch(t){We("Abstract method `_fetch` called.")}}class no extends eo{async _fetch(t){const e=await Bn(t,"arraybuffer");return new Uint8Array(e)}}async function Ao(t){const e=process.getBuiltinModule("fs"),n=await e.promises.readFile(t);return new Uint8Array(n)}re&&Ke("Please use the `legacy` build in Node.js environments.");class io extends Qa{}class ro extends xa{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire("file:///C:/current%20working%20project/interior-ai/frontend/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(t,e)}}class so extends ka{async _fetch(t){return Ao(t)}}class ao extends $a{async _fetch(t){return Ao(t)}}class oo extends eo{async _fetch(t){return Ao(t)}}const lo="__forcedDependency",{floor:co,ceil:ho}=Math;function uo(t,e,n,A,i,r){t[4*e+0]=Math.min(t[4*e+0],n),t[4*e+1]=Math.min(t[4*e+1],A),t[4*e+2]=Math.max(t[4*e+2],i),t[4*e+3]=Math.max(t[4*e+3],r)}const po=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var go=new WeakMap,fo=new WeakMap;class mo{constructor(t,e){(0,Zt.A)(this,go,void 0),(0,Zt.A)(this,fo,void 0),(0,ee.A)(go,this,t),(0,ee.A)(fo,this,e)}get length(){return(0,te.A)(go,this).length}isEmpty(t){return(0,te.A)(go,this)[t]===po}minX(t){return(0,te.A)(fo,this)[4*t+0]/256}minY(t){return(0,te.A)(fo,this)[4*t+1]/256}maxX(t){return((0,te.A)(fo,this)[4*t+2]+1)/256}maxY(t){return((0,te.A)(fo,this)[4*t+3]+1)/256}}const vo=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var wo=new WeakMap,Bo=new WeakMap,yo=new WeakMap,bo=new WeakMap,Co=new WeakMap,_o=new WeakMap,Fo=new WeakMap,Eo=new WeakMap,xo=new WeakMap,So=new WeakMap,ko=new WeakMap,Uo=new WeakMap,Qo=new WeakMap,Po=new WeakMap,Mo=new WeakMap,Io=new WeakMap,To=new WeakMap,Do=new WeakSet;class Lo{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,Jt.A)(this,Do),(0,Zt.A)(this,wo,{__proto__:null}),(0,Zt.A)(this,Bo,{__proto__:null,transform:[],moveText:[],sameLineText:[],[lo]:[]}),(0,Zt.A)(this,yo,new Map),(0,Zt.A)(this,bo,[]),(0,Zt.A)(this,Co,[]),(0,Zt.A)(this,_o,[[1,0,0,1,0,0]]),(0,Zt.A)(this,Fo,[-1/0,-1/0,1/0,1/0]),(0,Zt.A)(this,Eo,new Float64Array([1/0,1/0,-1/0,-1/0])),(0,Zt.A)(this,xo,-1),(0,Zt.A)(this,So,new Set),(0,Zt.A)(this,ko,new Map),(0,Zt.A)(this,Uo,new Map),(0,Zt.A)(this,Qo,void 0),(0,Zt.A)(this,Po,void 0),(0,Zt.A)(this,Mo,void 0),(0,Zt.A)(this,Io,void 0),(0,Zt.A)(this,To,void 0),(0,ee.A)(Qo,this,t.width),(0,ee.A)(Po,this,t.height),(0,Ae.A)(Do,this,Ro).call(this,e),n&&(0,ee.A)(To,this,new Map)}growOperationsCount(t){t>=(0,te.A)(Io,this).length&&(0,Ae.A)(Do,this,Ro).call(this,t,(0,te.A)(Io,this))}save(t){return(0,ee.A)(wo,this,{__proto__:(0,te.A)(wo,this)}),(0,ee.A)(Bo,this,{__proto__:(0,te.A)(Bo,this),transform:{__proto__:(0,te.A)(Bo,this).transform},moveText:{__proto__:(0,te.A)(Bo,this).moveText},sameLineText:{__proto__:(0,te.A)(Bo,this).sameLineText},[lo]:{__proto__:(0,te.A)(Bo,this)[lo]}}),(0,ee.A)(Fo,this,{__proto__:(0,te.A)(Fo,this)}),(0,te.A)(bo,this).push(t),this}restore(t){const e=Object.getPrototypeOf((0,te.A)(wo,this));if(null===e)return this;(0,ee.A)(wo,this,e),(0,ee.A)(Bo,this,Object.getPrototypeOf((0,te.A)(Bo,this))),(0,ee.A)(Fo,this,Object.getPrototypeOf((0,te.A)(Fo,this)));const n=(0,te.A)(bo,this).pop();var A;void 0!==n&&(null===(A=vo((0,te.A)(To,this),t))||void 0===A||A.dependencies.add(n),(0,te.A)(Io,this)[t]=(0,te.A)(Io,this)[n]);return this}recordOpenMarker(t){return(0,te.A)(bo,this).push(t),this}getOpenMarker(){return 0===(0,te.A)(bo,this).length?null:(0,te.A)(bo,this).at(-1)}recordCloseMarker(t){const e=(0,te.A)(bo,this).pop();var n;void 0!==e&&(null===(n=vo((0,te.A)(To,this),t))||void 0===n||n.dependencies.add(e),(0,te.A)(Io,this)[t]=(0,te.A)(Io,this)[e]);return this}beginMarkedContent(t){return(0,te.A)(Co,this).push(t),this}endMarkedContent(t){const e=(0,te.A)(Co,this).pop();var n;void 0!==e&&(null===(n=vo((0,te.A)(To,this),t))||void 0===n||n.dependencies.add(e),(0,te.A)(Io,this)[t]=(0,te.A)(Io,this)[e]);return this}pushBaseTransform(t){return(0,te.A)(_o,this).push(an.multiplyByDOMMatrix((0,te.A)(_o,this).at(-1),t.getTransform())),this}popBaseTransform(){return(0,te.A)(_o,this).length>1&&(0,te.A)(_o,this).pop(),this}recordSimpleData(t,e){return(0,te.A)(wo,this)[t]=e,this}recordIncrementalData(t,e){return(0,te.A)(Bo,this)[t].push(e),this}resetIncrementalData(t,e){return(0,te.A)(Bo,this)[t].length=0,this}recordNamedData(t,e){return(0,te.A)(yo,this).set(t,e),this}recordSimpleDataFromNamed(t,e,n){var A;(0,te.A)(wo,this)[t]=null!==(A=(0,te.A)(yo,this).get(e))&&void 0!==A?A:n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(lo,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in(0,te.A)(wo,this)&&this.recordFutureForcedDependency(e,(0,te.A)(wo,this)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of(0,te.A)(So,this))this.recordFutureForcedDependency(lo,t);return this}resetBBox(t){return(0,te.A)(xo,this)!==t&&((0,ee.A)(xo,this,t),(0,te.A)(Eo,this)[0]=1/0,(0,te.A)(Eo,this)[1]=1/0,(0,te.A)(Eo,this)[2]=-1/0,(0,te.A)(Eo,this)[3]=-1/0),this}recordClipBox(t,e,n,A,i,r){const s=an.multiplyByDOMMatrix((0,te.A)(_o,this).at(-1),e.getTransform()),a=[1/0,1/0,-1/0,-1/0];an.axialAlignedBoundingBox([n,i,A,r],s,a);const o=an.intersect((0,te.A)(Fo,this),a);return o?((0,te.A)(Fo,this)[0]=o[0],(0,te.A)(Fo,this)[1]=o[1],(0,te.A)(Fo,this)[2]=o[2],(0,te.A)(Fo,this)[3]=o[3]):((0,te.A)(Fo,this)[0]=(0,te.A)(Fo,this)[1]=1/0,(0,te.A)(Fo,this)[2]=(0,te.A)(Fo,this)[3]=-1/0),this}recordBBox(t,e,n,A,i,r){const s=(0,te.A)(Fo,this);if(s[0]===1/0)return this;const a=an.multiplyByDOMMatrix((0,te.A)(_o,this).at(-1),e.getTransform());if(s[0]===-1/0)return an.axialAlignedBoundingBox([n,i,A,r],a,(0,te.A)(Eo,this)),this;const o=[1/0,1/0,-1/0,-1/0];return an.axialAlignedBoundingBox([n,i,A,r],a,o),(0,te.A)(Eo,this)[0]=Math.min((0,te.A)(Eo,this)[0],Math.max(o[0],s[0])),(0,te.A)(Eo,this)[1]=Math.min((0,te.A)(Eo,this)[1],Math.max(o[1],s[1])),(0,te.A)(Eo,this)[2]=Math.max((0,te.A)(Eo,this)[2],Math.min(o[2],s[2])),(0,te.A)(Eo,this)[3]=Math.max((0,te.A)(Eo,this)[3],Math.min(o[3],s[3])),this}recordCharacterBBox(t,e,n){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;const a=n.bbox;let o,l;if(a&&(o=a[2]!==a[0]&&a[3]!==a[1]&&(0,te.A)(Uo,this).get(n),!1!==o&&(l=[0,0,0,0],an.axialAlignedBoundingBox(a,n.fontMatrix,l),1===A&&0===i&&0===r||an.scaleMinMax([A,0,0,-A,i,r],l),o)))return this.recordBBox(t,e,l[0],l[2],l[1],l[3]);if(!s)return this.recordFullPageBBox(t);const c=s();return a&&l&&void 0===o&&(o=l[0]<=i-c.actualBoundingBoxLeft&&l[2]>=i+c.actualBoundingBoxRight&&l[1]<=r-c.actualBoundingBoxAscent&&l[3]>=r+c.actualBoundingBoxDescent,(0,te.A)(Uo,this).set(n,o),o)?this.recordBBox(t,e,l[0],l[2],l[1],l[3]):this.recordBBox(t,e,i-c.actualBoundingBoxLeft,i+c.actualBoundingBoxRight,r-c.actualBoundingBoxAscent,r+c.actualBoundingBoxDescent)}recordFullPageBBox(t){return(0,te.A)(Eo,this)[0]=Math.max(0,(0,te.A)(Fo,this)[0]),(0,te.A)(Eo,this)[1]=Math.max(0,(0,te.A)(Fo,this)[1]),(0,te.A)(Eo,this)[2]=Math.min((0,te.A)(Qo,this),(0,te.A)(Fo,this)[2]),(0,te.A)(Eo,this)[3]=Math.min((0,te.A)(Po,this),(0,te.A)(Fo,this)[3]),this}getSimpleIndex(t){return(0,te.A)(wo,this)[t]}recordDependencies(t,e){const n=(0,te.A)(So,this),A=(0,te.A)(wo,this),i=(0,te.A)(Bo,this);for(const r of e)r in(0,te.A)(wo,this)?n.add(A[r]):r in i&&i[r].forEach(n.add,n);return this}recordNamedDependency(t,e){return(0,te.A)(yo,this).has(e)&&(0,te.A)(So,this).add((0,te.A)(yo,this).get(e)),this}recordOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.recordDependencies(t,[lo]),(0,te.A)(To,this)){const e=vo((0,te.A)(To,this),t),{dependencies:n}=e;(0,te.A)(So,this).forEach(n.add,n),(0,te.A)(bo,this).forEach(n.add,n),(0,te.A)(Co,this).forEach(n.add,n),n.delete(t),e.isRenderingOperation=!0}if((0,te.A)(xo,this)===t){const n=co(256*(0,te.A)(Eo,this)[0]/(0,te.A)(Qo,this)),A=co(256*(0,te.A)(Eo,this)[1]/(0,te.A)(Po,this)),i=ho(256*(0,te.A)(Eo,this)[2]/(0,te.A)(Qo,this)),r=ho(256*(0,te.A)(Eo,this)[3]/(0,te.A)(Po,this));uo((0,te.A)(Mo,this),t,n,A,i,r);for(const e of(0,te.A)(So,this))e!==t&&uo((0,te.A)(Mo,this),e,n,A,i,r);for(const e of(0,te.A)(bo,this))e!==t&&uo((0,te.A)(Mo,this),e,n,A,i,r);for(const e of(0,te.A)(Co,this))e!==t&&uo((0,te.A)(Mo,this),e,n,A,i,r);e||((0,te.A)(So,this).clear(),(0,ee.A)(xo,this,-1))}return this}recordShowTextOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Array.from((0,te.A)(So,this));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const A of n)this.recordIncrementalData("sameLineText",A);return this}bboxToClipBoxDropOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,te.A)(xo,this)===t&&((0,ee.A)(xo,this,-1),(0,te.A)(Fo,this)[0]=Math.max((0,te.A)(Fo,this)[0],(0,te.A)(Eo,this)[0]),(0,te.A)(Fo,this)[1]=Math.max((0,te.A)(Fo,this)[1],(0,te.A)(Eo,this)[1]),(0,te.A)(Fo,this)[2]=Math.min((0,te.A)(Fo,this)[2],(0,te.A)(Eo,this)[2]),(0,te.A)(Fo,this)[3]=Math.min((0,te.A)(Fo,this)[3],(0,te.A)(Eo,this)[3]),e||(0,te.A)(So,this).clear()),this}_takePendingDependencies(){const t=(0,te.A)(So,this);return(0,ee.A)(So,this,new Set),t}_extractOperation(t){const e=(0,te.A)(ko,this).get(t);return(0,te.A)(ko,this).delete(t),e}_pushPendingDependencies(t){for(const e of t)(0,te.A)(So,this).add(e)}take(){return(0,te.A)(Uo,this).clear(),new mo((0,te.A)(Io,this),(0,te.A)(Mo,this))}takeDebugMetadata(){return(0,te.A)(To,this)}}function Ro(t,e){const n=new ArrayBuffer(4*t);(0,ee.A)(Mo,this,new Uint8ClampedArray(n)),(0,ee.A)(Io,this,new Uint32Array(n)),e&&e.length>0?((0,te.A)(Io,this).set(e),(0,te.A)(Io,this).fill(po,e.length)):(0,te.A)(Io,this).fill(po)}var Oo=new WeakMap,Ho=new WeakMap,No=new WeakMap,Go=new WeakMap,Ko=new WeakMap;class Wo{constructor(t,e,n){if((0,Zt.A)(this,Oo,void 0),(0,Zt.A)(this,Ho,void 0),(0,Zt.A)(this,No,void 0),(0,Zt.A)(this,Go,0),(0,Zt.A)(this,Ko,0),t instanceof Wo&&(0,te.A)(No,t)===!!n)return t;(0,ee.A)(Oo,this,t),(0,ee.A)(Ho,this,e),(0,ee.A)(No,this,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(t){var e;return(0,ee.A)(Ko,this,(e=(0,te.A)(Ko,this),e++,e)),(0,te.A)(Oo,this).save((0,te.A)(Ho,this)),this}restore(t){var e;(0,te.A)(Ko,this)>0&&((0,te.A)(Oo,this).restore((0,te.A)(Ho,this)),(0,ee.A)(Ko,this,(e=(0,te.A)(Ko,this),e--,e)));return this}recordOpenMarker(t){var e;return(0,ee.A)(Go,this,(e=(0,te.A)(Go,this),e++,e)),this}getOpenMarker(){return(0,te.A)(Go,this)>0?(0,te.A)(Ho,this):(0,te.A)(Oo,this).getOpenMarker()}recordCloseMarker(t){var e;return(0,ee.A)(Go,this,(e=(0,te.A)(Go,this),e--,e)),this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return(0,te.A)(Oo,this).pushBaseTransform(t),this}popBaseTransform(){return(0,te.A)(Oo,this).popBaseTransform(),this}recordSimpleData(t,e){return(0,te.A)(Oo,this).recordSimpleData(t,(0,te.A)(Ho,this)),this}recordIncrementalData(t,e){return(0,te.A)(Oo,this).recordIncrementalData(t,(0,te.A)(Ho,this)),this}resetIncrementalData(t,e){return(0,te.A)(Oo,this).resetIncrementalData(t,(0,te.A)(Ho,this)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return(0,te.A)(Oo,this).recordSimpleDataFromNamed(t,e,(0,te.A)(Ho,this)),this}recordFutureForcedDependency(t,e){return(0,te.A)(Oo,this).recordFutureForcedDependency(t,(0,te.A)(Ho,this)),this}inheritSimpleDataAsFutureForcedDependencies(t){return(0,te.A)(Oo,this).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return(0,te.A)(Oo,this).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return(0,te.A)(No,this)||(0,te.A)(Oo,this).resetBBox((0,te.A)(Ho,this)),this}recordClipBox(t,e,n,A,i,r){return(0,te.A)(No,this)||(0,te.A)(Oo,this).recordClipBox((0,te.A)(Ho,this),e,n,A,i,r),this}recordBBox(t,e,n,A,i,r){return(0,te.A)(No,this)||(0,te.A)(Oo,this).recordBBox((0,te.A)(Ho,this),e,n,A,i,r),this}recordCharacterBBox(t,e,n,A,i,r,s){return(0,te.A)(No,this)||(0,te.A)(Oo,this).recordCharacterBBox((0,te.A)(Ho,this),e,n,A,i,r,s),this}recordFullPageBBox(t){return(0,te.A)(No,this)||(0,te.A)(Oo,this).recordFullPageBBox((0,te.A)(Ho,this)),this}getSimpleIndex(t){return(0,te.A)(Oo,this).getSimpleIndex(t)}recordDependencies(t,e){return(0,te.A)(Oo,this).recordDependencies((0,te.A)(Ho,this),e),this}recordNamedDependency(t,e){return(0,te.A)(Oo,this).recordNamedDependency((0,te.A)(Ho,this),e),this}recordOperation(t){return(0,te.A)(Oo,this).recordOperation((0,te.A)(Ho,this),!0),this}recordShowTextOperation(t){return(0,te.A)(Oo,this).recordShowTextOperation((0,te.A)(Ho,this),!0),this}bboxToClipBoxDropOperation(t){return(0,te.A)(No,this)||(0,te.A)(Oo,this).bboxToClipBoxDropOperation((0,te.A)(Ho,this),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const jo=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],Vo=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],zo=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],Xo=["filter","fillColor","fillAlpha"],qo=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],Yo=["transform"],Jo=["transform","fillColor"],Zo="Fill",$o="Stroke",tl="Shading";function el(t,e){if(!e)return;const n=e[2]-e[0],A=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,A),t.clip(i)}class nl{isModifyingCurrentTransform(){return!1}getPattern(){We("Abstract method `getPattern` called.")}}class Al extends nl{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,A){let i;if(A===$o||A===Zo){const r=e.current.getClippedPathBoundingBox(A,Pn(t))||[0,0,0,0],s=Math.ceil(r[2]-r[0])||1,a=Math.ceil(r[3]-r[1])||1,o=e.cachedCanvases.getCanvas("pattern",s,a),l=o.context;l.clearRect(0,0,l.canvas.width,l.canvas.height),l.beginPath(),l.rect(0,0,l.canvas.width,l.canvas.height),l.translate(-r[0],-r[1]),n=an.transform(n,[1,0,0,1,r[0],r[1]]),l.transform(...e.baseTransform),this.matrix&&l.transform(...this.matrix),el(l,this._bbox),l.fillStyle=this._createGradient(l),l.fill(),i=t.createPattern(o.canvas,"no-repeat");const c=new DOMMatrix(n);i.setTransform(c)}else el(t,this._bbox),i=this._createGradient(t);return i}}function il(t,e,n,A,i,r,s,a){const o=e.coords,l=e.colors,c=t.data,h=4*t.width;let u;o[n+1]>o[A+1]&&(u=n,n=A,A=u,u=r,r=s,s=u),o[A+1]>o[i+1]&&(u=A,A=i,i=u,u=s,s=a,a=u),o[n+1]>o[A+1]&&(u=n,n=A,A=u,u=r,r=s,s=u);const d=(o[n]+e.offsetX)*e.scaleX,p=(o[n+1]+e.offsetY)*e.scaleY,g=(o[A]+e.offsetX)*e.scaleX,f=(o[A+1]+e.offsetY)*e.scaleY,m=(o[i]+e.offsetX)*e.scaleX,v=(o[i+1]+e.offsetY)*e.scaleY;if(p>=v)return;const w=l[r],B=l[r+1],y=l[r+2],b=l[s],C=l[s+1],_=l[s+2],F=l[a],E=l[a+1],x=l[a+2],S=Math.round(p),k=Math.round(v);let U,Q,P,M,I,T,D,L;for(let R=S;R<=k;R++){if(R<f){const t=R<p?0:(p-R)/(p-f);U=d-(d-g)*t,Q=w-(w-b)*t,P=B-(B-C)*t,M=y-(y-_)*t}else{let t;t=R>v?1:f===v?0:(f-R)/(f-v),U=g-(g-m)*t,Q=b-(b-F)*t,P=C-(C-E)*t,M=_-(_-x)*t}let t;t=R<p?0:R>v?1:(p-R)/(p-v),I=d-(d-m)*t,T=w-(w-F)*t,D=B-(B-E)*t,L=y-(y-x)*t;const e=Math.round(Math.min(U,I)),n=Math.round(Math.max(U,I));let A=h*R+4*e;for(let i=e;i<=n;i++)t=(U-i)/(U-I),t<0?t=0:t>1&&(t=1),c[A++]=Q-(Q-T)*t|0,c[A++]=P-(P-D)*t|0,c[A++]=M-(M-L)*t|0,c[A++]=255}}function rl(t,e,n){const A=e.coords,i=e.colors;let r,s;switch(e.type){case"lattice":const a=e.verticesPerRow,o=Math.floor(A.length/a)-1,l=a-1;for(r=0;r<o;r++){let e=r*a;for(let r=0;r<l;r++,e++)il(t,n,A[e],A[e+1],A[e+a],i[e],i[e+1],i[e+a]),il(t,n,A[e+a+1],A[e+1],A[e+a],i[e+a+1],i[e+1],i[e+a])}break;case"triangles":for(r=0,s=A.length;r<s;r+=3)il(t,n,A[r],A[r+1],A[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class sl extends nl{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const A=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),r=Math.ceil(this._bounds[2])-A,s=Math.ceil(this._bounds[3])-i,a=Math.min(Math.ceil(Math.abs(r*t[0]*1.1)),3e3),o=Math.min(Math.ceil(Math.abs(s*t[1]*1.1)),3e3),l=r/a,c=s/o,h={coords:this._coords,colors:this._colors,offsetX:-A,offsetY:-i,scaleX:1/l,scaleY:1/c},u=a+4,d=o+4,p=n.getCanvas("mesh",u,d),g=p.context,f=g.createImageData(a,o);if(e){const t=f.data;for(let n=0,A=t.length;n<A;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const m of this._figures)rl(f,m,h);g.putImageData(f,2,2);return{canvas:p.canvas,offsetX:A-2*l,offsetY:i-2*c,scaleX:l,scaleY:c}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,A){el(t,this._bbox);const i=new Float32Array(2);if(A===tl)an.singularValueDecompose2dScale(Pn(t),i);else if(this.matrix){an.singularValueDecompose2dScale(this.matrix,i);const[t,n]=i;an.singularValueDecompose2dScale(e.baseTransform,i),i[0]*=t,i[1]*=n}else an.singularValueDecompose2dScale(e.baseTransform,i);const r=this._createMeshCanvas(i,A===tl?null:this._background,e.cachedCanvases);return A!==tl&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(r.offsetX,r.offsetY),t.scale(r.scaleX,r.scaleY),t.createPattern(r.canvas,"no-repeat")}}class al extends nl{getPattern(){return"hotpink"}}const ol=1,ll=2;class cl{constructor(t,e,n,A){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=A}createPatternCanvas(t,e){var n,A;const{bbox:i,operatorList:r,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:h}=this;c=Math.abs(c),h=Math.abs(h),Ge("TilingType: "+a);const u=i[0],d=i[1],p=i[2],g=i[3],f=p-u,m=g-d,v=new Float32Array(2);an.singularValueDecompose2dScale(this.matrix,v);const[w,B]=v;an.singularValueDecompose2dScale(this.baseTransform,v);const y=w*v[0],b=B*v[1];let C=f,_=m,F=!1,E=!1;const x=Math.ceil(c*y),S=Math.ceil(h*b);x>=Math.ceil(f*y)?C=c:F=!0,S>=Math.ceil(m*b)?_=h:E=!0;const k=this.getSizeAndScale(C,this.ctx.canvas.width,y),U=this.getSizeAndScale(_,this.ctx.canvas.height,b),Q=t.cachedCanvases.getCanvas("pattern",k.size,U.size),P=Q.context,M=l.createCanvasGraphics(P,e);if(M.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(M,s,o),P.translate(-k.scale*u,-U.scale*d),M.transform(0,k.scale,0,0,U.scale,0,0),P.save(),null===(n=M.dependencyTracker)||void 0===n||n.save(),this.clipBbox(M,u,d,p,g),M.baseTransform=Pn(M.ctx),M.executeOperatorList(r),M.endDrawing(),null===(A=M.dependencyTracker)||void 0===A||A.restore(),P.restore(),F||E){const e=Q.canvas;F&&(C=c),E&&(_=h);const n=this.getSizeAndScale(C,this.ctx.canvas.width,y),A=this.getSizeAndScale(_,this.ctx.canvas.height,b),i=n.size,r=A.size,s=t.cachedCanvases.getCanvas("pattern-workaround",i,r),a=s.context,o=F?Math.floor(f/c):0,l=E?Math.floor(m/h):0;for(let t=0;t<=o;t++)for(let n=0;n<=l;n++)a.drawImage(e,i*t,r*n,i,r,0,0,i,r);return{canvas:s.canvas,scaleX:n.scale,scaleY:A.scale,offsetX:u,offsetY:d}}return{canvas:Q.canvas,scaleX:k.scale,scaleY:U.scale,offsetX:u,offsetY:d}}getSizeAndScale(t,e,n){const A=Math.max(cl.MAX_PATTERN_SIZE,e);let i=Math.ceil(t*n);return i>=A?i=A:n=i/t,{scale:n,size:i}}clipBbox(t,e,n,A,i){const r=A-e,s=i-n;t.ctx.rect(e,n,r,s),an.axialAlignedBoundingBox([e,n,A,i],Pn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const A=t.ctx,i=t.current;switch(e){case ol:const{fillStyle:t,strokeStyle:r}=this.ctx;A.fillStyle=i.fillColor=t,A.strokeStyle=i.strokeColor=r;break;case ll:A.fillStyle=A.strokeStyle=n,i.fillColor=i.strokeColor=n;break;default:throw new tn("Unsupported paint type: ".concat(e))}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,A,i){let r=n;A!==tl&&(r=an.transform(r,e.baseTransform),this.matrix&&(r=an.transform(r,this.matrix)));const s=this.createPatternCanvas(e,i);let a=new DOMMatrix(r);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const o=t.createPattern(s.canvas,"repeat");return o.setTransform(a),o}}function hl(t){let{src:e,srcPos:n=0,dest:A,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}=t;const o=rn.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],h=i>>3,u=7&i,d=e.length;A=new Uint32Array(A.buffer);let p=0;for(let g=0;g<r;g++){for(const i=n+h;n<i;n++){const t=n<d?e[n]:255;A[p++]=128&t?c:l,A[p++]=64&t?c:l,A[p++]=32&t?c:l,A[p++]=16&t?c:l,A[p++]=8&t?c:l,A[p++]=4&t?c:l,A[p++]=2&t?c:l,A[p++]=1&t?c:l}if(0===u)continue;const t=n<d?e[n++]:255;for(let e=0;e<u;e++)A[p++]=t&1<<7-e?c:l}return{srcPos:n,destPos:p}}(0,ne.A)(cl,"MAX_PATTERN_SIZE",3e3);const ul=16,dl=new DOMMatrix,pl=new Float32Array(2),gl=new Float32Array([1/0,1/0,-1/0,-1/0]);class fl{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let A;return void 0!==this.cache[t]?(A=this.cache[t],this.canvasFactory.reset(A,e,n)):(A=this.canvasFactory.create(e,n),this.cache[t]=A),A}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function ml(t,e,n,A,i,r,s,a,o,l){const[c,h,u,d,p,g]=Pn(t);if(0===h&&0===u){const f=s*c+p,m=Math.round(f),v=a*d+g,w=Math.round(v),B=(s+o)*c+p,y=Math.abs(Math.round(B)-m)||1,b=(a+l)*d+g,C=Math.abs(Math.round(b)-w)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(d),m,w),t.drawImage(e,n,A,i,r,0,0,y,C),t.setTransform(c,h,u,d,p,g),[y,C]}if(0===c&&0===d){const f=a*u+p,m=Math.round(f),v=s*h+g,w=Math.round(v),B=(a+l)*u+p,y=Math.abs(Math.round(B)-m)||1,b=(s+o)*h+g,C=Math.abs(Math.round(b)-w)||1;return t.setTransform(0,Math.sign(h),Math.sign(u),0,m,w),t.drawImage(e,n,A,i,r,0,0,C,y),t.setTransform(c,h,u,d,p,g),[C,y]}t.drawImage(e,n,A,i,r,s,a,o,l);return[Math.hypot(c,h)*o,Math.hypot(u,d)*l]}class vl{constructor(t,e,n){(0,ne.A)(this,"alphaIsShape",!1),(0,ne.A)(this,"fontSize",0),(0,ne.A)(this,"fontSizeScale",1),(0,ne.A)(this,"textMatrix",null),(0,ne.A)(this,"textMatrixScale",1),(0,ne.A)(this,"fontMatrix",se),(0,ne.A)(this,"leading",0),(0,ne.A)(this,"x",0),(0,ne.A)(this,"y",0),(0,ne.A)(this,"lineX",0),(0,ne.A)(this,"lineY",0),(0,ne.A)(this,"charSpacing",0),(0,ne.A)(this,"wordSpacing",0),(0,ne.A)(this,"textHScale",1),(0,ne.A)(this,"textRenderingMode",Be),(0,ne.A)(this,"textRise",0),(0,ne.A)(this,"fillColor","#000000"),(0,ne.A)(this,"strokeColor","#000000"),(0,ne.A)(this,"patternFill",!1),(0,ne.A)(this,"patternStroke",!1),(0,ne.A)(this,"fillAlpha",1),(0,ne.A)(this,"strokeAlpha",1),(0,ne.A)(this,"lineWidth",1),(0,ne.A)(this,"activeSMask",null),(0,ne.A)(this,"transferMaps","none"),null===n||void 0===n||n(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=gl.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(t===$o){e||We("Stroke bounding box must include transform."),an.singularValueDecompose2dScale(e,pl);const t=pl[0]*this.lineWidth/2,A=pl[1]*this.lineWidth/2;n[0]-=t,n[1]-=A,n[2]+=t,n[3]+=A}return n}updateClipFromPath(){const t=an.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(gl,0)}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return an.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function wl(t,e){if(e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,A=e.width,i=n%ul,r=(n-i)/ul,s=0===i?r:r+1,a=t.createImageData(A,ul);let o,l=0;const c=e.data,h=a.data;let u,d,p,g;if(e.kind===Ee.GRAYSCALE_1BPP){const e=c.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),g=n.length,f=A+7>>3,m=4294967295,v=rn.isLittleEndian?4278190080:255;for(u=0;u<s;u++){for(p=u<r?ul:i,o=0,d=0;d<p;d++){const t=e-l;let i=0;const r=t>f?A:8*t-7,s=-8&r;let a=0,h=0;for(;i<s;i+=8)h=c[l++],n[o++]=128&h?m:v,n[o++]=64&h?m:v,n[o++]=32&h?m:v,n[o++]=16&h?m:v,n[o++]=8&h?m:v,n[o++]=4&h?m:v,n[o++]=2&h?m:v,n[o++]=1&h?m:v;for(;i<r;i++)0===a&&(h=c[l++],a=128),n[o++]=h&a?m:v,a>>=1}for(;o<g;)n[o++]=0;t.putImageData(a,0,u*ul)}}else if(e.kind===Ee.RGBA_32BPP){for(d=0,g=A*ul*4,u=0;u<r;u++)h.set(c.subarray(l,l+g)),l+=g,t.putImageData(a,0,d),d+=ul;u<s&&(g=A*i*4,h.set(c.subarray(l,l+g)),t.putImageData(a,0,d))}else{if(e.kind!==Ee.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));for(p=ul,g=A*p,u=0;u<s;u++){for(u>=r&&(p=i,g=A*p),o=0,d=g;d--;)h[o++]=c[l++],h[o++]=c[l++],h[o++]=c[l++],h[o++]=255;t.putImageData(a,0,u*ul)}}}function Bl(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,A=e.width,i=n%ul,r=(n-i)/ul,s=0===i?r:r+1,a=t.createImageData(A,ul);let o=0;const l=e.data,c=a.data;for(let h=0;h<s;h++){const e=h<r?ul:i;({srcPos:o}=hl({src:l,srcPos:o,dest:c,width:A,height:e,nonBlackColor:0})),t.putImageData(a,0,h*ul)}}function yl(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const A of n)void 0!==t[A]&&(e[A]=t[A]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function bl(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}function Cl(t,e){if(e)return!0;an.singularValueDecompose2dScale(t,pl);const n=Math.fround(Tn.pixelRatio*wn.PDF_TO_CSS_UNITS);return pl[0]<=n&&pl[1]<=n}const _l=["butt","round","square"],Fl=["miter","round","bevel"],El={},xl={};var Sl=new WeakSet;class kl{constructor(t,e,n,A,i,r,s,a,o){let{optionalContentConfig:l,markedContentStack:c=null}=r;(0,Jt.A)(this,Sl),this.ctx=t,this.current=new vl(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=A,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new fl(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=a,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=null!==o&&void 0!==o?o:null}getObject(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var A;return"string"===typeof e?(null===(A=this.dependencyTracker)||void 0===A||A.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing(t){let{transform:e,viewport:n,transparency:A=!1,background:i=null}=t;const r=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,s),this.ctx.fillStyle=a,A){const t=this.cachedCanvases.getCanvas("transparent",r,s);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...Pn(this.compositeCtx))}this.ctx.save(),bl(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Pn(this.ctx)}executeOperatorList(t,e,n,A,i){const r=t.argsArray,s=t.fnArray;let a=e||0;const o=r.length;if(o===a)return a;const l=o-a>10&&"function"===typeof n,c=l?Date.now()+15:0;let h=0;const u=this.commonObjs,d=this.objs;let p,g;for(;;){if(void 0!==A&&a===A.nextBreakPoint)return A.breakIt(a,n),a;var f;if(!i||i(a))if(p=s[a],g=null!==(f=r[a])&&void 0!==f?f:null,p!==Ie.dependency)null===g?this[p](a):this[p](a,...g);else for(const t of g){var m;null===(m=this.dependencyTracker)||void 0===m||m.recordNamedData(t,a);const e=t.startsWith("g_")?u:d;if(!e.has(t))return e.get(t,n),a}if(a++,a===o)return a;if(l&&++h>10){if(Date.now()>c)return n(),a;h=0}}}endDrawing(){(0,Ae.A)(Sl,this,Ul).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),(0,Ae.A)(Sl,this,Ql).call(this)}_scaleImage(t,e){var n,A;const i=null!==(n=t.width)&&void 0!==n?n:t.displayWidth,r=null!==(A=t.height)&&void 0!==A?A:t.displayHeight;let s,a,o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=i,h=r,u="prescale1";for(;o>2&&c>1||l>2&&h>1;){let e=c,n=h;o>2&&c>1&&(e=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/e),l>2&&h>1&&(n=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/n),s=this.cachedCanvases.getCanvas(u,e,n),a=s.context,a.clearRect(0,0,e,n),a.drawImage(t,0,0,c,h,0,0,e,n),t=s.canvas,c=e,h=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t,e){var n;const A=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,a=this.current.patternFill,o=Pn(A);let l,c,h,u;if((e.bitmap||e.data)&&e.count>1){const n=e.bitmap||e.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(n),l||(l=new Map,this._cachedBitmapsMap.set(n,l));const A=l.get(c);if(A&&!a){var d;const e=Math.round(Math.min(o[0],o[2])+o[4]),n=Math.round(Math.min(o[1],o[3])+o[5]);return null===(d=this.dependencyTracker)||void 0===d||d.recordDependencies(t,Jo),{canvas:A,offsetX:e,offsetY:n}}h=A}h||(u=this.cachedCanvases.getCanvas("maskCanvas",i,r),Bl(u.context,e));let p=an.transform(o,[1/i,0,0,-1/r,0,0]);p=an.transform(p,[1,0,0,1,0,-r]);const g=gl.slice();an.axialAlignedBoundingBox([0,0,i,r],p,g);const[f,m,v,w]=g,B=Math.round(v-f)||1,y=Math.round(w-m)||1,b=this.cachedCanvases.getCanvas("fillCanvas",B,y),C=b.context,_=f,F=m;C.translate(-_,-F),C.transform(...p),h||(h=this._scaleImage(u.canvas,Mn(C)),h=h.img,l&&a&&l.set(c,h)),C.imageSmoothingEnabled=Cl(Pn(C),e.interpolate),ml(C,h,0,0,h.width,h.height,0,0,i,r),C.globalCompositeOperation="source-in";const E=an.transform(Mn(C),[1,0,0,1,-_,-F]);return C.fillStyle=a?s.getPattern(A,this,E,Zo,t):s,C.fillRect(0,0,i,r),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,b.canvas)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Jo),{canvas:b.canvas,offsetX:Math.round(_),offsetY:Math.round(F)}}setLineWidth(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineCap",t),this.ctx.lineCap=_l[e]}setLineJoin(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineJoin",t),this.ctx.lineJoin=Fl[e]}setMiterLimit(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){var A;null===(A=this.dependencyTracker)||void 0===A||A.recordSimpleData("dash",t);const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(e),i.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var n,A,i,r,s;for(const[a,o]of e)switch(a){case"LW":this.setLineWidth(t,o);break;case"LC":this.setLineCap(t,o);break;case"LJ":this.setLineJoin(t,o);break;case"ML":this.setMiterLimit(t,o);break;case"D":this.setDash(t,o[0],o[1]);break;case"RI":this.setRenderingIntent(t,o);break;case"FL":this.setFlatness(t,o);break;case"Font":this.setFont(t,o[0],o[1]);break;case"CA":null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=o;break;case"ca":null===(A=this.dependencyTracker)||void 0===A||A.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=o;break;case"BM":null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=o;break;case"SMask":null===(r=this.dependencyTracker)||void 0===r||r.recordSimpleData("SMask",t),this.current.activeSMask=o?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(o)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,A="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(A,e,n);this.suspendedCtx=this.ctx;const r=this.ctx=i.context;r.setTransform(this.suspendedCtx.getTransform()),yl(this.suspendedCtx,r),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,A,i,r,s){e.transform(t,n,A,i,r,s),this.__originalTransform(t,n,A,i,r,s)},t.setTransform=function(t,n,A,i,r,s){e.setTransform(t,n,A,i,r,s),this.__originalSetTransform(t,n,A,i,r,s)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,A,i,r,s){e.bezierCurveTo(t,n,A,i,r,s),this.__originalBezierCurveTo(t,n,A,i,r,s)},t.rect=function(t,n,A,i){e.rect(t,n,A,i),this.__originalRect(t,n,A,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(r,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),yl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,A){const i=A[0],r=A[1],s=A[2]-i,a=A[3]-r;0!==s&&0!==a&&(this.genericComposeSMask(e.context,n,s,a,e.subtype,e.backdrop,e.transferMap,i,r,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,A,i,r,s,a,o,l,c){let h=t.canvas,u=a-l,d=o-c;if(r)if(u<0||d<0||u+n>h.width||d+A>h.height){const t=this.cachedCanvases.getCanvas("maskExtension",n,A),e=t.context;e.drawImage(h,-u,-d),e.globalCompositeOperation="destination-atop",e.fillStyle=r,e.fillRect(0,0,n,A),e.globalCompositeOperation="source-over",h=t.canvas,u=d=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const e=new Path2D;e.rect(u,d,n,A),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=r,t.fillRect(u,d,n,A),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===i&&s?e.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===i&&(e.filter=this.filterFactory.addLuminosityFilter(s));const p=new Path2D;p.rect(a,o,n,A),e.clip(p),e.globalCompositeOperation="destination-in",e.drawImage(h,u,d,n,A,a,o,n,A),e.restore()}save(t){var e;this.inSMaskMode&&yl(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),null===(e=this.dependencyTracker)||void 0===e||e.save(t)}restore(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.restore(t),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&yl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(t,e,n,A,i,r,s){var a;null===(a=this.dependencyTracker)||void 0===a||a.recordIncrementalData("transform",t),this.ctx.transform(e,n,A,i,r,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,A){let[i]=n;if(!A)return i||(i=n[0]=new Path2D),void this[e](t,i);if(null!==this.dependencyTracker){const n=e===Ie.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,A[0]-n,A[2]+n,A[1]-n,A[3]+n).recordDependencies(t,["transform"])}if(!(i instanceof Path2D)){const t=n[0]=new Path2D;for(let e=0,n=i.length;e<n;)switch(i[e++]){case Te:t.moveTo(i[e++],i[e++]);break;case De:t.lineTo(i[e++],i[e++]);break;case Le:t.bezierCurveTo(i[e++],i[e++],i[e++],i[e++],i[e++],i[e++]);break;case Re:t.closePath();break;default:Ke("Unrecognized drawing path operator: ".concat(i[e-1]))}i=t}an.axialAlignedBoundingBox(A,Pn(this.ctx),this.current.minMax),this[e](t,i),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e){var n;let A=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof r&&null!==r&&void 0!==r&&r.getPattern){const n=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,Mn(i),$o,t),n){const t=new Path2D;t.addPath(e,i.getTransform().invertSelf().multiplySelf(n)),e=t}this.rescaleAndStroke(e,!1),i.restore()}else this.rescaleAndStroke(e,!0);null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,jo),A&&this.consumePath(t,e,this.current.getClippedPathBoundingBox($o,Pn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e){var n;let A=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.ctx,r=this.current.fillColor;let s=!1;if(this.current.patternFill){var a;const n=r.isModifyingCurrentTransform()?i.getTransform():null;if(null===(a=this.dependencyTracker)||void 0===a||a.save(t),i.save(),i.fillStyle=r.getPattern(i,this,Mn(i),Zo,t),n){const t=new Path2D;t.addPath(e,i.getTransform().invertSelf().multiplySelf(n)),e=t}s=!0}const o=this.current.getClippedPathBoundingBox();var l;(this.contentVisible&&null!==o&&(this.pendingEOFill?(i.fill(e,"evenodd"),this.pendingEOFill=!1):i.fill(e)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Vo),s)&&(i.restore(),null===(l=this.dependencyTracker)||void 0===l||l.restore(t));A&&this.consumePath(t,e,o)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var n;this.ctx.fill(e),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Xo).recordOperation(t)}clip(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=El}eoClip(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=xl}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,null===(e=this.dependencyTracker)||void 0===e||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;void 0!==e&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",t),n.recordCloseMarker(t)}if(void 0!==e){const t=new Path2D,A=n.getTransform().invertSelf();for(const{transform:n,x:i,y:r,fontSize:s,path:a}of e)a&&t.addPath(a,new DOMMatrix(n).preMultiplySelf(A).translate(i,r).scale(s,-s));n.clip(t)}delete this.pendingTextPaths}setCharSpacing(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){var A,i;null===(A=this.dependencyTracker)||void 0===A||A.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(s.fontMatrix=r.fontMatrix||se,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||Ke("Invalid font matrix for font "+e),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=(null===(i=r.systemFontInfo)||void 0===i?void 0:i.css)||'"'.concat(a,'", ').concat(r.fallbackName);let l="normal";r.black?l="900":r.bold&&(l="bold");const c=r.italic?"italic":"normal";let h=n;n<16?h=16:n>100&&(h=100),this.current.fontSizeScale=n/h,this.ctx.font="".concat(c," ").concat(l," ").concat(h,"px ").concat(o)}setTextRenderingMode(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){var A;null===(A=this.dependencyTracker)||void 0===A||A.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textMatrix",t);const{current:A}=this;A.textMatrix=e,A.textMatrixScale=Math.hypot(e[0],e[1]),A.x=A.lineX=0,A.y=A.lineY=0}nextLine(t){var e,n;this.moveText(t,0,this.current.leading),null===(e=this.dependencyTracker)||void 0===e||e.recordIncrementalData("moveText",null!==(n=this.dependencyTracker.getSimpleIndex("leading"))&&void 0!==n?n:t)}paintChar(t,e,n,A,i,r){const s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,h=l&_e,u=!!(l&Fe),d=a.patternFill&&!o.missingFile,p=a.patternStroke&&!o.missingFile;let g;if((o.disableFontFace||u||d||p)&&!o.missingFile&&(g=o.getPathGenerator(this.commonObjs,e)),g&&(o.disableFontFace||d||p)){var f;let e;if(s.save(),s.translate(n,A),s.scale(c,-c),null===(f=this.dependencyTracker)||void 0===f||f.recordCharacterBBox(t,s,o),h===Be||h===be)if(i){e=s.getTransform(),s.setTransform(...i);const t=(0,Ae.A)(Sl,this,Pl).call(this,g,e,i);s.fill(t)}else s.fill(g);if(h===ye||h===be)if(r){e||(e=s.getTransform()),s.setTransform(...r);const{a:t,b:n,c:A,d:i}=e,a=an.inverseTransform(r),o=an.transform([t,n,A,i,0,0],a);an.singularValueDecompose2dScale(o,pl),s.lineWidth*=Math.max(pl[0],pl[1])/c,s.stroke((0,Ae.A)(Sl,this,Pl).call(this,g,e,r))}else s.lineWidth/=c,s.stroke(g);s.restore()}else{var m;if(h===Be||h===be)s.fillText(e,n,A),null===(m=this.dependencyTracker)||void 0===m||m.recordCharacterBBox(t,s,o,c,n,A,()=>s.measureText(e));if(h===ye||h===be){var v;if(this.dependencyTracker)null===(v=this.dependencyTracker)||void 0===v||v.recordCharacterBBox(t,s,o,c,n,A,()=>s.measureText(e)).recordDependencies(t,jo);s.strokeText(e,n,A)}}if(u){var w;(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Pn(s),x:n,y:A,fontSize:c,path:g}),null===(w=this.dependencyTracker)||void 0===w||w.recordCharacterBBox(t,s,o,c,n,A)}}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let A=3;A<e.length;A+=4)if(e[A]>0&&e[A]<255){n=!0;break}return Xe(this,"isFontSubpixelAAEnabled",n)}showText(t,e){var n;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,qo).resetBBox(t),this.current.textRenderingMode&Fe&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const A=this.current,i=A.font;var r;if(i.isType3Font)return this.showType3Text(t,e),void(null===(r=this.dependencyTracker)||void 0===r||r.recordShowTextOperation(t));const s=A.fontSize;var a;if(0===s)return void(null===(a=this.dependencyTracker)||void 0===a||a.recordOperation(t));const o=this.ctx,l=A.fontSizeScale,c=A.charSpacing,h=A.wordSpacing,u=A.fontDirection,d=A.textHScale*u,p=e.length,g=i.vertical,f=g?1:-1,m=i.defaultVMetrics,v=s*A.fontMatrix[0],w=A.textRenderingMode===Be&&!i.disableFontFace&&!A.patternFill;let B,y;if(o.save(),A.textMatrix&&o.transform(...A.textMatrix),o.translate(A.x,A.y+A.textRise),u>0?o.scale(d,-1):o.scale(d,1),A.patternFill){o.save();const e=A.fillColor.getPattern(o,this,Mn(o),Zo,t);B=Pn(o),o.restore(),o.fillStyle=e}if(A.patternStroke){o.save();const e=A.strokeColor.getPattern(o,this,Mn(o),$o,t);y=Pn(o),o.restore(),o.strokeStyle=e}let b=A.lineWidth;const C=A.textMatrixScale;if(0===C||0===b){const t=A.textRenderingMode&_e;t!==ye&&t!==be||(b=this.getSinglePixelWidth())}else b/=C;if(1!==l&&(o.scale(l,l),b/=l),o.lineWidth=b,i.isInvalidPDFjsFont){const n=[];let i=0;for(const t of e)n.push(t.unicode),i+=t.width;const r=n.join("");if(o.fillText(r,0,0),null!==this.dependencyTracker){const e=o.measureText(r);this.dependencyTracker.recordBBox(t,this.ctx,-e.actualBoundingBoxLeft,e.actualBoundingBoxRight,-e.actualBoundingBoxAscent,e.actualBoundingBoxDescent).recordShowTextOperation(t)}return A.x+=i*v*d,o.restore(),void this.compose()}let _,F=0;for(_=0;_<p;++_){const n=e[_];if("number"===typeof n){F+=f*n*s/1e3;continue}let A=!1;const r=(n.isSpace?h:0)+c,a=n.fontChar,d=n.accent;let p,b,C,x=n.width;if(g){const t=n.vmetric||m,e=-(n.vmetric?t[1]:.5*x)*v,A=t[2]*v;x=t?-t[0]:x,p=e/l,b=(F+A)/l}else p=F/l,b=0;if(i.remeasure&&x>0){C=o.measureText(a);const t=1e3*C.width/s*l;if(x<t&&this.isFontSubpixelAAEnabled){const e=x/t;A=!0,o.save(),o.scale(e,1),p/=e}else x!==t&&(p+=(x-t)/2e3*s/l)}var E;if(this.contentVisible&&(n.isInFont||i.missingFile))if(w&&!d)o.fillText(a,p,b),null===(E=this.dependencyTracker)||void 0===E||E.recordCharacterBBox(t,o,C?{bbox:null}:i,s/l,p,b,()=>null!==C&&void 0!==C?C:o.measureText(a));else if(this.paintChar(t,a,p,b,B,y),d){const e=p+s*d.offset.x/l,n=b-s*d.offset.y/l;this.paintChar(t,d.fontChar,e,n,B,y)}F+=g?x*v-r*u:x*v+r*u,A&&o.restore()}g?A.y-=F:A.x+=F*d,o.restore(),this.compose(),null===(n=this.dependencyTracker)||void 0===n||n.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,A=this.current,i=A.font,r=A.fontSize,s=A.fontDirection,a=i.vertical?1:-1,o=A.charSpacing,l=A.wordSpacing,c=A.textHScale*s,h=A.fontMatrix||se,u=e.length;let d,p,g,f;if(A.textRenderingMode===Ce||0===r)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),A.textMatrix&&n.transform(...A.textMatrix),n.translate(A.x,A.y+A.textRise),n.scale(c,s);const m=this.dependencyTracker;for(this.dependencyTracker=m?new Wo(m,t):null,d=0;d<u;++d){if(p=e[d],"number"===typeof p){f=a*p*r/1e3,this.ctx.translate(f,0),A.x+=f*c;continue}const t=(p.isSpace?l:0)+o,s=i.charProcOperatorList[p.operatorListId];s?this.contentVisible&&(this.save(),n.scale(r,r),n.transform(...h),this.executeOperatorList(s),this.restore()):Ke('Type3 character "'.concat(p.operatorListId,'" is not available.'));const u=[p.width,0];an.applyTransform(u,h),g=u[0]*r+t,n.translate(g,0),A.x+=g*c}n.restore(),m&&(this.dependencyTracker=m)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,A,i,r,s){var a;const o=new Path2D;o.rect(A,i,r-A,s-i),this.ctx.clip(o),null===(a=this.dependencyTracker)||void 0===a||a.recordBBox(t,this.ctx,A,r,i,s).recordClipBox(t,this.ctx,A,r,i,s),this.endPath(t)}getColorN_Pattern(t,e){let n;if("TilingPattern"===e[0]){const t=this.baseTransform||Pn(this.ctx),A={createCanvasGraphics:(t,e)=>new kl(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Wo(this.dependencyTracker,e,!0):null)};n=new cl(e,this.ctx,A,t)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("strokeColor",t);for(var n=arguments.length,A=new Array(n>1?n-1:0),i=1;i<n;i++)A[i-1]=arguments[i];this.current.strokeColor=this.getColorN_Pattern(t,A),this.current.patternStroke=!0}setFillColorN(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("fillColor",t);for(var n=arguments.length,A=new Array(n>1?n-1:0),i=1;i<n;i++)A[i-1]=arguments[i];this.current.fillColor=this.getColorN_Pattern(t,A),this.current.patternFill=!0}setStrokeRGBColor(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e){let n,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=function(t){switch(t[0]){case"RadialAxial":return new Al(t);case"Mesh":return new sl(t);case"Dummy":return new al}throw new Error("Unknown IR type: ".concat(t[0]))}(this.getObject(t,e)),this.cachedPatterns.set(e,n)),A&&(n.matrix=A),n}shadingFill(t,e){var n;if(!this.contentVisible)return;const A=this.ctx;this.save(t);const i=this._getPattern(t,e);A.fillStyle=i.getPattern(A,this,Mn(A),tl,t);const r=Mn(A);if(r){const{width:t,height:e}=A.canvas,n=gl.slice();an.axialAlignedBoundingBox([0,0,t,e],r,n);const[i,s,a,o]=n;this.ctx.fillRect(i,s,a-i,o-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Yo).recordDependencies(t,Vo).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){We("Should not call beginInlineImage")}beginImageData(){We("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Pn(this.ctx),n)){var A;an.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[e,i,r,s]=n,a=new Path2D;a.rect(e,i,r-e,s-i),this.ctx.clip(a),null===(A=this.dependencyTracker)||void 0===A||A.recordClipBox(t,this.ctx,e,r,i,s),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var n;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const A=this.ctx;e.isolated||Ge("TODO: Support non-isolated groups."),e.knockout&&Ke("Knockout groups not supported.");const i=Pn(A);if(e.matrix&&A.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=gl.slice();an.axialAlignedBoundingBox(e.bbox,Pn(A),r);const s=[0,0,A.canvas.width,A.canvas.height];r=an.intersect(r,s)||[0,0,0,0];const a=Math.floor(r[0]),o=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-a,1),c=Math.max(Math.ceil(r[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(h,l,c),d=u.context;d.translate(-a,-o),d.transform(...i);let p=new Path2D;const[g,f,m,v]=e.bbox;if(p.rect(g,f,m-g,v-f),e.matrix){const t=new Path2D;t.addPath(p,new DOMMatrix(e.matrix)),p=t}d.clip(p),e.smask&&this.smaskStack.push({canvas:u.canvas,context:d,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),e.smask&&!this.dependencyTracker||(A.setTransform(1,0,0,1,0,0),A.translate(a,o),A.save()),yl(A,d),this.ctx=d,null===(n=this.dependencyTracker)||void 0===n||n.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(A),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(A),this.groupLevel++}endGroup(t,e){var n;if(!this.contentVisible)return;this.groupLevel--;const A=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,null===(n=this.dependencyTracker)||void 0===n||n.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const e=Pn(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...e);const n=gl.slice();an.axialAlignedBoundingBox([0,0,A.canvas.width,A.canvas.height],e,n),this.ctx.drawImage(A.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,A,i,r){if((0,Ae.A)(Sl,this,Ul).call(this),bl(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const i=n[2]-n[0],s=n[3]-n[1];if(r&&this.annotationCanvasMap){(A=A.slice())[4]-=n[0],A[5]-=n[1],(n=n.slice())[0]=n[1]=0,n[2]=i,n[3]=s,an.singularValueDecompose2dScale(Pn(this.ctx),pl);const{viewportScale:t}=this,r=Math.ceil(i*this.outputScaleX*t),a=Math.ceil(s*this.outputScaleY*t);this.annotationCanvas=this.canvasFactory.create(r,a);const{canvas:o,context:l}=this.annotationCanvas;this.annotationCanvasMap.set(e,o),this.annotationCanvas.savedCtx=this.ctx,this.ctx=l,this.ctx.save(),this.ctx.setTransform(pl[0],0,0,-pl[1],0,s*pl[1]),bl(this.ctx)}else{bl(this.ctx),this.endPath(t);const e=new Path2D;e.rect(n[0],n[1],i,s),this.ctx.clip(e)}}this.current=new vl(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...A),this.transform(t,...i)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),(0,Ae.A)(Sl,this,Ql).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var n;if(!this.contentVisible)return;const A=e.count;(e=this.getObject(t,e.data,e)).count=A;const i=this.ctx,r=this._createMaskCanvas(t,e),s=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,r.offsetX,r.offsetY),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordBBox(t,this.ctx,r.offsetX,r.offsetX+s.width,r.offsetY,r.offsetY+s.height).recordOperation(t),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n){var A,i;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const l=this.ctx;l.save();const c=Pn(l);l.transform(n,r,s,a,0,0);const h=this._createMaskCanvas(t,e);l.setTransform(1,0,0,1,h.offsetX-c[4],h.offsetY-c[5]),null===(A=this.dependencyTracker)||void 0===A||A.resetBBox(t);for(let d=0,p=o.length;d<p;d+=2){var u;const e=an.transform(c,[n,r,s,a,o[d],o[d+1]]);l.drawImage(h.canvas,e[4],e[5]),null===(u=this.dependencyTracker)||void 0===u||u.recordBBox(t,this.ctx,e[4],e[4]+h.canvas.width,e[5],e[5]+h.canvas.height)}l.restore(),this.compose(),null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var n,A;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordDependencies(t,Jo);for(const o of e){var a;const{data:e,width:n,height:A,transform:l}=o,c=this.cachedCanvases.getCanvas("maskCanvas",n,A),h=c.context;h.save();Bl(h,this.getObject(t,e,o)),h.globalCompositeOperation="source-in",h.fillStyle=s?r.getPattern(h,this,Mn(i),Zo,t):r,h.fillRect(0,0,n,A),h.restore(),i.save(),i.transform(...l),i.scale(1,-1),ml(i,c.canvas,0,0,n,A,0,-1,1,1),null===(a=this.dependencyTracker)||void 0===a||a.recordBBox(t,i,0,n,0,A),i.restore()}this.compose(),null===(A=this.dependencyTracker)||void 0===A||A.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);n?this.paintInlineImageXObject(t,n):Ke("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,A,i){if(!this.contentVisible)return;const r=this.getObject(t,e);if(!r)return void Ke("Dependent image isn't ready yet");const s=r.width,a=r.height,o=[];for(let l=0,c=i.length;l<c;l+=2)o.push({transform:[n,0,0,A,i[l],i[l+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(t,r,o)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:A}=t,i=this.cachedCanvases.getCanvas("inlineImage",n,A),r=i.context;return r.filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",i.canvas}paintInlineImageXObject(t,e){var n;if(!this.contentVisible)return;const A=e.width,i=e.height,r=this.ctx;this.save(t);const{filter:s}=r;let a;if("none"!==s&&""!==s&&(r.filter="none"),r.scale(1/A,-1/i),e.bitmap)a=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const t=this.cachedCanvases.getCanvas("inlineImage",A,i).context;wl(t,e),a=this.applyTransferMapsToCanvas(t)}const o=this._scaleImage(a,Mn(r));r.imageSmoothingEnabled=Cl(Pn(r),e.interpolate),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordBBox(t,r,0,A,-i,0).recordDependencies(t,zo).recordOperation(t),ml(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,A,i),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){var A,i;if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const t=e.width,n=e.height,A=this.cachedCanvases.getCanvas("inlineImage",t,n).context;wl(A,e),s=this.applyTransferMapsToCanvas(A)}null===(A=this.dependencyTracker)||void 0===A||A.resetBBox(t);for(const o of n){var a;r.save(),r.transform(...o.transform),r.scale(1,-1),ml(r,s,o.x,o.y,o.w,o.h,0,-1,1,1),null===(a=this.dependencyTracker)||void 0===a||a.recordBBox(t,r,0,1,-1,0),r.restore()}null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&(null===(e=this.dependencyTracker)||void 0===e||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Vo).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){var A;null===(A=this.dependencyTracker)||void 0===A||A.beginMarkedContent(t),"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const A=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const i=this.ctx;var r,s;this.pendingClip?(A||(this.pendingClip===xl?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null,null===(r=this.dependencyTracker)||void 0===r||r.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):null===(s=this.dependencyTracker)||void 0===s||s.recordOperation(t);this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Pn(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),A=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,A)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:A,d:i}=this.ctx.getTransform();let r,s;if(0===n&&0===A){const n=Math.abs(e),A=Math.abs(i);if(n===A)if(0===t)r=s=1/n;else{const e=n*t;r=s=e<1?1/e:1}else if(0===t)r=1/n,s=1/A;else{const e=n*t,i=A*t;r=e<1?1/e:1,s=i<1?1/i:1}}else{const a=Math.abs(e*i-n*A),o=Math.hypot(e,n),l=Math.hypot(A,i);if(0===t)r=l/a,s=o/a;else{const e=t*a;r=l>e?l/e:1,s=o>e?o/e:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:A}}=this,[i,r]=this.getScaleForStroking();if(i===r)return n.lineWidth=(A||1)*i,void n.stroke(t);const s=n.getLineDash();e&&n.save(),n.scale(i,r),dl.a=1/i,dl.d=1/r;const a=new Path2D;if(a.addPath(t,dl),s.length>0){const t=Math.max(i,r);n.setLineDash(s.map(e=>e/t)),n.lineDashOffset/=t}n.lineWidth=A||1,n.stroke(a),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}function Ul(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Ql(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}function Pl(t,e,n){const A=new Path2D;return A.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),A}for(const ey in Ie)void 0!==kl.prototype[ey]&&(kl.prototype[Ie[ey]]=kl.prototype[ey]);var Ml=new WeakMap,Il=new WeakMap,Tl=new WeakMap,Dl=new WeakSet;class Ll{static write(t){const e=new TextEncoder,n={};let A=0;for(const o of Ll.strings){const i=e.encode(t[o]);n[o]=i,A+=4+i.length}const i=new ArrayBuffer(A),r=new Uint8Array(i),s=new DataView(i);let a=0;for(const o of Ll.strings){const t=n[o],e=t.length;s.setUint32(a,e),r.set(t,a+4),a+=4+e}return je(a===i.byteLength,"CssFontInfo.write: Buffer overflow"),i}constructor(t){(0,Jt.A)(this,Dl),(0,Zt.A)(this,Ml,void 0),(0,Zt.A)(this,Il,void 0),(0,Zt.A)(this,Tl,void 0),(0,ee.A)(Ml,this,t),(0,ee.A)(Il,this,new DataView((0,te.A)(Ml,this))),(0,ee.A)(Tl,this,new TextDecoder)}get fontFamily(){return(0,Ae.A)(Dl,this,Rl).call(this,0)}get fontWeight(){return(0,Ae.A)(Dl,this,Rl).call(this,1)}get italicAngle(){return(0,Ae.A)(Dl,this,Rl).call(this,2)}}function Rl(t){je(t<Dt.strings.length,"Invalid string index");let e=0;for(let A=0;A<t;A++)e+=(0,te.A)(Il,this).getUint32(e)+4;const n=(0,te.A)(Il,this).getUint32(e);return(0,te.A)(Tl,this).decode(new Uint8Array((0,te.A)(Ml,this),e+4,n))}Dt=Ll,(0,ne.A)(Ll,"strings",["fontFamily","fontWeight","italicAngle"]);var Ol=new WeakMap,Hl=new WeakMap,Nl=new WeakMap,Gl=new WeakSet;class Kl{static write(t){const e=new TextEncoder,n={};let A=0;for(const h of Kl.strings){const i=e.encode(t[h]);n[h]=i,A+=4+i.length}A+=4;let i,r,s=1+A;t.style&&(i=e.encode(t.style.style),r=e.encode(t.style.weight),s+=4+i.length+4+r.length);const a=new ArrayBuffer(s),o=new Uint8Array(a),l=new DataView(a);let c=0;l.setUint8(c++,t.guessFallback?1:0),l.setUint32(c,0),c+=4,A=0;for(const h of Kl.strings){const t=n[h],e=t.length;A+=4+e,l.setUint32(c,e),o.set(t,c+4),c+=4+e}return l.setUint32(c-A-4,A),t.style&&(l.setUint32(c,i.length),o.set(i,c+4),c+=4+i.length,l.setUint32(c,r.length),o.set(r,c+4),c+=4+r.length),je(c<=a.byteLength,"SubstitionInfo.write: Buffer overflow"),a.transferToFixedLength(c)}constructor(t){(0,Jt.A)(this,Gl),(0,Zt.A)(this,Ol,void 0),(0,Zt.A)(this,Hl,void 0),(0,Zt.A)(this,Nl,void 0),(0,ee.A)(Ol,this,t),(0,ee.A)(Hl,this,new DataView((0,te.A)(Ol,this))),(0,ee.A)(Nl,this,new TextDecoder)}get guessFallback(){return 0!==(0,te.A)(Hl,this).getUint8(0)}get css(){return(0,Ae.A)(Gl,this,Wl).call(this,0)}get loadedName(){return(0,Ae.A)(Gl,this,Wl).call(this,1)}get baseFontName(){return(0,Ae.A)(Gl,this,Wl).call(this,2)}get src(){return(0,Ae.A)(Gl,this,Wl).call(this,3)}get style(){let t=1;t+=4+(0,te.A)(Hl,this).getUint32(t);const e=(0,te.A)(Hl,this).getUint32(t),n=(0,te.A)(Nl,this).decode(new Uint8Array((0,te.A)(Ol,this),t+4,e));t+=4+e;const A=(0,te.A)(Hl,this).getUint32(t);return{style:n,weight:(0,te.A)(Nl,this).decode(new Uint8Array((0,te.A)(Ol,this),t+4,A))}}}function Wl(t){je(t<Lt.strings.length,"Invalid string index");let e=5;for(let A=0;A<t;A++)e+=(0,te.A)(Hl,this).getUint32(e)+4;const n=(0,te.A)(Hl,this).getUint32(e);return(0,te.A)(Nl,this).decode(new Uint8Array((0,te.A)(Ol,this),e+4,n))}Lt=Kl,(0,ne.A)(Kl,"strings",["css","loadedName","baseFontName","src"]);var jl=new WeakMap,Vl=new WeakMap,zl=new WeakMap,Xl=new WeakSet;class ql{constructor(t){let{data:e,extra:n}=t;(0,Jt.A)(this,Xl),(0,Zt.A)(this,jl,void 0),(0,Zt.A)(this,Vl,void 0),(0,Zt.A)(this,zl,void 0),(0,ee.A)(jl,this,e),(0,ee.A)(Vl,this,new TextDecoder),(0,ee.A)(zl,this,new DataView((0,te.A)(jl,this))),n&&Object.assign(this,n)}get black(){return(0,Ae.A)(Xl,this,Yl).call(this,0)}get bold(){return(0,Ae.A)(Xl,this,Yl).call(this,1)}get disableFontFace(){return(0,Ae.A)(Xl,this,Yl).call(this,2)}get fontExtraProperties(){return(0,Ae.A)(Xl,this,Yl).call(this,3)}get isInvalidPDFjsFont(){return(0,Ae.A)(Xl,this,Yl).call(this,4)}get isType3Font(){return(0,Ae.A)(Xl,this,Yl).call(this,5)}get italic(){return(0,Ae.A)(Xl,this,Yl).call(this,6)}get missingFile(){return(0,Ae.A)(Xl,this,Yl).call(this,7)}get remeasure(){return(0,Ae.A)(Xl,this,Yl).call(this,8)}get vertical(){return(0,Ae.A)(Xl,this,Yl).call(this,9)}get ascent(){return(0,Ae.A)(Xl,this,Jl).call(this,0)}get defaultWidth(){return(0,Ae.A)(Xl,this,Jl).call(this,1)}get descent(){return(0,Ae.A)(Xl,this,Jl).call(this,2)}get bbox(){let t=tc._;if(0===(0,te.A)(zl,this).getUint8(t))return;t+=1;const e=[];for(let n=0;n<4;n++)e.push((0,te.A)(zl,this).getInt16(t,!0)),t+=2;return e}get fontMatrix(){let t=ec._;if(0===(0,te.A)(zl,this).getUint8(t))return;t+=1;const e=[];for(let n=0;n<6;n++)e.push((0,te.A)(zl,this).getFloat64(t,!0)),t+=8;return e}get defaultVMetrics(){let t=nc._;if(0===(0,te.A)(zl,this).getUint8(t))return;t+=1;const e=[];for(let n=0;n<3;n++)e.push((0,te.A)(zl,this).getInt16(t,!0)),t+=2;return e}get fallbackName(){return(0,Ae.A)(Xl,this,Zl).call(this,0)}get loadedName(){return(0,Ae.A)(Xl,this,Zl).call(this,1)}get mimetype(){return(0,Ae.A)(Xl,this,Zl).call(this,2)}get name(){return(0,Ae.A)(Xl,this,Zl).call(this,3)}get data(){let t=Ac._;t+=4+(0,te.A)(zl,this).getUint32(t);t+=4+(0,te.A)(zl,this).getUint32(t);t+=4+(0,te.A)(zl,this).getUint32(t);const e=(0,te.A)(zl,this).getUint32(t);if(0!==e)return new Uint8Array((0,te.A)(jl,this),t+4,e)}clearData(){let t=Ac._;t+=4+(0,te.A)(zl,this).getUint32(t);t+=4+(0,te.A)(zl,this).getUint32(t);t+=4+(0,te.A)(zl,this).getUint32(t);const e=(0,te.A)(zl,this).getUint32(t);new Uint8Array((0,te.A)(jl,this),t+4,e).fill(0),(0,te.A)(zl,this).setUint32(t,0)}get cssFontInfo(){let t=Ac._;t+=4+(0,te.A)(zl,this).getUint32(t);t+=4+(0,te.A)(zl,this).getUint32(t);const e=(0,te.A)(zl,this).getUint32(t);if(0===e)return null;const n=new Uint8Array(e);return n.set(new Uint8Array((0,te.A)(jl,this),t+4,e)),new Ll(n.buffer)}get systemFontInfo(){let t=Ac._;t+=4+(0,te.A)(zl,this).getUint32(t);const e=(0,te.A)(zl,this).getUint32(t);if(0===e)return null;const n=new Uint8Array(e);return n.set(new Uint8Array((0,te.A)(jl,this),t+4,e)),new Kl(n.buffer)}static write(t){const e=t.systemFontInfo?Kl.write(t.systemFontInfo):null,n=t.cssFontInfo?Ll.write(t.cssFontInfo):null,A=new TextEncoder,i={};let r=0;for(const p of ql.strings)i[p]=A.encode(t[p]),r+=4+i[p].length;const s=Ac._+4+r+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),a=new ArrayBuffer(s),o=new Uint8Array(a),l=new DataView(a);let c=0;const h=ql.bools.length;let u=0,d=0;for(let p=0;p<h;p++){const e=t[ql.bools[p]];u|=(void 0===e?0:e?2:1)<<d,d+=2,8!==d&&p!==h-1||(l.setUint8(c++,u),u=0,d=0)}je(c===$l._,"FontInfo.write: Boolean properties offset mismatch");for(const p of ql.numbers)l.setFloat64(c,t[p]),c+=8;if(je(c===tc._,"FontInfo.write: Number properties offset mismatch"),t.bbox){l.setUint8(c++,4);for(const e of t.bbox)l.setInt16(c,e,!0),c+=2}else l.setUint8(c++,0),c+=8;if(je(c===ec._,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){l.setUint8(c++,6);for(const e of t.fontMatrix)l.setFloat64(c,e,!0),c+=8}else l.setUint8(c++,0),c+=48;if(je(c===nc._,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){l.setUint8(c++,1);for(const e of t.defaultVMetrics)l.setInt16(c,e,!0),c+=2}else l.setUint8(c++,0),c+=6;je(c===Ac._,"FontInfo.write: DefaultVMetrics properties offset mismatch"),l.setUint32(Ac._,0),c+=4;for(const p of ql.strings){const t=i[p],e=t.length;l.setUint32(c,e),o.set(t,c+4),c+=4+e}if(l.setUint32(Ac._,c-Ac._-4),e){const t=e.byteLength;l.setUint32(c,t),je(c+4+t<=a.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),o.set(new Uint8Array(e),c+4),c+=4+t}else l.setUint32(c,0),c+=4;if(n){const t=n.byteLength;l.setUint32(c,t),je(c+4+t<=a.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),o.set(new Uint8Array(n),c+4),c+=4+t}else l.setUint32(c,0),c+=4;return void 0===t.data?(l.setUint32(c,0),c+=4):(l.setUint32(c,t.data.length),o.set(t.data,c+4),c+=4+t.data.length),je(c<=a.byteLength,"FontInfo.write: Buffer overflow"),a.transferToFixedLength(c)}}function Yl(t){je(t<Rt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=2*t%8,A=(0,te.A)(zl,this).getUint8(e)>>n&3;return 0===A?void 0:2===A}function Jl(t){return je(t<Rt.numbers.length,"Invalid number index"),(0,te.A)(zl,this).getFloat64($l._+8*t)}function Zl(t){je(t<Rt.strings.length,"Invalid string index");let e=Ac._+4;for(let i=0;i<t;i++)e+=(0,te.A)(zl,this).getUint32(e)+4;const n=(0,te.A)(zl,this).getUint32(e),A=new Uint8Array(n);return A.set(new Uint8Array((0,te.A)(jl,this),e+4,n)),(0,te.A)(Vl,this).decode(A)}Rt=ql,(0,ne.A)(ql,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),(0,ne.A)(ql,"numbers",["ascent","defaultWidth","descent"]),(0,ne.A)(ql,"strings",["fallbackName","loadedName","mimetype","name"]);var $l={_:Math.ceil(2*Rt.bools.length/8)},tc={_:(0,Ae.A)(Rt,Rt,$l)._+8*Rt.numbers.length},ec={_:(0,Ae.A)(Rt,Rt,tc)._+1+8},nc={_:(0,Ae.A)(Rt,Rt,ec)._+1+48},Ac={_:(0,Ae.A)(Rt,Rt,nc)._+1+6};class ic{static get workerPort(){return(0,Ae.A)(ic,this,rc)._}static set workerPort(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");rc._=(0,Ae.A)(ic,this,t)}static get workerSrc(){return(0,Ae.A)(ic,this,sc)._}static set workerSrc(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");sc._=(0,Ae.A)(ic,this,t)}}var rc={_:null},sc={_:""},ac=new WeakMap,oc=new WeakMap;class lc{constructor(t){let{parsedData:e,rawData:n}=t;(0,Zt.A)(this,ac,void 0),(0,Zt.A)(this,oc,void 0),(0,ee.A)(ac,this,e),(0,ee.A)(oc,this,n)}getRaw(){return(0,te.A)(oc,this)}get(t){var e;return null!==(e=(0,te.A)(ac,this).get(t))&&void 0!==e?e:null}[Symbol.iterator](){return(0,te.A)(ac,this).entries()}}const cc=Symbol("INTERNAL");var hc=new WeakMap,uc=new WeakMap,dc=new WeakMap,pc=new WeakMap;class gc{constructor(t,e){let{name:n,intent:A,usage:i,rbGroups:r}=e;(0,Zt.A)(this,hc,!1),(0,Zt.A)(this,uc,!1),(0,Zt.A)(this,dc,!1),(0,Zt.A)(this,pc,!0),(0,ee.A)(hc,this,!!(t&le)),(0,ee.A)(uc,this,!!(t&ce)),this.name=n,this.intent=A,this.usage=i,this.rbGroups=r}get visible(){if((0,te.A)(dc,this))return(0,te.A)(pc,this);if(!(0,te.A)(pc,this))return!1;const{print:t,view:e}=this.usage;return(0,te.A)(hc,this)?"OFF"!==(null===e||void 0===e?void 0:e.viewState):!(0,te.A)(uc,this)||"OFF"!==(null===t||void 0===t?void 0:t.printState)}_setVisible(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==cc&&We("Internal method `_setVisible` called."),(0,ee.A)(dc,this,n),(0,ee.A)(pc,this,e)}}var fc=new WeakMap,mc=new WeakMap,vc=new WeakMap,wc=new WeakMap,Bc=new WeakSet;class yc{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le;if((0,Jt.A)(this,Bc),(0,Zt.A)(this,fc,null),(0,Zt.A)(this,mc,new Map),(0,Zt.A)(this,vc,null),(0,Zt.A)(this,wc,null),this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,(0,ee.A)(wc,this,t.order);for(const n of t.groups)(0,te.A)(mc,this).set(n.id,new gc(e,n));if("OFF"===t.baseState)for(const t of(0,te.A)(mc,this).values())t._setVisible(cc,!1);for(const e of t.on)(0,te.A)(mc,this).get(e)._setVisible(cc,!0);for(const e of t.off)(0,te.A)(mc,this).get(e)._setVisible(cc,!1);(0,ee.A)(vc,this,this.getHash())}}isVisible(t){if(0===(0,te.A)(mc,this).size)return!0;if(!t)return Ge("Optional content group not defined."),!0;if("OCG"===t.type)return(0,te.A)(mc,this).has(t.id)?(0,te.A)(mc,this).get(t.id).visible:(Ke("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return(0,Ae.A)(Bc,this,bc).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!(0,te.A)(mc,this).has(e))return Ke("Optional content group not found: ".concat(e)),!0;if((0,te.A)(mc,this).get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!(0,te.A)(mc,this).has(e))return Ke("Optional content group not found: ".concat(e)),!0;if(!(0,te.A)(mc,this).get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!(0,te.A)(mc,this).has(e))return Ke("Optional content group not found: ".concat(e)),!0;if(!(0,te.A)(mc,this).get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!(0,te.A)(mc,this).has(e))return Ke("Optional content group not found: ".concat(e)),!0;if((0,te.A)(mc,this).get(e).visible)return!1}return!0}return Ke("Unknown optional content policy ".concat(t.policy,".")),!0}return Ke("Unknown group type ".concat(t.type,".")),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const A=(0,te.A)(mc,this).get(t);if(A){if(n&&e&&A.rbGroups.length)for(const e of A.rbGroups)for(const n of e){var i;if(n!==t)null===(i=(0,te.A)(mc,this).get(n))||void 0===i||i._setVisible(cc,!1,!0)}A._setVisible(cc,!!e,!0),(0,ee.A)(fc,this,null)}else Ke("Optional content group not found: ".concat(t))}setOCGState(t){let e,{state:n,preserveRB:A}=t;for(const i of n){switch(i){case"ON":case"OFF":case"Toggle":e=i;continue}const t=(0,te.A)(mc,this).get(i);if(t)switch(e){case"ON":this.setVisibility(i,!0,A);break;case"OFF":this.setVisibility(i,!1,A);break;case"Toggle":this.setVisibility(i,!t.visible,A)}}(0,ee.A)(fc,this,null)}get hasInitialVisibility(){return null===(0,te.A)(vc,this)||this.getHash()===(0,te.A)(vc,this)}getOrder(){return(0,te.A)(mc,this).size?(0,te.A)(wc,this)?(0,te.A)(wc,this).slice():[...(0,te.A)(mc,this).keys()]:null}getGroup(t){return(0,te.A)(mc,this).get(t)||null}getHash(){if(null!==(0,te.A)(fc,this))return(0,te.A)(fc,this);const t=new Hs;for(const[e,n]of(0,te.A)(mc,this))t.update("".concat(e,":").concat(n.visible));return(0,ee.A)(fc,this,t.hexdigest())}[Symbol.iterator](){return(0,te.A)(mc,this).entries()}}function bc(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let A=1;A<e;A++){const e=t[A];let i;if(Array.isArray(e))i=(0,Ae.A)(Bc,this,bc).call(this,e);else{if(!(0,te.A)(mc,this).has(e))return Ke("Optional content group not found: ".concat(e)),!0;i=(0,te.A)(mc,this).get(e).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}class Cc{constructor(t,e){let{disableRange:n=!1,disableStream:A=!1}=e;je(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:s,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,(null===r||void 0===r?void 0:r.length)>0){const t=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!A,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((t,e)=>{this._onReceiveData({begin:t,chunk:e})}),t.addProgressListener((t,e)=>{this._onProgress({loaded:t,total:e})}),t.addProgressiveReadListener(t=>{this._onReceiveData({chunk:t})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData(t){let{begin:e,chunk:n}=t;const A=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(A):this._queuedChunks.push(A);else{je(this._rangeReaders.some(function(t){return t._begin===e&&(t._enqueue(A),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}_onProgress(t){var e,n,A,i;void 0===t.total?null===(e=this._rangeReaders[0])||void 0===e||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded}):null===(A=this._fullRequestReader)||void 0===A||null===(i=A.onProgress)||void 0===i||i.call(A,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;null===(t=this._fullRequestReader)||void 0===t||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){je(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new _c(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Fc(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class _c{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=_n(A)?A:null,this._queuedChunks=e||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Fc{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Ec(t,e){const n=new Headers;if(!t||!e||"object"!==typeof e)return n;for(const A in e){const t=e[A];void 0!==t&&n.append(A,t)}return n}function xc(t){var e,n;return null!==(e=null===(n=URL.parse(t))||void 0===n?void 0:n.origin)&&void 0!==e?e:null}function Sc(t){let{responseHeaders:e,isHttp:n,rangeChunkSize:A,disableRange:i}=t;const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e.get("Content-Length"),10);if(!Number.isInteger(s))return r;if(r.suggestedLength=s,s<=2*A)return r;if(i||!n)return r;if("bytes"!==e.get("Accept-Ranges"))return r;return"identity"!==(e.get("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function kc(t){const e=t.get("Content-Disposition");if(e){let t=function(t){let e=!0,n=A("filename\\*","i").exec(t);if(n){n=n[1];let t=s(n);return t=unescape(t),t=a(t),t=o(t),r(t)}if(n=function(t){const e=[];let n;const i=A("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(t));){let[,t,A,i]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[A,i]}const r=[];for(let A=0;A<e.length&&A in e;++A){let[t,n]=e[A];n=s(n),t&&(n=unescape(n),0===A&&(n=a(n))),r.push(n)}return r.join("")}(t),n)return r(o(n));if(n=A("filename","i").exec(t),n){n=n[1];let t=s(n);return t=o(t),r(t)}function A(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function i(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const A=new TextDecoder(t,{fatal:!0}),i=An(n);n=A.decode(i),e=!1}catch(A){}}return n}function r(t){return e&&/[\x80-\xff]/.test(t)&&(t=i("utf-8",t),e&&(t=i("iso-8859-1",t))),t}function s(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function a(t){const e=t.indexOf("'");return-1===e?t:i(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function o(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(t,e,n,A){if("q"===n||"Q"===n)return i(e,A=(A=A.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}));try{A=atob(A)}catch(r){}return i(e,A)})}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(n){}if(_n(t))return t}return null}function Uc(t,e){return new $e("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t,404===t||0===t&&e.startsWith("file:"))}function Qc(t){return 200===t||206===t}function Pc(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Mc(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ke("getArrayBuffer - unexpected data format: ".concat(t)),new Uint8Array(t).buffer)}class Ic{constructor(t){(0,ne.A)(this,"_responseOrigin",null),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Ec(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return je(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Tc(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Dc(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Tc{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),A=e.url;fetch(A,Pc(n,this._withCredentials,this._abortController)).then(e=>{if(t._responseOrigin=xc(e.url),!Qc(e.status))throw Uc(e.status,A);this._reader=e.body.getReader(),this._headersCapability.resolve();const n=e.headers,{allowRangeRequests:i,suggestedLength:r}=Sc({responseHeaders:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=r||this._contentLength,this._filename=kc(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new en("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Mc(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class Dc{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const A=t.source;this._withCredentials=A.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!A.disableStream,this._abortController=new AbortController;const i=new Headers(t.headers);i.append("Range","bytes=".concat(e,"-").concat(n-1));const r=A.url;fetch(r,Pc(i,this._withCredentials,this._abortController)).then(e=>{const n=xc(e.url);if(n!==t._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(t._responseOrigin,'".'));if(!Qc(e.status))throw Uc(e.status,r);this._readCapability.resolve(),this._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),{value:Mc(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class Lc{constructor(t){let{url:e,httpHeaders:n,withCredentials:A}=t;(0,ne.A)(this,"_responseOrigin",null),this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Ec(this.isHttp,n),this.withCredentials=A||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,A=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[i,r]of this.headers)e.setRequestHeader(i,r);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),A.expectedStatus=206):A.expectedStatus=200,e.responseType="arraybuffer",je(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),A.onHeadersReceived=t.onHeadersReceived,A.onDone=t.onDone,A.onError=t.onError,A.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var n;const A=this.pendingRequests[t];A&&(null===(n=A.onProgress)||void 0===n||n.call(A,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const A=n.xhr;if(A.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==A.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===A.status&&this.isHttp)return void n.onError(A.status);const i=A.status||200;if(!(200===i&&206===n.expectedStatus)&&i!==n.expectedStatus)return void n.onError(A.status);const r=function(t){const e=t.response;return"string"!==typeof e?e:An(e).buffer}(A);if(206===i){const t=A.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);e?n.onDone({begin:parseInt(e[1],10),chunk:r}):(Ke('Missing or invalid "Content-Range" header.'),n.onError(0))}else r?n.onDone({begin:0,chunk:r}):n.onError(A.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Rc{constructor(t){this._source=t,this._manager=new Lc(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return je(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Oc(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new Hc(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Oc{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=xc(e.responseURL);const n=e.getAllResponseHeaders(),A=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(t=>{const[e,...n]=t.split(": ");return[e,n.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:r}=Sc({responseHeaders:A,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=kc(A),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Uc(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Hc{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=xc(null===(t=this._manager.getRequestXhr(this._requestId))||void 0===t?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(e,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}_onDone(t){const e=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){var e;null!==(e=this._storedError)&&void 0!==e||(this._storedError=Uc(t,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Nc=/^[a-z][a-z0-9\-+.]+:/i;class Gc{constructor(t){this.source=t,this.url=function(t){if(Nc.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}(t.url),je("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return je(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Kc(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Wc(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Kc{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(t=>{this._contentLength=t.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},t=>{"ENOENT"===t.code&&(t=Uc(0,this._url.href)),this._storedError=t,this._headersCapability.reject(t)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new en("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Wc{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const A=t.source;this._isStreamingSupported=!A.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const jc=Symbol("INITIAL_DATA");var Vc=new WeakMap,zc=new WeakSet;class Xc{constructor(){(0,Jt.A)(this,zc),(0,Zt.A)(this,Vc,Object.create(null))}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=(0,Ae.A)(zc,this,qc).call(this,t);return n.promise.then(()=>e(n.data)),null}const n=(0,te.A)(Vc,this)[t];if(!n||n.data===jc)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}has(t){const e=(0,te.A)(Vc,this)[t];return!!e&&e.data!==jc}delete(t){const e=(0,te.A)(Vc,this)[t];return!(!e||e.data===jc)&&(delete(0,te.A)(Vc,this)[t],!0)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,Ae.A)(zc,this,qc).call(this,t);n.data=e,n.resolve()}clear(){for(const e in(0,te.A)(Vc,this)){var t;const{data:n}=(0,te.A)(Vc,this)[e];null===n||void 0===n||null===(t=n.bitmap)||void 0===t||t.close()}(0,ee.A)(Vc,this,Object.create(null))}*[Symbol.iterator](){for(const t in(0,te.A)(Vc,this)){const{data:e}=(0,te.A)(Vc,this)[t];e!==jc&&(yield[t,e])}}}function qc(t){var e;return(e=(0,te.A)(Vc,this))[t]||(e[t]=(0,Yt.A)((0,Yt.A)({},Promise.withResolvers()),{},{data:jc}))}var Yc=new WeakMap,Jc=new WeakMap,Zc=new WeakMap,$c=new WeakMap,th=new WeakMap,eh=new WeakMap,nh=new WeakMap,Ah=new WeakMap,ih=new WeakMap,rh=new WeakMap,sh=new WeakMap,ah=new WeakMap,oh=new WeakMap,lh=new WeakMap,ch=new WeakMap,hh=new WeakMap,uh=new WeakMap,dh=new WeakMap,ph=new WeakSet;class gh{constructor(t){var e;let{textContentSource:n,container:A,viewport:i}=t;if((0,Jt.A)(this,ph),(0,Zt.A)(this,Yc,Promise.withResolvers()),(0,Zt.A)(this,Jc,null),(0,Zt.A)(this,Zc,!1),(0,Zt.A)(this,$c,!(null===(e=globalThis.FontInspector)||void 0===e||!e.enabled)),(0,Zt.A)(this,th,null),(0,Zt.A)(this,eh,null),(0,Zt.A)(this,nh,0),(0,Zt.A)(this,Ah,0),(0,Zt.A)(this,ih,null),(0,Zt.A)(this,rh,null),(0,Zt.A)(this,sh,0),(0,Zt.A)(this,ah,0),(0,Zt.A)(this,oh,Object.create(null)),(0,Zt.A)(this,lh,[]),(0,Zt.A)(this,ch,null),(0,Zt.A)(this,hh,[]),(0,Zt.A)(this,uh,new WeakMap),(0,Zt.A)(this,dh,null),n instanceof ReadableStream)(0,ee.A)(ch,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');(0,ee.A)(ch,this,new ReadableStream({start(t){t.enqueue(n),t.close()}}))}(0,ee.A)(Jc,this,(0,ee.A)(rh,this,A)),(0,ee.A)(ah,this,i.scale*Tn.pixelRatio),(0,ee.A)(sh,this,i.rotation),(0,ee.A)(eh,this,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;(0,ee.A)(dh,this,[1,0,0,-1,-a,o+s]),(0,ee.A)(Ah,this,r),(0,ee.A)(nh,this,s),yh.call(gh),In(A,i),(0,te.A)(Yc,this).promise.finally(()=>{xh._.delete(this),(0,ee.A)(eh,this,null),(0,ee.A)(oh,this,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=rn.platform;return Xe(this,"fontFamilyMap",new Map([["sans-serif","".concat(t&&e?"Calibri, ":"","sans-serif")],["monospace","".concat(t&&e?"Lucida Console, ":"","monospace")]]))}render(){const t=()=>{(0,te.A)(ih,this).read().then(e=>{var n;let{value:A,done:i}=e;i?(0,te.A)(Yc,this).resolve():(null!==(n=(0,te.A)(th,this))&&void 0!==n||(0,ee.A)(th,this,A.lang),Object.assign((0,te.A)(oh,this),A.styles),(0,Ae.A)(ph,this,fh).call(this,A.items),t())},(0,te.A)(Yc,this).reject)};return(0,ee.A)(ih,this,(0,te.A)(ch,this).getReader()),xh._.add(this),t(),(0,te.A)(Yc,this).promise}update(t){let{viewport:e,onBefore:n=null}=t;const A=e.scale*Tn.pixelRatio,i=e.rotation;if(i!==(0,te.A)(sh,this)&&(null===n||void 0===n||n(),(0,ee.A)(sh,this,i),In((0,te.A)(rh,this),{rotation:i})),A!==(0,te.A)(ah,this)){null===n||void 0===n||n(),(0,ee.A)(ah,this,A);const t={div:null,properties:null,ctx:wh.call(gh,(0,te.A)(th,this))};for(const e of(0,te.A)(hh,this))t.properties=(0,te.A)(uh,this).get(e),t.div=e,(0,Ae.A)(ph,this,vh).call(this,t)}}cancel(){var t;const e=new en("TextLayer task cancelled.");null===(t=(0,te.A)(ih,this))||void 0===t||t.cancel(e).catch(()=>{}),(0,ee.A)(ih,this,null),(0,te.A)(Yc,this).reject(e)}get textDivs(){return(0,te.A)(hh,this)}get textContentItemsStr(){return(0,te.A)(lh,this)}static cleanup(){if(!((0,Ae.A)(gh,this,xh)._.size>0)){(0,Ae.A)(gh,this,Ch)._.clear();for(const{canvas:t}of(0,Ae.A)(gh,this,_h)._.values())t.remove();(0,Ae.A)(gh,this,_h)._.clear()}}}function fh(t){var e,n;if((0,te.A)(Zc,this))return;null!==(n=(e=(0,te.A)(eh,this)).ctx)&&void 0!==n||(e.ctx=wh.call(Ot,(0,te.A)(th,this)));const A=(0,te.A)(hh,this),i=(0,te.A)(lh,this);for(const r of t){if(A.length>1e5)return Ke("Ignoring additional textDivs for performance reasons."),void(0,ee.A)(Zc,this,!0);if(void 0!==r.str)i.push(r.str),(0,Ae.A)(ph,this,mh).call(this,r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const t=(0,te.A)(Jc,this);(0,ee.A)(Jc,this,document.createElement("span")),(0,te.A)(Jc,this).classList.add("markedContent"),r.id&&(0,te.A)(Jc,this).setAttribute("id","".concat(r.id)),t.append((0,te.A)(Jc,this))}else"endMarkedContent"===r.type&&(0,ee.A)(Jc,this,(0,te.A)(Jc,this).parentNode)}}function mh(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};(0,te.A)(hh,this).push(e);const A=an.transform((0,te.A)(dh,this),t.transform);let i=Math.atan2(A[1],A[0]);const r=(0,te.A)(oh,this)[t.fontName];r.vertical&&(i+=Math.PI/2);let s=(0,te.A)($c,this)&&r.fontSubstitution||r.fontFamily;s=Ot.fontFamilyMap.get(s)||s;const a=Math.hypot(A[2],A[3]),o=a*bh.call(Ot,s,r,(0,te.A)(th,this));let l,c;0===i?(l=A[4],c=A[5]-o):(l=A[4]+o*Math.sin(i),c=A[5]-o*Math.cos(i));const h="calc(var(--total-scale-factor) *",u=e.style;(0,te.A)(Jc,this)===(0,te.A)(rh,this)?(u.left="".concat((100*l/(0,te.A)(Ah,this)).toFixed(2),"%"),u.top="".concat((100*c/(0,te.A)(nh,this)).toFixed(2),"%")):(u.left="".concat(h).concat(l.toFixed(2),"px)"),u.top="".concat(h).concat(c.toFixed(2),"px)")),u.fontSize="".concat(h).concat((Eh._*a).toFixed(2),"px)"),u.fontFamily=s,n.fontSize=a,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,(0,te.A)($c,this)&&(e.dataset.fontName=r.fontSubstitutionLoadedName||t.fontName),0!==i&&(n.angle=i*(180/Math.PI));let d=!1;if(t.str.length>1)d=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(d=!0)}if(d&&(n.canvasWidth=r.vertical?t.height:t.width),(0,te.A)(uh,this).set(e,n),(0,te.A)(eh,this).div=e,(0,te.A)(eh,this).properties=n,(0,Ae.A)(ph,this,vh).call(this,(0,te.A)(eh,this)),n.hasText&&(0,te.A)(Jc,this).append(e),n.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),(0,te.A)(Jc,this).append(t)}}function vh(t){const{div:e,properties:n,ctx:A}=t,{style:i}=e;let r="";if(Eh._>1&&(r="scale(".concat(1/Eh._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:t}=i,{canvasWidth:s,fontSize:a}=n;Bh.call(Ot,A,a*(0,te.A)(ah,this),t);const{width:o}=A.measureText(e.textContent);o>0&&(r="scaleX(".concat(s*(0,te.A)(ah,this)/o,") ").concat(r))}0!==n.angle&&(r="rotate(".concat(n.angle,"deg) ").concat(r)),r.length>0&&(i.transform=r)}function wh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=(0,Ae.A)(Ot,this,_h)._.get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),(0,Ae.A)(Ot,this,_h)._.set(t,e),(0,Ae.A)(Ot,this,Fh)._.set(e,{size:0,family:""})}return e}function Bh(t,e,n){const A=(0,Ae.A)(Ot,this,Fh)._.get(t);e===A.size&&n===A.family||(t.font="".concat(e,"px ").concat(n),A.size=e,A.family=n)}function yh(){if(null!==(0,Ae.A)(Ot,this,Eh)._)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),Eh._=(0,Ae.A)(Ot,this,t.getBoundingClientRect().height),t.remove()}function bh(t,e,n){const A=(0,Ae.A)(Ot,this,Ch)._.get(t);if(A)return A;const i=(0,Ae.A)(Ot,this,wh).call(this,n);i.canvas.width=i.canvas.height=30,(0,Ae.A)(Ot,this,Bh).call(this,i,30,t);const r=i.measureText(""),s=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let o=.8;return s?o=s/(s+a):(rn.platform.isFirefox&&Ke("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?o=e.ascent:e.descent&&(o=1+e.descent)),(0,Ae.A)(Ot,this,Ch)._.set(t,o),o}Ot=gh;var Ch={_:new Map},_h={_:new Map},Fh={_:new WeakMap},Eh={_:null},xh={_:new Set};function Sh(){var t,e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const A=new kh,{docId:i}=A,r=n.url?function(t){if(t instanceof URL)return t.href;if("string"===typeof t){if(re)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,s=n.data?function(t){if(re&&"undefined"!==typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"===typeof t)return An(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===typeof t&&!isNaN(null===t||void 0===t?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,a=n.httpHeaders||null,o=!0===n.withCredentials,l=null!==(t=n.password)&&void 0!==t?t:null,c=n.range instanceof Dh?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let u=n.worker instanceof zh?n.worker:null;const d=n.verbosity,p="string"!==typeof n.docBaseUrl||Cn(n.docBaseUrl)?null:n.docBaseUrl,g=ea(n.cMapUrl),f=!1!==n.cMapPacked,m=n.CMapReaderFactory||(re?so:Ua),v=ea(n.iccUrl),w=ea(n.standardFontDataUrl),B=n.StandardFontDataFactory||(re?ao:to),y=ea(n.wasmUrl),b=n.WasmFactory||(re?oo:no),C=!0!==n.stopAtErrors,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,F=!1!==n.isEvalSupported,E="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!re,x="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!re&&(rn.platform.isFirefox||!globalThis.chrome),S=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,k="boolean"===typeof n.disableFontFace?n.disableFontFace:re,U=!0===n.fontExtraProperties,Q=!0===n.enableXfa,P=n.ownerDocument||globalThis.document,M=!0===n.disableRange,I=!0===n.disableStream,T=!0===n.disableAutoFetch,D=!0===n.pdfBug,L=n.CanvasFactory||(re?ro:Sa),R=n.FilterFactory||(re?io:Ha),O=!0===n.enableHWA,H=!1!==n.useWasm,N=c?c.length:null!==(e=n.length)&&void 0!==e?e:NaN,G="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!re&&!k,K="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:!!(m===Ua&&B===to&&b===no&&g&&w&&y&&En(g,document.baseURI)&&En(w,document.baseURI)&&En(y,document.baseURI));He(d);const W={canvasFactory:new L({ownerDocument:P,enableHWA:O}),filterFactory:new R({docId:i,ownerDocument:P}),cMapReaderFactory:K?null:new m({baseUrl:g,isCompressed:f}),standardFontDataFactory:K?null:new B({baseUrl:w}),wasmFactory:K?null:new b({baseUrl:y})};u||(u=zh.create({verbosity:d,port:ic.workerPort}),A._worker=u);const j={docId:i,apiVersion:"5.4.296",data:s,password:l,disableAutoFetch:T,rangeChunkSize:h,length:N,docBaseUrl:p,enableXfa:Q,evaluatorOptions:{maxImageSize:_,disableFontFace:k,ignoreErrors:C,isEvalSupported:F,isOffscreenCanvasSupported:E,isImageDecoderSupported:x,canvasMaxAreaInBytes:S,fontExtraProperties:U,useSystemFonts:G,useWasm:H,useWorkerFetch:K,cMapUrl:g,iccUrl:v,standardFontDataUrl:w,wasmUrl:y}},V={ownerDocument:P,pdfBug:D,styleElement:null,loadingParams:{disableAutoFetch:T,enableXfa:Q}};return u.promise.then(function(){if(A.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const t=u.messageHandler.sendWithPromise("GetDocRequest",j,s?[s.buffer]:null);let e;if(c)e=new Cc(c,{disableRange:M,disableStream:I});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");const t=En(r)?Ic:re?Gc:Rc;e=new t({url:r,length:N,httpHeaders:a,withCredentials:o,rangeChunkSize:h,disableRange:M,disableStream:I})}return t.then(t=>{if(A.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const n=new ya(i,t,u.port),r=new ou(n,A,e,V,W,O);A._transport=r,n.send("Ready",null)})}).catch(A._capability.reject),A}class kh{constructor(){(0,ne.A)(this,"_capability",Promise.withResolvers()),(0,ne.A)(this,"_transport",null),(0,ne.A)(this,"_worker",null),(0,ne.A)(this,"docId","d".concat((Uh._=(Ht=Uh._,Nt=Ht++,Ht),Nt))),(0,ne.A)(this,"destroyed",!1),(0,ne.A)(this,"onPassword",null),(0,ne.A)(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t;this.destroyed=!0;try{var e,n;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(n=this._transport)||void 0===n?void 0:n.destroy())}catch(i){var A;throw null!==(A=this._worker)&&void 0!==A&&A.port&&delete this._worker._pendingDestroy,i}this._transport=null,null===(t=this._worker)||void 0===t||t.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var Uh={_:0},Qh=new WeakMap,Ph=new WeakMap,Mh=new WeakMap,Ih=new WeakMap,Th=new WeakMap;class Dh{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,Zt.A)(this,Qh,Promise.withResolvers()),(0,Zt.A)(this,Ph,[]),(0,Zt.A)(this,Mh,[]),(0,Zt.A)(this,Ih,[]),(0,Zt.A)(this,Th,[]),this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=A}addRangeListener(t){(0,te.A)(Th,this).push(t)}addProgressListener(t){(0,te.A)(Ih,this).push(t)}addProgressiveReadListener(t){(0,te.A)(Mh,this).push(t)}addProgressiveDoneListener(t){(0,te.A)(Ph,this).push(t)}onDataRange(t,e){for(const n of(0,te.A)(Th,this))n(t,e)}onDataProgress(t,e){(0,te.A)(Qh,this).promise.then(()=>{for(const n of(0,te.A)(Ih,this))n(t,e)})}onDataProgressiveRead(t){(0,te.A)(Qh,this).promise.then(()=>{for(const e of(0,te.A)(Mh,this))e(t)})}onDataProgressiveDone(){(0,te.A)(Qh,this).promise.then(()=>{for(const t of(0,te.A)(Ph,this))t()})}transportReady(){(0,te.A)(Qh,this).resolve()}requestDataRange(t,e){We("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Lh{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Xe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Rh=new WeakMap,Oh=new WeakSet;class Hh{constructor(t,e,n){let A=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,Jt.A)(this,Oh),(0,Zt.A)(this,Rh,!1),this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=A?new Fn:null,this._pdfBug=A,this.commonObjs=n.commonObjs,this.objs=new Xc,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:A=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new yn({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:A,dontFlip:i})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Xe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null}render(t){var e,n,A;let{canvasContext:i,canvas:r=i.canvas,viewport:s,intent:a="display",annotationMode:o=fe.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:f=!1,operationsFilter:m=null}=t;null===(e=this._stats)||void 0===e||e.time("Overall");const v=this._transport.getRenderingIntent(a,o,p,g),{renderingIntent:w,cacheKey:B}=v;(0,ee.A)(Rh,this,!1),h||(h=this._transport.getOptionalContentConfig(w));let y=this._intentStates.get(B);y||(y=Object.create(null),this._intentStates.set(B,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const b=!!(w&ce);var C;y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(C=this._stats)||void 0===C||C.time("Page Request"),this._pumpOperatorList(v));const _=Boolean(this._pdfBug&&(null===(n=globalThis.StepperManager)||void 0===n?void 0:n.enabled)),F=!this.recordedBBoxes&&(f||_),E=t=>{if(y.renderTasks.delete(x),F){var e;const t=null===(e=x.gfx)||void 0===e?void 0:e.dependencyTracker.take();t&&(x.stepper&&x.stepper.setOperatorBBoxes(t,x.gfx.dependencyTracker.takeDebugMetadata()),f&&(this.recordedBBoxes=t))}var n;(b&&(0,ee.A)(Rh,this,!0),(0,Ae.A)(Oh,this,Nh).call(this),t?(x.capability.reject(t),this._abortOperatorList({intentState:y,reason:t instanceof Error?t:new Error(t)})):x.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(n=globalThis.Stats)&&void 0!==n&&n.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new du({callback:E,params:{canvas:r,canvasContext:i,dependencyTracker:F?new Lo(r,y.operatorList.length,_):null,viewport:s,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:m});((A=y).renderTasks||(A.renderTasks=new Set)).add(x);const S=x.task;return Promise.all([y.displayReadyCapability.promise,h]).then(t=>{var e;let[n,A]=t;if(this.destroyed)E();else{if(null===(e=this._stats)||void 0===e||e.time("Rendering"),!(A.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:n,optionalContentConfig:A}),x.operatorListChanged()}}).catch(E),S}getOperatorList(){let{intent:t="display",annotationMode:e=fe.ENABLE,printAnnotationStorage:n=null,isEditing:A=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(t,e,n,A,!0);let r,s=this._intentStates.get(i.cacheKey);var a,o;(s||(s=Object.create(null),this._intentStates.set(i.cacheKey,s)),s.opListReadCapability)||(r=Object.create(null),r.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(r))},s.opListReadCapability=Promise.withResolvers(),((a=s).renderTasks||(a.renderTasks=new Set)).add(r),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(o=this._stats)||void 0===o||o.time("Page Request"),this._pumpOperatorList(i));return s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:t=!1,disableNormalization:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(t=>fn.textContent(t));const e=this.streamTextContent(t);return new Promise(function(t,n){const A=e.getReader(),i={items:[],styles:Object.create(null),lang:null};!function e(){A.read().then(function(n){var A;let{value:r,done:s}=n;s?t(i):(null!==(A=i.lang)&&void 0!==A||(i.lang=r.lang),Object.assign(i.styles,r.styles),i.items.push(...r.items),e())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),(0,ee.A)(Rh,this,!1),Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,ee.A)(Rh,this,!0);const e=(0,Ae.A)(Oh,this,Nh).call(this);return t&&e&&this._stats&&(this._stats=new Fn),e}_startRenderPage(t,e){var n,A;const i=this._intentStates.get(e);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(A=i.displayReadyCapability)||void 0===A||A.resolve(t))}_renderPageChunk(t,e){for(let n=0,A=t.length;n<A;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&(0,Ae.A)(Oh,this,Nh).call(this)}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageSerializable:A,modifiedIds:i}=t;const{map:r,transfer:s}=A,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:r,modifiedIds:i},s).getReader(),o=this._intentStates.get(n);o.streamReader=a;const l=()=>{a.read().then(t=>{let{value:e,done:n}=t;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,o),l())},t=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const t of o.renderTasks)t.operatorListChanged();(0,Ae.A)(Oh,this,Nh).call(this)}if(o.displayReadyCapability)o.displayReadyCapability.reject(t);else{if(!o.opListReadCapability)throw t;o.opListReadCapability.reject(t)}}})};l()}_abortOperatorList(t){let{intentState:e,reason:n,force:A=!1}=t;if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!A){if(e.renderTasks.size>0)return;if(n instanceof bn){let t=100;return n.extraDelay>0&&n.extraDelay<1e3&&(t+=n.extraDelay),void(e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},t))}}if(e.streamReader.cancel(new en(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}function Nh(){if(!(0,te.A)(Rh,this)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),(0,ee.A)(Rh,this,!1),!0}var Gh=new WeakMap,Kh=new WeakMap,Wh=new WeakMap,jh=new WeakMap,Vh=new WeakSet;class zh{constructor(){let{name:t=null,port:e=null,verbosity:n=Ne()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,Jt.A)(this,Vh),(0,Zt.A)(this,Gh,Promise.withResolvers()),(0,Zt.A)(this,Kh,null),(0,Zt.A)(this,Wh,null),(0,Zt.A)(this,jh,null),this.name=t,this.destroyed=!1,this.verbosity=n,e){if(eu._.has(e))throw new Error("Cannot use more than one PDFWorker per port.");eu._.set(e,this),(0,Ae.A)(Vh,this,qh).call(this,e)}else(0,Ae.A)(Vh,this,Yh).call(this)}get promise(){return(0,te.A)(Gh,this).promise}get port(){return(0,te.A)(Wh,this)}get messageHandler(){return(0,te.A)(Kh,this)}destroy(){var t,e;this.destroyed=!0,null===(t=(0,te.A)(jh,this))||void 0===t||t.terminate(),(0,ee.A)(jh,this,null),eu._.delete((0,te.A)(Wh,this)),(0,ee.A)(Wh,this,null),null===(e=(0,te.A)(Kh,this))||void 0===e||e.destroy(),(0,ee.A)(Kh,this,null)}static create(t){const e=(0,Ae.A)(zh,this,eu)._.get(null===t||void 0===t?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new zh(t)}static get workerSrc(){if(ic.workerSrc)return ic.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Xe(this,"_setupFakeWorkerGlobal",(async()=>{if((0,$t.A)(zh,this,Zh))return(0,$t.A)(zh,this,Zh);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function Xh(){(0,te.A)(Gh,this).resolve(),(0,te.A)(Kh,this).send("configure",{verbosity:this.verbosity})}function qh(t){(0,ee.A)(Wh,this,t),(0,ee.A)(Kh,this,new ya("main","worker",t)),(0,te.A)(Kh,this).on("ready",()=>{}),(0,Ae.A)(Vh,this,Xh).call(this)}function Yh(){if(tu._||Zh(Gt))return void(0,Ae.A)(Vh,this,Jh).call(this);let{workerSrc:t}=Gt;try{Gt._isSameOrigin(window.location,t)||(t=Gt._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new ya("main","worker",e),A=()=>{i.abort(),n.destroy(),e.terminate(),this.destroyed?(0,te.A)(Gh,this).reject(new Error("Worker was destroyed")):(0,Ae.A)(Vh,this,Jh).call(this)},i=new AbortController;e.addEventListener("error",()=>{(0,te.A)(jh,this)||A()},{signal:i.signal}),n.on("test",t=>{i.abort(),!this.destroyed&&t?((0,ee.A)(Kh,this,n),(0,ee.A)(Wh,this,e),(0,ee.A)(jh,this,e),(0,Ae.A)(Vh,this,Xh).call(this)):A()}),n.on("ready",t=>{if(i.abort(),this.destroyed)A();else try{r()}catch(e){(0,Ae.A)(Vh,this,Jh).call(this)}});const r=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void r()}catch(e){Ge("The worker has been disabled.")}(0,Ae.A)(Vh,this,Jh).call(this)}function Jh(){tu._||(Ke("Setting up fake worker."),tu._=!0),Gt._setupFakeWorkerGlobal.then(t=>{var e,n;if(this.destroyed)return void(0,te.A)(Gh,this).reject(new Error("Worker was destroyed"));const A=new sa;(0,ee.A)(Wh,this,A);const i="fake".concat(($h._=(e=$h._,n=e++,e),n)),r=new ya(i+"_worker",i,A);t.setup(r,A),(0,ee.A)(Kh,this,new ya(i,i+"_worker",A)),(0,Ae.A)(Vh,this,Xh).call(this)}).catch(t=>{(0,te.A)(Gh,this).reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}function Zh(t){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(n){return null}}Gt=zh;var $h={_:0},tu={_:!1},eu={_:new WeakMap};re&&(tu._=(0,Ae.A)(Gt,Gt,!0),ic.workerSrc||(ic.workerSrc="./pdf.worker.mjs")),Gt._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(null===n||void 0===n||!n.origin||"null"===n.origin)return!1;const A=new URL(e,n);return n.origin===A.origin},Gt._createCDNWrapper=t=>{const e='await import("'.concat(t,'");');return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Gt.fromPort=t=>{var e;if(e="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+e),null===t||void 0===t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Gt.create(t)};var nu=new WeakMap,Au=new WeakMap,iu=new WeakMap,ru=new WeakMap,su=new WeakMap,au=new WeakSet;class ou{constructor(t,e,n,A,i,r){(0,Jt.A)(this,au),(0,Zt.A)(this,nu,new Map),(0,Zt.A)(this,Au,new Map),(0,Zt.A)(this,iu,new Map),(0,Zt.A)(this,ru,new Map),(0,Zt.A)(this,su,null),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Xc,this.fontLoader=new Zs({ownerDocument:A.ownerDocument,styleElement:A.styleElement}),this.loadingParams=A.loadingParams,this._params=A,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=r,this.setupMessageHandler()}get annotationStorage(){return Xe(this,"annotationStorage",new zs)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=le,s=Ns;switch(t){case"any":r=oe;break;case"display":break;case"print":r=ce;break;default:Ke("getRenderingIntent - invalid intent: ".concat(t))}const a=r&ce&&n instanceof Ys?n:this.annotationStorage;switch(e){case fe.DISABLE:r+=de;break;case fe.ENABLE:break;case fe.ENABLE_FORMS:r+=he;break;case fe.ENABLE_STORAGE:r+=ue,s=a.serializable;break;default:Ke("getRenderingIntent - invalid annotationMode: ".concat(e))}A&&(r+=pe),i&&(r+=ge);const{ids:o,hash:l}=a.modifiedIds;return{renderingIntent:r,cacheKey:[r,s.hash,l].join("_"),annotationStorageSerializable:s,modifiedIds:o}}destroy(){var t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(t=(0,te.A)(su,this))||void 0===t||t.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const A of(0,te.A)(Au,this).values())e.push(A._destroy());(0,te.A)(Au,this).clear(),(0,te.A)(iu,this).clear(),(0,te.A)(ru,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var t,e;this.commonObjs.clear(),this.fontLoader.clear(),(0,te.A)(nu,this).clear(),this.filterFactory.destroy(),gh.cleanup(),null===(t=this._networkStream)||void 0===t||t.cancelAllRequests(new en("Worker was terminated.")),null===(e=this.messageHandler)||void 0===e||e.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(t,e)=>{je(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then(function(t){let{value:n,done:A}=t;A?e.close():(je(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))}).catch(t=>{e.error(t)})},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch(t=>{if(!this.destroyed)throw t})}}),t.on("ReaderHeadersReady",async t=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:A,contentLength:i}=this._fullReader;if(!n||!A){var r;if(this._lastProgress)null===(r=e.onProgress)||void 0===r||r.call(e,this._lastProgress);this._fullReader.onProgress=t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})}}return{isStreamingSupported:n,isRangeSupported:A,contentLength:i}}),t.on("GetRangeReader",(t,e)=>{je(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then(function(t){let{value:n,done:A}=t;A?e.close():(je(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))}).catch(t=>{e.error(t)})},e.onCancel=t=>{n.cancel(t),e.ready.catch(t=>{if(!this.destroyed)throw t})}):e.close()}),t.on("GetDoc",t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new Lh(n,this))}),t.on("DocException",t=>{e._capability.reject(va(t))}),t.on("PasswordRequest",t=>{(0,ee.A)(su,this,Promise.withResolvers());try{if(!e.onPassword)throw va(t);const n=t=>{t instanceof Error?(0,te.A)(su,this).reject(t):(0,te.A)(su,this).resolve({password:t})};e.onPassword(n,t.code)}catch(n){(0,te.A)(su,this).reject(n)}return(0,te.A)(su,this).promise}),t.on("DataLoaded",t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),t.on("StartRenderPage",t=>{if(this.destroyed)return;(0,te.A)(Au,this).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)}),t.on("commonobj",e=>{var n;let[A,i,r]=e;if(this.destroyed)return null;if(this.commonObjs.has(A))return null;switch(i){case"Font":if("error"in r){const t=r.error;Ke("Error during font loading: ".concat(t)),this.commonObjs.resolve(A,t);break}const e=new ql(r),s=this._params.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,a=new ta(e,s,r.extra,r.charProcOperatorList);this.fontLoader.bind(a).catch(()=>t.sendWithPromise("FontFallback",{id:A})).finally(()=>{!a.fontExtraProperties&&a.data&&a.clearData(),this.commonObjs.resolve(A,a)});break;case"CopyLocalImage":const{imageRef:o}=r;je(o,"The imageRef must be defined.");for(const t of(0,te.A)(Au,this).values())for(const[,e]of t.objs)if((null===e||void 0===e?void 0:e.ref)===o)return e.dataLen?(this.commonObjs.resolve(A,structuredClone(e)),e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(A,r);break;default:throw new Error("Got unknown common object type ".concat(i))}return null}),t.on("obj",t=>{let[e,n,A,i]=t;if(this.destroyed)return;const r=(0,te.A)(Au,this).get(n);var s;if(!r.objs.has(e))if(0!==r._intentStates.size)switch(A){case"Image":case"Pattern":r.objs.resolve(e,i);break;default:throw new Error("Got unknown object type ".concat(A))}else null===i||void 0===i||null===(s=i.bitmap)||void 0===s||s.close()}),t.on("DocProgress",t=>{var n;this.destroyed||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})}),t.on("FetchBinaryData",async t=>{if(this.destroyed)throw new Error("Worker was destroyed.");const e=this[t.type];if(!e)throw new Error("".concat(t.type," not initialized, see the `useWorkerFetch` parameter."));return e.fetch(t)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var t,e;this.annotationStorage.size<=0&&Ke("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:A}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null},A).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=(0,te.A)(iu,this).get(e);if(n)return n;const A=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&(0,te.A)(ru,this).set(n.refStr,t);const A=new Hh(e,n,this,this._params.pdfBug);return(0,te.A)(Au,this).set(e,A),A});return(0,te.A)(iu,this).set(e,A),A}getPageIndex(t){return na(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return(0,Ae.A)(au,this,lu).call(this,"GetFieldObjects")}hasJSActions(){return(0,Ae.A)(au,this,lu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return(0,Ae.A)(au,this,lu).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return(0,Ae.A)(au,this,lu).call(this,"GetOptionalContentConfig").then(e=>new yc(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=(0,te.A)(nu,this).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(t=>{var e,n,A,i;return{info:t[0],metadata:t[1]?new lc(t[1]):null,contentDispositionFilename:null!==(e=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==e?e:null,contentLength:null!==(A=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==A?A:null}});return(0,te.A)(nu,this).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of(0,te.A)(Au,this).values()){if(!t.cleanup())throw new Error("startCleanup: Page ".concat(t.pageNumber," is currently rendering."))}this.commonObjs.clear(),t||this.fontLoader.clear(),(0,te.A)(nu,this).clear(),this.filterFactory.destroy(!0),gh.cleanup()}}cachedPageNumber(t){var e;if(!na(t))return null;const n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return null!==(e=(0,te.A)(ru,this).get(n))&&void 0!==e?e:null}}function lu(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,te.A)(nu,this).get(t);if(n)return n;const A=this.messageHandler.sendWithPromise(t,e);return(0,te.A)(nu,this).set(t,A),A}var cu=new WeakMap;class hu{constructor(t){(0,Zt.A)(this,cu,null),(0,ne.A)(this,"onContinue",null),(0,ne.A)(this,"onError",null),(0,ee.A)(cu,this,t)}get promise(){return(0,te.A)(cu,this).capability.promise}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,te.A)(cu,this).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=(0,te.A)(cu,this).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=(0,te.A)(cu,this);return t.form||t.canvas&&(null===e||void 0===e?void 0:e.size)>0}}var uu=new WeakMap;class du{constructor(t){let{callback:e,params:n,objs:A,commonObjs:i,annotationCanvasMap:r,operatorList:s,pageIndex:a,canvasFactory:o,filterFactory:l,useRequestAnimationFrame:c=!1,pdfBug:h=!1,pageColors:u=null,enableHWA:d=!1,operationsFilter:p=null}=t;(0,Zt.A)(this,uu,null),this.callback=e,this.params=n,this.objs=A,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=o,this.filterFactory=l,this._pdfBug=h,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new hu(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=d,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=p}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(t){var e,n;let{transparency:A=!1,optionalContentConfig:i}=t;if(this.cancelled)return;if(this._canvas){if(pu._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");pu._.add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:s,background:a,dependencyTracker:o}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new kl(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:s,viewport:r,transparency:A,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var t,e,n;let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),(0,te.A)(uu,this)&&(window.cancelAnimationFrame((0,te.A)(uu,this)),(0,ee.A)(uu,this,null)),pu._.delete(this._canvas),A||(A=new bn("Rendering cancelled, page ".concat(this._pageIndex+1),i)),this.callback(A),null===(e=(n=this.task).onError)||void 0===e||e.call(n,A)}operatorListChanged(){var t,e;this.graphicsReady?(null===(t=this.gfx.dependencyTracker)||void 0===t||t.growOperationsCount(this.operatorList.fnArray.length),null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?(0,ee.A)(uu,this,window.requestAnimationFrame(()=>{(0,ee.A)(uu,this,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),pu._.delete(this._canvas),this.callback())))}}var pu={_:new WeakSet};var gu=new WeakMap,fu=new WeakMap,mu=new WeakMap,vu=new WeakMap,wu=new WeakMap,Bu=new WeakMap,yu=new WeakMap,bu=new WeakMap,Cu=new WeakMap,_u=new WeakMap,Fu=new WeakSet;class Eu{static get _keyboardManager(){return Xe(this,"_keyboardManager",new kA([[["Escape","mac+Escape"],Eu.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Eu.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Eu.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Eu.prototype._moveToPrevious],[["Home","mac+Home"],Eu.prototype._moveToBeginning],[["End","mac+End"],Eu.prototype._moveToEnd]]))}constructor(t){var e,n;let{editor:A=null,uiManager:i=null}=t;(0,Jt.A)(this,Fu),(0,Zt.A)(this,gu,null),(0,Zt.A)(this,fu,null),(0,Zt.A)(this,mu,void 0),(0,Zt.A)(this,vu,null),(0,Zt.A)(this,wu,!1),(0,Zt.A)(this,Bu,!1),(0,Zt.A)(this,yu,null),(0,Zt.A)(this,bu,void 0),(0,Zt.A)(this,Cu,null),(0,Zt.A)(this,_u,null),A?((0,ee.A)(Bu,this,!1),(0,ee.A)(yu,this,A)):(0,ee.A)(Bu,this,!0),(0,ee.A)(_u,this,(null===A||void 0===A?void 0:A._uiManager)||i),(0,ee.A)(bu,this,(0,te.A)(_u,this)._eventBus),(0,ee.A)(mu,this,(null===A||void 0===A||null===(e=A.color)||void 0===e?void 0:e.toUpperCase())||(null===(n=(0,te.A)(_u,this))||void 0===n?void 0:n.highlightColors.values().next().value)||"#FFFF98"),Mu._||(Mu._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const t=(0,ee.A)(gu,this,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",(0,te.A)(yu,this)&&(t.ariaControls="".concat((0,te.A)(yu,this).id,"_colorpicker_dropdown"));const e=(0,te.A)(_u,this)._signal;t.addEventListener("click",(0,Ae.A)(Fu,this,Uu).bind(this),{signal:e}),t.addEventListener("keydown",(0,Ae.A)(Fu,this,ku).bind(this),{signal:e});const n=(0,ee.A)(fu,this,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=(0,te.A)(mu,this),t.append(n),t}renderMainDropdown(){const t=(0,ee.A)(vu,this,(0,Ae.A)(Fu,this,xu).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===(0,te.A)(gu,this))return void(0,Ae.A)(Fu,this,Uu).call(this,t);const e=t.target.getAttribute("data-color");e&&(0,Ae.A)(Fu,this,Su).call(this,e,t)}_moveToNext(t){var e,n;(0,$t.A)(Fu,this,Pu)?t.target!==(0,te.A)(gu,this)?null===(e=t.target.nextSibling)||void 0===e||e.focus():null===(n=(0,te.A)(vu,this).firstChild)||void 0===n||n.focus():(0,Ae.A)(Fu,this,Uu).call(this,t)}_moveToPrevious(t){var e,n;t.target!==(null===(e=(0,te.A)(vu,this))||void 0===e?void 0:e.firstChild)&&t.target!==(0,te.A)(gu,this)?((0,$t.A)(Fu,this,Pu)||(0,Ae.A)(Fu,this,Uu).call(this,t),null===(n=t.target.previousSibling)||void 0===n||n.focus()):(0,$t.A)(Fu,this,Pu)&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){var e;(0,$t.A)(Fu,this,Pu)?null===(e=(0,te.A)(vu,this).firstChild)||void 0===e||e.focus():(0,Ae.A)(Fu,this,Uu).call(this,t)}_moveToEnd(t){var e;(0,$t.A)(Fu,this,Pu)?null===(e=(0,te.A)(vu,this).lastChild)||void 0===e||e.focus():(0,Ae.A)(Fu,this,Uu).call(this,t)}hideDropdown(){var t,e;null===(t=(0,te.A)(vu,this))||void 0===t||t.classList.add("hidden"),(0,te.A)(gu,this).ariaExpanded="false",null===(e=(0,te.A)(Cu,this))||void 0===e||e.abort(),(0,ee.A)(Cu,this,null)}_hideDropdownFromKeyboard(){var t;(0,te.A)(Bu,this)||((0,$t.A)(Fu,this,Pu)?(this.hideDropdown(),(0,te.A)(gu,this).focus({preventScroll:!0,focusVisible:(0,te.A)(wu,this)})):null===(t=(0,te.A)(yu,this))||void 0===t||t.unselect())}updateColor(t){if((0,te.A)(fu,this)&&((0,te.A)(fu,this).style.backgroundColor=t),!(0,te.A)(vu,this))return;const e=(0,te.A)(_u,this).highlightColors.values();for(const n of(0,te.A)(vu,this).children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;null===(t=(0,te.A)(gu,this))||void 0===t||t.remove(),(0,ee.A)(gu,this,null),(0,ee.A)(fu,this,null),null===(e=(0,te.A)(vu,this))||void 0===e||e.remove(),(0,ee.A)(vu,this,null)}}function xu(){const t=document.createElement("div"),e=(0,te.A)(_u,this)._signal;t.addEventListener("contextmenu",xn,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),(0,te.A)(yu,this)&&(t.id="".concat((0,te.A)(yu,this).id,"_colorpicker_dropdown"));for(const[n,A]of(0,te.A)(_u,this).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",A),i.title=n,i.setAttribute("data-l10n-id",Mu._[n]);const r=document.createElement("span");i.append(r),r.className="swatch",r.style.backgroundColor=A,i.ariaSelected=A===(0,te.A)(mu,this),i.addEventListener("click",(0,Ae.A)(Fu,this,Su).bind(this,A),{signal:e}),t.append(i)}return t.addEventListener("keydown",(0,Ae.A)(Fu,this,ku).bind(this),{signal:e}),t}function Su(t,e){e.stopPropagation(),(0,te.A)(bu,this).dispatch("switchannotationeditorparams",{source:this,type:we.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}function ku(t){Kt._keyboardManager.exec(this,t)}function Uu(t){if((0,$t.A)(Fu,this,Pu))return void this.hideDropdown();if((0,ee.A)(wu,this,0===t.detail),(0,te.A)(Cu,this)||((0,ee.A)(Cu,this,new AbortController),window.addEventListener("pointerdown",(0,Ae.A)(Fu,this,Qu).bind(this),{signal:(0,te.A)(_u,this).combinedSignal((0,te.A)(Cu,this))})),(0,te.A)(gu,this).ariaExpanded="true",(0,te.A)(vu,this))return void(0,te.A)(vu,this).classList.remove("hidden");const e=(0,ee.A)(vu,this,(0,Ae.A)(Fu,this,xu).call(this));(0,te.A)(gu,this).append(e)}function Qu(t){var e;null!==(e=(0,te.A)(vu,this))&&void 0!==e&&e.contains(t.target)||this.hideDropdown()}function Pu(t){return(0,te.A)(vu,t)&&!(0,te.A)(vu,t).classList.contains("hidden")}Kt=Eu;var Mu={_:null},Iu=new WeakMap,Tu=new WeakMap,Du=new WeakMap;class Lu{constructor(t){(0,Zt.A)(this,Iu,null),(0,Zt.A)(this,Tu,null),(0,Zt.A)(this,Du,null),(0,ee.A)(Tu,this,t),(0,ee.A)(Du,this,t._uiManager),Ru._||(Ru._=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if((0,te.A)(Iu,this))return(0,te.A)(Iu,this);const{editorType:t,colorType:e,colorValue:n}=(0,te.A)(Tu,this),A=(0,ee.A)(Iu,this,document.createElement("input"));return A.type="color",A.value=n||"#000000",A.className="basicColorPicker",A.tabIndex=0,A.setAttribute("data-l10n-id",Ru._[t]),A.addEventListener("input",()=>{(0,te.A)(Du,this).updateParams(e,A.value)},{signal:(0,te.A)(Du,this)._signal}),A}update(t){(0,te.A)(Iu,this)&&((0,te.A)(Iu,this).value=t)}destroy(){var t;null===(t=(0,te.A)(Iu,this))||void 0===t||t.remove(),(0,ee.A)(Iu,this,null)}hideDropdown(){}}var Ru={_:null};function Ou(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function Hu(t){return Math.max(0,Math.min(255,255*t))}class Nu{static CMYK_G(t){let[e,n,A,i]=t;return["G",1-Math.min(1,.3*e+.59*A+.11*n+i)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_rgb(t){let[e]=t;return e=Hu(e),[e,e,e]}static G_HTML(t){let[e]=t;const n=Ou(e);return"#".concat(n).concat(n).concat(n)}static RGB_G(t){let[e,n,A]=t;return["G",.3*e+.59*n+.11*A]}static RGB_rgb(t){return t.map(Hu)}static RGB_HTML(t){return"#".concat(t.map(Ou).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(t){let[e,n,A,i]=t;return["RGB",1-Math.min(1,e+i),1-Math.min(1,A+i),1-Math.min(1,n+i)]}static CMYK_rgb(t){let[e,n,A,i]=t;return[Hu(1-Math.min(1,e+i)),Hu(1-Math.min(1,A+i)),Hu(1-Math.min(1,n+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,A]=t;const i=1-e,r=1-n,s=1-A;return["CMYK",i,r,s,Math.min(i,r,s)]}}class Gu{create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const A=this._createSVG("svg:svg");return A.setAttribute("version","1.1"),n||(A.setAttribute("width","".concat(t,"px")),A.setAttribute("height","".concat(e,"px"))),A.setAttribute("preserveAspectRatio","none"),A.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),A}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){We("Abstract method `_createSVG` called.")}}class Ku extends Gu{_createSVG(t){return document.createElementNS(vn,t)}}const Wu=new WeakSet,ju=60*(new Date).getTimezoneOffset()*1e3;class Vu{static create(t){switch(t.data.annotationType){case xe.LINK:return new ed(t);case xe.TEXT:return new rd(t);case xe.WIDGET:switch(t.data.fieldType){case"Tx":return new ad(t);case"Btn":return t.data.radioButton?new cd(t):t.data.checkBox?new ld(t):new hd(t);case"Ch":return new ud(t);case"Sig":return new od(t)}return new sd(t);case xe.POPUP:return new pd(t);case xe.FREETEXT:return new Ap(t);case xe.LINE:return new rp(t);case xe.SQUARE:return new ap(t);case xe.CIRCLE:return new lp(t);case xe.POLYLINE:return new hp(t);case xe.CARET:return new dp(t);case xe.INK:return new mp(t);case xe.POLYGON:return new up(t);case xe.HIGHLIGHT:return new wp(t);case xe.UNDERLINE:return new Bp(t);case xe.SQUIGGLY:return new yp(t);case xe.STRIKEOUT:return new bp(t);case xe.STAMP:return new Cp(t);case xe.FILEATTACHMENT:return new Ep(t);default:return new Ju(t)}}}var zu=new WeakMap,Xu=new WeakMap,qu=new WeakMap,Yu=new WeakSet;class Ju{constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:A=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Jt.A)(this,Yu),(0,Zt.A)(this,zu,null),(0,Zt.A)(this,Xu,!1),(0,Zt.A)(this,qu,null),this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),A&&this._createQuadrilaterals()}static _hasPopupData(t){let{contentsObj:e,richText:n}=t;return!!(null!==e&&void 0!==e&&e.str||null!==n&&void 0!==n&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ju._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var t;const{data:e}=this,n=null===(t=this.annotationStorage)||void 0===t?void 0:t.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var t;const e=null===(t=this.annotationStorage)||void 0===t?void 0:t.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:A,rect:i}=this.data;let r=-1/0,s=-1/0;if((null===n||void 0===n?void 0:n.length)>=8){for(let t=0;t<n.length;t+=8)n[t+1]>s?(s=n[t+1],r=n[t+2]):n[t+1]===s&&(r=Math.max(r,n[t+2]));return[r,s]}if((null===A||void 0===A?void 0:A.length)>=1){for(const t of A)for(let e=0,n=t.length;e<n;e+=2)t[e+1]>s?(s=t[e+1],r=t[e]):t[e+1]===s&&(r=Math.max(r,t[e]));if(r!==1/0)return[r,s]}return i?[i[2],i[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:A,pageX:i,pageY:r}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-i)/n,t[1]=100*(t[1]-r)/A,t}get commentText(){var t,e;const{data:n}=this;return(null===(t=this.annotationStorage.getRawValue("".concat(me).concat(n.id)))||void 0===t||null===(t=t.popup)||void 0===t?void 0:t.contents)||(null===(e=n.contentsObj)||void 0===e?void 0:e.str)||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue("".concat(me).concat(e.id),{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;null===(t=(null===(e=(0,te.A)(qu,this))||void 0===e?void 0:e.popup)||this.popup)||void 0===t||t.remove(),(0,ee.A)(qu,this,this.popup=null)}updateEdited(t){var e;if(!this.container)return;t.rect&&((0,te.A)(zu,this)||(0,ee.A)(zu,this,{rect:this.data.rect.slice(0)}));const{rect:n,popup:A}=t;n&&(0,Ae.A)(Yu,this,Zu).call(this,n);let i=(null===(e=(0,te.A)(qu,this))||void 0===e?void 0:e.popup)||this.popup;!i&&null!==A&&void 0!==A&&A.text&&(this._createPopup(A),i=(0,te.A)(qu,this).popup),i&&(i.updateEdited(t),null!==A&&void 0!==A&&A.deleted&&(i.remove(),(0,ee.A)(qu,this,null),this.popup=null))}resetEdited(){var t;(0,te.A)(zu,this)&&((0,Ae.A)(Yu,this,Zu).call(this,(0,te.A)(zu,this).rect),null===(t=(0,te.A)(qu,this))||void 0===t||t.popup.resetEdited(),(0,ee.A)(zu,this,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:A}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",e.id),this instanceof sd||this instanceof ed||(i.tabIndex=0);const{style:r}=i;if(r.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(i.title=e.alternativeText),e.noRotate&&i.classList.add("norotate"),!e.rect||this instanceof pd){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,i),i}const{width:s,height:a}=this;if(!t&&e.borderStyle.width>0){r.borderWidth="".concat(e.borderStyle.width,"px");const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e="calc(".concat(t,"px * var(--total-scale-factor)) / calc(").concat(n,"px * var(--total-scale-factor))");r.borderRadius=e}else if(this instanceof cd){const t="calc(".concat(s,"px * var(--total-scale-factor)) / calc(").concat(a,"px * var(--total-scale-factor))");r.borderRadius=t}switch(e.borderStyle.style){case Se:r.borderStyle="solid";break;case ke:r.borderStyle="dashed";break;case Ue:Ke("Unimplemented border style: beveled");break;case Qe:Ke("Unimplemented border style: inset");break;case Pe:r.borderBottomStyle="solid"}const A=e.borderColor||null;A?((0,ee.A)(Xu,this,!0),r.borderColor=an.makeHexColor(0|A[0],0|A[1],0|A[2])):r.borderWidth=0}const o=an.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:l,pageHeight:c,pageX:h,pageY:u}=A.rawDims;r.left="".concat(100*(o[0]-h)/l,"%"),r.top="".concat(100*(o[1]-u)/c,"%");const{rotation:d}=e;return e.hasOwnCanvas||0===d?(r.width="".concat(100*s/l,"%"),r.height="".concat(100*a/c,"%")):this.setRotation(d,i),i}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:A}=this.parent.viewport.rawDims;let{width:i,height:r}=this;t%180!==0&&([i,r]=[r,i]),e.style.width="".concat(100*i/n,"%"),e.style.height="".concat(100*r/A,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const A=n.detail[t],i=A[0],r=A.slice(1);n.target.style[e]=Nu["".concat(i,"_HTML")](r),this.annotationStorage.setValue(this.data.id,{[e]:Nu["".concat(i,"_rgb")](r)})};return Xe(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const A of Object.keys(e.detail)){const i=t[A]||n[A];null===i||void 0===i||i(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[A,i]of Object.entries(e)){const r=n[A];if(r){r({detail:{[A]:i},target:t}),delete e[A]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,A,i]=this.data.rect.map(t=>Math.fround(t));if(8===t.length){const[r,s,a,o]=t.subarray(2,6);if(A===r&&i===s&&e===a&&n===o)return}const{style:r}=this.container;let s;if((0,te.A)(Xu,this)){const{borderColor:t,borderWidth:e}=r;r.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(t,'" stroke-width="').concat(e,'">')],this.container.classList.add("hasBorder")}const a=A-e,o=i-n,{svgFactory:l}=this,c=l.createElement("svg");c.classList.add("quadrilateralsContainer"),c.setAttribute("width",0),c.setAttribute("height",0),c.role="none";const h=l.createElement("defs");c.append(h);const u=l.createElement("clipPath"),d="clippath_".concat(this.data.id);u.setAttribute("id",d),u.setAttribute("clipPathUnits","objectBoundingBox"),h.append(u);for(let g=2,f=t.length;g<f;g+=8){var p;const n=t[g],A=t[g+1],r=t[g+2],c=t[g+3],h=l.createElement("rect"),d=(r-e)/a,f=(i-A)/o,m=(n-r)/a,v=(A-c)/o;h.setAttribute("x",d),h.setAttribute("y",f),h.setAttribute("width",m),h.setAttribute("height",v),u.append(h),null===(p=s)||void 0===p||p.push('<rect vector-effect="non-scaling-stroke" x="'.concat(d,'" y="').concat(f,'" width="').concat(m,'" height="').concat(v,'"/>'))}(0,te.A)(Xu,this)&&(s.push("</g></svg>')"),r.backgroundImage=s.join("")),this.container.append(c),this.container.style.clipPath="url(#".concat(d,")")}_createPopup(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{data:e}=this;let n,A;t?(n={str:t.text},A=t.date):(n=e.contentsObj,A=e.modificationDate);const i=(0,ee.A)(qu,this,new pd({data:{color:e.color,titleObj:e.titleObj,modificationDate:A,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(i.render())}get hasPopupElement(){return!!((0,te.A)(qu,this)||this.popup||this.data.popupRef)}get extraPopupElement(){return(0,te.A)(qu,this)}render(){We("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const A=this._fieldObjects[t];if(A)for(const{page:t,id:i,exportValues:r}of A){if(-1===t)continue;if(i===e)continue;const A="string"===typeof r?r:null,s=document.querySelector('[data-element-id="'.concat(i,'"]'));!s||Wu.has(s)?n.push({id:i,exportValue:A,domElement:s}):Ke("_getElementsByName - element not allowed: ".concat(i))}return n}for(const A of document.getElementsByName(t)){const{exportValue:t}=A,i=A.getAttribute("data-element-id");i!==e&&(Wu.has(A)&&n.push({id:i,exportValue:t,domElement:A}))}return n}show(){var t;this.container&&(this.container.hidden=!1),null===(t=this.popup)||void 0===t||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),null===(t=this.popup)||void 0===t||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function Zu(t){const{container:{style:e},data:{rect:n,rotation:A},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}}}=this;null===n||void 0===n||n.splice(0,4,...t),e.left="".concat(100*(t[0]-s)/i,"%"),e.top="".concat(100*(r-t[3]+a)/r,"%"),0===A?(e.width="".concat(100*(t[2]-t[0])/i,"%"),e.height="".concat(100*(t[3]-t[1])/r,"%")):this.setRotation(A)}class $u extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var td=new WeakSet;class ed extends Ju{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!(null===e||void 0===e||!e.ignoreBorder),createQuadrilaterals:!0}),(0,Jt.A)(this,td),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let A=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),A=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),A=!0):t.attachment?((0,Ae.A)(td,this,Ad).call(this,n,t.attachment,t.overlaidText,t.attachmentDest),A=!0):t.setOCGState?((0,Ae.A)(td,this,id).call(this,n,t.setOCGState,t.overlaidText),A=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),A=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),A=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),A=!0):this.isTooltipOnly&&!A&&(this._bindLink(n,""),A=!0)),this.container.classList.add("linkAnnotation"),A&&this.container.append(n),this.container}_bindLink(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&(0,Ae.A)(td,this,nd).call(this),n&&(t.title=n)}_bindNamedAction(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),(0,Ae.A)(td,this,nd).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const A of Object.keys(e.actions)){const i=n.get(A);i&&(t[i]=()=>{var t;return null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:A}}),!1})}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),(0,Ae.A)(td,this,nd).call(this)}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),(0,Ae.A)(td,this,nd).call(this),!this._fieldObjects)return Ke('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{null===n||void 0===n||n();const{fields:t,refs:A,include:i}=e,r=[];if(0!==t.length||0!==A.length){const e=new Set(A);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===i&&r.push(n)}else for(const e of Object.values(this._fieldObjects))r.push(...e);const s=this.annotationStorage,a=[];for(const e of r){const{id:t}=e;switch(a.push(t),e.type){case"text":{const n=e.defaultValue||"";s.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;s.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";s.setValue(t,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(t,'"]'));n&&(Wu.has(n)?n.dispatchEvent(new Event("resetform")):Ke("_bindResetFormAction - element not allowed: ".concat(t)))}var o;this.enableScripting&&(null===(o=this.linkService.eventBus)||void 0===o||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:a,name:"ResetForm"}}));return!1}}}function nd(){this.container.setAttribute("data-internal-link","")}function Ad(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>{var t;return null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(e.content,e.filename,A),!1},(0,Ae.A)(td,this,nd).call(this)}function id(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),(0,Ae.A)(td,this,nd).call(this)}class rd extends Ju{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class sd extends Ju{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&("CANVAS"===(null===(e=t.previousSibling)||void 0===e?void 0:e.nodeName)&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return rn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,A,i){n.includes("mouse")?t.addEventListener(n,t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:i(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})}):t.addEventListener(n,t=>{var r;if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}i&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:i(t)}}))})}_setEventListeners(t,e,n,A){for(const[a,o]of n){var i,r,s;if("Action"===o||null!==(i=this.data.actions)&&void 0!==i&&i[o])"Focus"!==o&&"Blur"!==o||e||(e={focused:!1}),this._setEventListener(t,e,a,o,A),"Focus"!==o||null!==(r=this.data.actions)&&void 0!==r&&r.Blur?"Blur"!==o||null!==(s=this.data.actions)&&void 0!==s&&s.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null)}}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":an.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,A=this.data.defaultAppearanceData.fontSize||9,i=t.style;let r;const s=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2),e=t/(Math.round(t/(ae*A))||1);r=Math.min(A,s(e/ae))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(A,s(t/ae))}i.fontSize="calc(".concat(r,"px * var(--total-scale-factor))"),i.color=an.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class ad extends sd{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,A){const i=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[e]=n),i.setValue(r.id,{[A]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var A;const r=t.getValue(e,{value:this.data.fieldValue});let s=r.value||"";const a=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let o=r.formattedValue||(null===(A=this.data.textContent)||void 0===A?void 0:A.join("\n"))||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==o&&void 0!==o?o:s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",null!==o&&void 0!==o?o:s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Wu.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:c,datetimeType:h,timeStep:u}=this.data,d=!!h&&this.enableScripting;c&&(n.title=c),this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(n,"value",A.target.value,"value"),l.formattedValue=null}),n.addEventListener("resetform",t=>{var e;const A=null!==(e=this.data.defaultFieldValue)&&void 0!==e?e:"";n.value=l.userValue=A,l.formattedValue=null});let p=t=>{const{formattedValue:e}=l;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var i;n.addEventListener("focus",t=>{var e;if(l.focused)return;const{target:n}=t;if(d&&(n.type=h,u&&(n.step=u)),l.userValue){const t=l.userValue;if(d)if("time"===h){const e=new Date(t),A=[e.getHours(),e.getMinutes(),e.getSeconds()];n.value=A.map(t=>t.toString().padStart(2,"0")).join(":")}else n.value=new Date(t-ju).toISOString().split("date"===h?"T":".",1)[0];else n.value=t}l.lastCommittedValue=n.value,l.commitKey=1,null!==(e=this.data.actions)&&void 0!==e&&e.Focus||(l.focused=!0)}),n.addEventListener("updatefromsandbox",n=>{this.showElementAndHideCanvas(n.target);const A={value(n){var A;l.userValue=null!==(A=n.detail.value)&&void 0!==A?A:"",d||t.setValue(e,{value:l.userValue.toString()}),n.target.value=l.userValue},formattedValue(n){const{formattedValue:A}=n.detail;l.formattedValue=A,null!==A&&void 0!==A&&n.target!==document.activeElement&&(n.target.value=A);const i={formattedValue:A};d&&(i.value=A),t.setValue(e,i)},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{var A;const{charLimit:i}=n.detail,{target:r}=n;if(0===i)return void r.removeAttribute("maxLength");r.setAttribute("maxLength",i);let s=l.userValue;!s||s.length<=i||(s=s.slice(0,i),r.value=l.userValue=s,t.setValue(e,{value:s}),null===(A=this.linkService.eventBus)||void 0===A||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:r.selectionStart,selEnd:r.selectionEnd}}))}};this._dispatchEventFromSandbox(A,n)}),n.addEventListener("keydown",t=>{var n;l.commitKey=1;let A=-1;if("Escape"===t.key?A=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(l.commitKey=3):A=2,-1===A)return;const{value:i}=t.target;l.lastCommittedValue!==i&&(l.lastCommittedValue=i,l.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,willCommit:!0,commitKey:A,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))});const A=p;p=null,n.addEventListener("blur",t=>{var n;if(!l.focused||!t.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(l.focused=!1);const{target:i}=t;let{value:r}=i;if(d){if(r&&"time"===h){const t=r.split(":").map(t=>parseInt(t,10));r=new Date(2e3,0,1,t[0],t[1],t[2]||0).valueOf(),i.step=""}else r.includes("T")||(r="".concat(r,"T00:00")),r=new Date(r).valueOf();i.type="text"}var s;(l.userValue=r,l.lastCommittedValue!==r)&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:l.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}));A(t)}),null!==(i=this.data.actions)&&void 0!==i&&i.Keystroke&&n.addEventListener("beforeinput",t=>{var n;l.lastCommittedValue=null;const{data:A,target:i}=t,{value:r,selectionStart:s,selectionEnd:a}=i;let o=s,c=a;switch(t.inputType){case"deleteWordBackward":{const t=r.substring(0,s).match(/\w*[^\w]*$/);t&&(o-=t[0].length);break}case"deleteWordForward":{const t=r.substring(s).match(/^[^\w]*\w*/);t&&(c+=t[0].length);break}case"deleteContentBackward":s===a&&(o-=1);break;case"deleteContentForward":s===a&&(c+=1)}t.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,change:A||"",willCommit:!1,selStart:o,selEnd:c}})}),this._setEventListeners(n,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(t,"px * var(--total-scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class od extends sd{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class ld extends sd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let A=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof A&&(A="Off"!==A,t.setValue(n,{value:A})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Wu.add(i),i.setAttribute("data-element-id",n),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=e.fieldName,A&&i.setAttribute("checked",!0),i.setAttribute("exportValue",e.exportValue),i.tabIndex=0,i.addEventListener("change",A=>{const{name:i,checked:r}=A.target;for(const s of this._getElementsByName(i,n)){const n=r&&s.exportValue===e.exportValue;s.domElement&&(s.domElement.checked=n),t.setValue(s.id,{value:n})}t.setValue(n,{value:r})}),i.addEventListener("resetform",t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",e=>{const A={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(A,e)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class cd extends sd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let A=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"===typeof A&&(A=A!==e.buttonValue,t.setValue(n,{value:A})),A)for(const r of this._getElementsByName(e.fieldName,n))t.setValue(r.id,{value:!1});const i=document.createElement("input");if(Wu.add(i),i.setAttribute("data-element-id",n),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=e.fieldName,A&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",e=>{const{name:A,checked:i}=e.target;for(const r of this._getElementsByName(A,n))t.setValue(r.id,{value:!1});t.setValue(n,{value:i})}),i.addEventListener("resetform",t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue}),this.enableScripting&&this.hasJSActions){const A=e.buttonValue;i.addEventListener("updatefromsandbox",e=>{const i={value:e=>{const i=A===e.detail.value;for(const A of this._getElementsByName(e.target.name)){const e=i&&A.id===n;A.domElement&&(A.domElement.checked=e),t.setValue(A.id,{value:e})}}};this._dispatchEventFromSandbox(i,e)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class hd extends ed{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",t=>{this._dispatchEventFromSandbox({},t)})),t}}class ud extends sd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),A=document.createElement("select");Wu.add(A),A.setAttribute("data-element-id",e),A.disabled=this.data.readOnly,this._setRequired(A,this.data.required),A.name=this.data.fieldName,A.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(A.size=this.data.options.length,this.data.multiSelect&&(A.multiple=!0)),A.addEventListener("resetform",t=>{const e=this.data.defaultFieldValue;for(const n of A.options)n.selected=n.value===e});for(const l of this.data.options){const t=document.createElement("option");t.textContent=l.displayValue,t.value=l.exportValue,n.value.includes(l.exportValue)&&(t.setAttribute("selected",!0),i=!1),A.append(t)}let r=null;if(i){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),A.prepend(t),r=()=>{t.remove(),A.removeEventListener("input",r),r=null},A.addEventListener("input",r)}const s=t=>{const e=t?"value":"textContent",{options:n,multiple:i}=A;return i?Array.prototype.filter.call(n,t=>t.selected).map(t=>t[e]):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let a=s(!1);const o=t=>{const e=t.target.options;return Array.prototype.map.call(e,t=>({displayValue:t.textContent,exportValue:t.value}))};return this.enableScripting&&this.hasJSActions?(A.addEventListener("updatefromsandbox",n=>{const i={value(n){var i;null===(i=r)||void 0===i||i();const o=n.detail.value,l=new Set(Array.isArray(o)?o:[o]);for(const t of A.options)t.selected=l.has(t.value);t.setValue(e,{value:s(!0)}),a=s(!1)},multipleSelection(t){A.multiple=!0},remove(n){const i=A.options,r=n.detail.remove;if(i[r].selected=!1,A.remove(r),i.length>0){-1===Array.prototype.findIndex.call(i,t=>t.selected)&&(i[0].selected=!0)}t.setValue(e,{value:s(!0),items:o(n)}),a=s(!1)},clear(n){for(;0!==A.length;)A.remove(0);t.setValue(e,{value:null,items:[]}),a=s(!1)},insert(n){const{index:i,displayValue:r,exportValue:l}=n.detail.insert,c=A.children[i],h=document.createElement("option");h.textContent=r,h.value=l,c?c.before(h):A.append(h),t.setValue(e,{value:s(!0),items:o(n)}),a=s(!1)},items(n){const{items:i}=n.detail;for(;0!==A.length;)A.remove(0);for(const t of i){const{displayValue:e,exportValue:n}=t,i=document.createElement("option");i.textContent=e,i.value=n,A.append(i)}A.options.length>0&&(A.options[0].selected=!0),t.setValue(e,{value:s(!0),items:o(n)}),a=s(!1)},indices(n){const A=new Set(n.detail.indices);for(const t of n.target.options)t.selected=A.has(t.index);t.setValue(e,{value:s(!0)}),a=s(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(i,n)}),A.addEventListener("input",n=>{var A;const i=s(!0),r=s(!1);t.setValue(e,{value:i}),n.preventDefault(),null===(A=this.linkService.eventBus)||void 0===A||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,change:r,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(A,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],t=>t.target.value)):A.addEventListener("input",function(n){t.setValue(e,{value:s(!0)})}),this.data.combo&&this._setTextStyle(A),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.append(A),this.container}}var dd=new WeakSet;class pd extends Ju{constructor(t){const{data:e,elements:n,parent:A}=t,i=!!A._commentManager;if(super(t,{isRenderable:!i&&Ju._hasPopupData(e)}),(0,Jt.A)(this,dd),this.elements=n,i&&Ju._hasPopupData(e)){const t=this.popup=(0,Ae.A)(dd,this,gd).call(this);for(const e of n)e.popup=t}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=(0,Ae.A)(dd,this,gd).call(this),n=[];for(const A of this.elements)A.popup=e,A.container.ariaHasPopup="dialog",n.push(A.data.id),A.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(t=>"".concat(dn).concat(t)).join(",")),this.container}}function gd(){return new Kd({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}var fd=new WeakMap,md=new WeakMap,vd=new WeakMap,wd=new WeakMap,Bd=new WeakMap,yd=new WeakMap,bd=new WeakMap,Cd=new WeakMap,_d=new WeakMap,Fd=new WeakMap,Ed=new WeakMap,xd=new WeakMap,Sd=new WeakMap,kd=new WeakMap,Ud=new WeakMap,Qd=new WeakMap,Pd=new WeakMap,Md=new WeakMap,Id=new WeakMap,Td=new WeakMap,Dd=new WeakMap,Ld=new WeakMap,Rd=new WeakMap,Od=new WeakMap,Hd=new WeakMap,Nd=new WeakMap,Gd=new WeakSet;class Kd{constructor(t){let{container:e,color:n,elements:A,titleObj:i,modificationDate:r,contentsObj:s,richText:a,parent:o,rect:l,parentRect:c,open:h,commentManager:u=null}=t;(0,Jt.A)(this,Gd),(0,Zt.A)(this,fd,null),(0,Zt.A)(this,md,(0,Ae.A)(Gd,this,Zd).bind(this)),(0,Zt.A)(this,vd,(0,Ae.A)(Gd,this,np).bind(this)),(0,Zt.A)(this,wd,(0,Ae.A)(Gd,this,ep).bind(this)),(0,Zt.A)(this,Bd,(0,Ae.A)(Gd,this,tp).bind(this)),(0,Zt.A)(this,yd,null),(0,Zt.A)(this,bd,null),(0,Zt.A)(this,Cd,null),(0,Zt.A)(this,_d,null),(0,Zt.A)(this,Fd,null),(0,Zt.A)(this,Ed,null),(0,Zt.A)(this,xd,null),(0,Zt.A)(this,Sd,!1),(0,Zt.A)(this,kd,null),(0,Zt.A)(this,Ud,null),(0,Zt.A)(this,Qd,null),(0,Zt.A)(this,Pd,null),(0,Zt.A)(this,Md,null),(0,Zt.A)(this,Id,null),(0,Zt.A)(this,Td,null),(0,Zt.A)(this,Dd,null),(0,Zt.A)(this,Ld,null),(0,Zt.A)(this,Rd,null),(0,Zt.A)(this,Od,!1),(0,Zt.A)(this,Hd,null),(0,Zt.A)(this,Nd,null),(0,ee.A)(bd,this,e),(0,ee.A)(Ld,this,i),(0,ee.A)(Cd,this,s),(0,ee.A)(Dd,this,a),(0,ee.A)(Ed,this,o),(0,ee.A)(yd,this,n),(0,ee.A)(Td,this,l),(0,ee.A)(xd,this,c),(0,ee.A)(Fd,this,A),(0,ee.A)(fd,this,u),(0,ee.A)(Hd,this,A[0]),(0,ee.A)(_d,this,kn.toDateObject(r)),this.trigger=A.flatMap(t=>t.getElementsToTriggerPopup()),u?this.renderCommentButton():((0,Ae.A)(Gd,this,Wd).call(this),(0,te.A)(bd,this).hidden=!0,h&&(0,Ae.A)(Gd,this,tp).call(this))}renderCommentButton(){if((0,te.A)(Pd,this))return;if((0,te.A)(Md,this)||(0,Ae.A)(Gd,this,jd).call(this),!(0,te.A)(Md,this))return;const{signal:t}=(0,ee.A)(Ud,this,new AbortController),e=!!(0,te.A)(Hd,this).extraPopupElement,n=()=>{(0,te.A)(fd,this).toggleCommentPopup(this,!0,void 0,!e)},A=()=>{(0,te.A)(fd,this).toggleCommentPopup(this,!1,!0,!e)},i=()=>{(0,te.A)(fd,this).toggleCommentPopup(this,!1,!1)};if(e){(0,ee.A)(Pd,this,(0,te.A)(Hd,this).container);for(const e of this.trigger)e.ariaHasPopup="dialog",e.ariaControls="commentPopup",e.addEventListener("keydown",(0,te.A)(md,this),{signal:t}),e.addEventListener("click",n,{signal:t}),e.addEventListener("pointerenter",A,{signal:t}),e.addEventListener("pointerleave",i,{signal:t}),e.classList.add("popupTriggerArea")}else{const e=(0,ee.A)(Pd,this,document.createElement("button"));e.className="annotationCommentButton";const r=(0,te.A)(Hd,this).container;e.style.zIndex=r.style.zIndex+1,e.tabIndex=0,e.ariaHasPopup="dialog",e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button"),(0,Ae.A)(Gd,this,zd).call(this),(0,Ae.A)(Gd,this,Vd).call(this),e.addEventListener("keydown",(0,te.A)(md,this),{signal:t}),e.addEventListener("click",n,{signal:t}),e.addEventListener("pointerenter",A,{signal:t}),e.addEventListener("pointerleave",i,{signal:t}),r.after(e)}}get commentButtonColor(){const{color:t,opacity:e}=(0,te.A)(Hd,this).commentData;return t?(0,te.A)(Ed,this)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{var t;null===(t=(0,te.A)(Pd,this))||void 0===t||t.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:A,modificationDate:i}=(0,te.A)(Hd,this).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:A,modificationDate:i}}get elementBeforePopup(){return(0,te.A)(Pd,this)}get comment(){return(0,te.A)(Nd,this)||(0,ee.A)(Nd,this,(0,te.A)(Hd,this).commentText),(0,te.A)(Nd,this)}set comment(t){t!==this.comment&&((0,te.A)(Hd,this).commentText=(0,ee.A)(Nd,this,t))}get parentBoundingClientRect(){return(0,te.A)(Hd,this).layer.getBoundingClientRect()}setCommentButtonStates(t){let{selected:e,hasPopup:n}=t;(0,te.A)(Pd,this)&&((0,te.A)(Pd,this).classList.toggle("selected",e),(0,te.A)(Pd,this).ariaExpanded=n)}setSelectedCommentButton(t){(0,te.A)(Pd,this).classList.toggle("selected",t)}get commentPopupPosition(){if((0,te.A)(Id,this))return(0,te.A)(Id,this);const{x:t,y:e,height:n}=(0,te.A)(Pd,this).getBoundingClientRect(),{x:A,y:i,width:r,height:s}=(0,te.A)(Hd,this).layer.getBoundingClientRect();return[(t-A)/r,(e+n-i)/s]}set commentPopupPosition(t){(0,ee.A)(Id,this,t)}hasDefaultPopupPosition(){return null===(0,te.A)(Id,this)}get commentButtonPosition(){return(0,te.A)(Md,this)}get commentButtonWidth(){return(0,te.A)(Pd,this).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=(0,te.A)(Id,this)||this.commentButtonPosition.map(t=>t/100),A=this.parentBoundingClientRect,{x:i,y:r,width:s,height:a}=A;(0,te.A)(fd,this).showDialog(null,this,i+e*s,r+n*a,(0,Yt.A)((0,Yt.A)({},t),{},{parentDimensions:A}))}render(){var t,e;if((0,te.A)(kd,this))return;const n=(0,ee.A)(kd,this,document.createElement("div"));if(n.className="popup",(0,te.A)(yd,this)){const t=n.style.outlineColor=an.makeHexColor(...(0,te.A)(yd,this));n.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)")}const A=document.createElement("span");if(A.className="header",null!==(t=(0,te.A)(Ld,this))&&void 0!==t&&t.str){const t=document.createElement("span");t.className="title",A.append(t),({dir:t.dir,str:t.textContent}=(0,te.A)(Ld,this))}if(n.append(A),(0,te.A)(_d,this)){const t=document.createElement("time");t.className="popupDate",t.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),t.setAttribute("data-l10n-args",JSON.stringify({dateObj:(0,te.A)(_d,this).valueOf()})),t.dateTime=(0,te.A)(_d,this).toISOString(),A.append(t)}Kn({html:(0,$t.A)(Gd,this,Xd)||(0,te.A)(Cd,this).str,dir:null===(e=(0,te.A)(Cd,this))||void 0===e?void 0:e.dir,className:"popupContent"},n),(0,te.A)(bd,this).append(n)}updateEdited(t){var e;let{rect:n,popup:A,deleted:i}=t;if((0,te.A)(fd,this))return i?(this.remove(),(0,ee.A)(Nd,this,null)):A&&(A.deleted?this.remove():((0,Ae.A)(Gd,this,zd).call(this),(0,ee.A)(Nd,this,A.text))),void(n&&((0,ee.A)(Md,this,null),(0,Ae.A)(Gd,this,jd).call(this),(0,Ae.A)(Gd,this,Vd).call(this)));i||null!==A&&void 0!==A&&A.deleted?this.remove():((0,Ae.A)(Gd,this,Wd).call(this),(0,te.A)(Rd,this)||(0,ee.A)(Rd,this,{contentsObj:(0,te.A)(Cd,this),richText:(0,te.A)(Dd,this)}),n&&(0,ee.A)(Qd,this,null),A&&A.text&&((0,ee.A)(Dd,this,(0,Ae.A)(Gd,this,Jd).call(this,A.text)),(0,ee.A)(_d,this,kn.toDateObject(A.date)),(0,ee.A)(Cd,this,null)),null===(e=(0,te.A)(kd,this))||void 0===e||e.remove(),(0,ee.A)(kd,this,null))}resetEdited(){var t;(0,te.A)(Rd,this)&&(({contentsObj:(0,qt.A)(ee.A,[Cd,this])._,richText:(0,qt.A)(ee.A,[Dd,this])._}=(0,te.A)(Rd,this)),(0,ee.A)(Rd,this,null),null===(t=(0,te.A)(kd,this))||void 0===t||t.remove(),(0,ee.A)(kd,this,null),(0,ee.A)(Qd,this,null))}remove(){var t,e,n;if(null===(t=(0,te.A)(Ud,this))||void 0===t||t.abort(),(0,ee.A)(Ud,this,null),null===(e=(0,te.A)(kd,this))||void 0===e||e.remove(),(0,ee.A)(kd,this,null),(0,ee.A)(Od,this,!1),(0,ee.A)(Sd,this,!1),null===(n=(0,te.A)(Pd,this))||void 0===n||n.remove(),(0,ee.A)(Pd,this,null),this.trigger)for(const A of this.trigger)A.classList.remove("popupTriggerArea")}forceHide(){(0,ee.A)(Od,this,this.isVisible),(0,te.A)(Od,this)&&((0,te.A)(bd,this).hidden=!0)}maybeShow(){(0,te.A)(fd,this)||((0,Ae.A)(Gd,this,Wd).call(this),(0,te.A)(Od,this)&&((0,te.A)(kd,this)||(0,Ae.A)(Gd,this,ep).call(this),(0,ee.A)(Od,this,!1),(0,te.A)(bd,this).hidden=!1))}get isVisible(){return!(0,te.A)(fd,this)&&!1===(0,te.A)(bd,this).hidden}}function Wd(){if((0,te.A)(Ud,this))return;(0,ee.A)(Ud,this,new AbortController);const{signal:t}=(0,te.A)(Ud,this);for(const n of this.trigger)n.addEventListener("click",(0,te.A)(Bd,this),{signal:t}),n.addEventListener("pointerenter",(0,te.A)(wd,this),{signal:t}),n.addEventListener("pointerleave",(0,te.A)(vd,this),{signal:t}),n.classList.add("popupTriggerArea");for(const n of(0,te.A)(Fd,this)){var e;null===(e=n.container)||void 0===e||e.addEventListener("keydown",(0,te.A)(md,this),{signal:t})}}function jd(){const t=(0,te.A)(Fd,this).find(t=>t.hasCommentButton);t&&(0,ee.A)(Md,this,t._normalizePoint(t.commentButtonPosition))}function Vd(){if((0,te.A)(Hd,this).extraPopupElement&&!(0,te.A)(Hd,this).editor)return;this.renderCommentButton();const[t,e]=(0,te.A)(Md,this),{style:n}=(0,te.A)(Pd,this);n.left="calc(".concat(t,"%)"),n.top="calc(".concat(e,"% - var(--comment-button-dim))")}function zd(){(0,te.A)(Hd,this).extraPopupElement||(this.renderCommentButton(),(0,te.A)(Pd,this).style.backgroundColor=this.commentButtonColor||"")}function Xd(t){const e=(0,te.A)(Dd,t),n=(0,te.A)(Cd,t);return null===e||void 0===e||!e.str||null!==n&&void 0!==n&&n.str&&n.str!==e.str?null:(0,te.A)(Dd,t).html||null}function qd(t){var e;return(null===(e=(0,$t.A)(Gd,t,Xd))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.fontSize)||0}function Yd(t){var e;return(null===(e=(0,$t.A)(Gd,t,Xd))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.color)||null}function Jd(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},A={style:{color:(0,$t.A)(Gd,this,Yd),fontSize:(0,$t.A)(Gd,this,qd)?"calc(".concat((0,$t.A)(Gd,this,qd),"px * var(--total-scale-factor))"):""}};for(const i of t.split("\n"))e.push({name:"span",value:i,attributes:A});return n}function Zd(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&(0,te.A)(Sd,this))&&(0,Ae.A)(Gd,this,tp).call(this)}function $d(){if(null!==(0,te.A)(Qd,this))return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:A,pageY:i}}}=(0,te.A)(Ed,this);let r=!!(0,te.A)(xd,this),s=r?(0,te.A)(xd,this):(0,te.A)(Td,this);for(const u of(0,te.A)(Fd,this))if(!s||null!==an.intersect(u.data.rect,s)){s=u.data.rect,r=!0;break}const a=an.normalizeRect([s[0],t[3]-s[1]+t[1],s[2],t[3]-s[3]+t[1]]),o=r?s[2]-s[0]+5:0,l=a[0]+o,c=a[1];(0,ee.A)(Qd,this,[100*(l-A)/e,100*(c-i)/n]);const{style:h}=(0,te.A)(bd,this);h.left="".concat((0,te.A)(Qd,this)[0],"%"),h.top="".concat((0,te.A)(Qd,this)[1],"%")}function tp(){(0,te.A)(fd,this)?(0,te.A)(fd,this).toggleCommentPopup(this,!1):((0,ee.A)(Sd,this,!(0,te.A)(Sd,this)),(0,te.A)(Sd,this)?((0,Ae.A)(Gd,this,ep).call(this),(0,te.A)(bd,this).addEventListener("click",(0,te.A)(Bd,this)),(0,te.A)(bd,this).addEventListener("keydown",(0,te.A)(md,this))):((0,Ae.A)(Gd,this,np).call(this),(0,te.A)(bd,this).removeEventListener("click",(0,te.A)(Bd,this)),(0,te.A)(bd,this).removeEventListener("keydown",(0,te.A)(md,this))))}function ep(){(0,te.A)(kd,this)||this.render(),this.isVisible?(0,te.A)(Sd,this)&&(0,te.A)(bd,this).classList.add("focused"):((0,Ae.A)(Gd,this,$d).call(this),(0,te.A)(bd,this).hidden=!1,(0,te.A)(bd,this).style.zIndex=parseInt((0,te.A)(bd,this).style.zIndex)+1e3)}function np(){(0,te.A)(bd,this).classList.remove("focused"),!(0,te.A)(Sd,this)&&this.isVisible&&((0,te.A)(bd,this).hidden=!0,(0,te.A)(bd,this).style.zIndex=parseInt((0,te.A)(bd,this).style.zIndex)-1e3)}class Ap extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=ve.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ip=new WeakMap;class rp extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),(0,Zt.A)(this,ip,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,A=this.svgFactory.create(e,n,!0),i=(0,ee.A)(ip,this,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),A.append(i),this.container.append(A),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,te.A)(ip,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var sp=new WeakMap;class ap extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),(0,Zt.A)(this,sp,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,A=this.svgFactory.create(e,n,!0),i=t.borderStyle.width,r=(0,ee.A)(sp,this,this.svgFactory.createElement("svg:rect"));return r.setAttribute("x",i/2),r.setAttribute("y",i/2),r.setAttribute("width",e-i),r.setAttribute("height",n-i),r.setAttribute("stroke-width",i||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),A.append(r),this.container.append(A),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,te.A)(sp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var op=new WeakMap;class lp extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),(0,Zt.A)(this,op,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,A=this.svgFactory.create(e,n,!0),i=t.borderStyle.width,r=(0,ee.A)(op,this,this.svgFactory.createElement("svg:ellipse"));return r.setAttribute("cx",e/2),r.setAttribute("cy",n/2),r.setAttribute("rx",e/2-i/2),r.setAttribute("ry",n/2-i/2),r.setAttribute("stroke-width",i||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),A.append(r),this.container.append(A),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,te.A)(op,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var cp=new WeakMap;class hp extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),(0,Zt.A)(this,cp,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:A},width:i,height:r}=this;if(!e)return this.container;const s=this.svgFactory.create(i,r,!0);let a=[];for(let l=0,c=e.length;l<c;l+=2){const n=e[l]-t[0],A=t[3]-e[l+1];a.push("".concat(n,",").concat(A))}a=a.join(" ");const o=(0,ee.A)(cp,this,this.svgFactory.createElement(this.svgElementName));return o.setAttribute("points",a),o.setAttribute("stroke-width",n.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!A&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return(0,te.A)(cp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class up extends hp{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class dp extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var pp=new WeakMap,gp=new WeakMap,fp=new WeakSet;class mp extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),(0,Jt.A)(this,fp),(0,Zt.A)(this,pp,null),(0,Zt.A)(this,gp,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?ve.HIGHLIGHT:ve.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:A,popupRef:i}}=this,{transform:r,width:s,height:a}=(0,Ae.A)(fp,this,vp).call(this,e,t),o=this.svgFactory.create(s,a,!0),l=(0,ee.A)(pp,this,this.svgFactory.createElement("svg:g"));o.append(l),l.setAttribute("stroke-width",A.width||1),l.setAttribute("stroke-linecap","round"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit",10),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),l.setAttribute("transform",r);for(let c=0,h=n.length;c<h;c++){const t=this.svgFactory.createElement(this.svgElementName);(0,te.A)(gp,this).push(t),t.setAttribute("points",n[c].join(",")),l.append(t)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(o),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:A}=t,i=(0,te.A)(pp,this);if(e>=0&&i.setAttribute("stroke-width",e||1),n)for(let r=0,s=(0,te.A)(gp,this).length;r<s;r++)(0,te.A)(gp,this)[r].setAttribute("points",n[r].join(","));if(A){const{transform:t,width:e,height:n}=(0,Ae.A)(fp,this,vp).call(this,this.data.rotation,A);i.parentElement.setAttribute("viewBox","0 0 ".concat(e," ").concat(n)),i.setAttribute("transform",t)}}getElementsToTriggerPopup(){return(0,te.A)(gp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function vp(t,e){switch(t){case 90:return{transform:"rotate(90) translate(".concat(-e[0],",").concat(e[1],") scale(1,-1)"),width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:"rotate(180) translate(".concat(-e[2],",").concat(e[1],") scale(1,-1)"),width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:"rotate(270) translate(".concat(-e[2],",").concat(e[3],") scale(1,-1)"),width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:"translate(".concat(-e[0],",").concat(e[3],") scale(1,-1)"),width:e[2]-e[0],height:e[3]-e[1]}}}class wp extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ve.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const e=document.createElement("mark");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Bp extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class yp extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class bp extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const e=document.createElement("s");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Cp extends Ju{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ve.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var _p=new WeakMap,Fp=new WeakSet;class Ep extends Ju{constructor(t){var e;super(t,{isRenderable:!0}),(0,Jt.A)(this,Fp),(0,Zt.A)(this,_p,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("fileattachmentannotation",(0,Yt.A)({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(e.name)?"paperclip":"pushpin",".svg"),e.fillAlpha&&e.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*e.fillAlpha),"%);"))),n.addEventListener("dblclick",(0,Ae.A)(Fp,this,xp).bind(this)),(0,ee.A)(_p,this,n);const{isMac:A}=rn.platform;return t.addEventListener("keydown",t=>{"Enter"===t.key&&(A?t.metaKey:t.ctrlKey)&&(0,Ae.A)(Fp,this,xp).call(this)}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return(0,te.A)(_p,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function xp(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.content,this.filename)}var Sp=new WeakMap,kp=new WeakMap,Up=new WeakMap,Qp=new WeakMap,Pp=new WeakMap,Mp=new WeakMap,Ip=new WeakSet;class Tp{constructor(t){let{div:e,accessibilityManager:n,annotationCanvasMap:A,annotationEditorUIManager:i,page:r,viewport:s,structTreeLayer:a,commentManager:o,linkService:l,annotationStorage:c}=t;(0,Jt.A)(this,Ip),(0,Zt.A)(this,Sp,null),(0,Zt.A)(this,kp,null),(0,Zt.A)(this,Up,null),(0,Zt.A)(this,Qp,new Map),(0,Zt.A)(this,Pp,null),(0,Zt.A)(this,Mp,null),this.div=e,(0,ee.A)(Sp,this,n),(0,ee.A)(kp,this,A),(0,ee.A)(Pp,this,a||null),(0,ee.A)(Mp,this,l||null),(0,ee.A)(Up,this,c||new zs),this.page=r,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=o||null}hasEditableAnnotations(){return(0,te.A)(Qp,this).size>0}async render(t){const{annotations:e}=t,n=this.div;In(n,this.viewport);const A=new Map,i={data:null,layer:n,linkService:(0,te.A)(Mp,this),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new Ku,annotationStorage:(0,te.A)(Up,this),enableComment:!0===t.enableComment,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of e){var r;if(a.noHTML)continue;const t=a.annotationType===xe.POPUP;if(t){const t=A.get(a.id);if(!t)continue;i.elements=t}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;i.data=a;const e=Vu.create(i);if(!e.isRenderable)continue;if(!t&&a.popupRef){const t=A.get(a.popupRef);t?t.push(e):A.set(a.popupRef,[e])}const n=e.render();var s;if(a.hidden&&(n.style.visibility="hidden"),await(0,Ae.A)(Ip,this,Dp).call(this,n,a.id,i.elements),null===(r=e.extraPopupElement)||void 0===r||null===(r=r.popup)||void 0===r||r.renderCommentButton(),e._isEditable)(0,te.A)(Qp,this).set(e.data.id,e),null===(s=this._annotationEditorUIManager)||void 0===s||s.renderAnnotationElement(e)}(0,Ae.A)(Ip,this,Lp).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:(0,te.A)(Mp,this),svgFactory:new Ku,parent:this};for(const n of t){n.borderStyle||(n.borderStyle=Tp._defaultBorderStyle),e.data=n;const t=Vu.create(e);if(!t.isRenderable)continue;const A=t.render();await(0,Ae.A)(Ip,this,Dp).call(this,A,n.id,null)}}update(t){let{viewport:e}=t;const n=this.div;this.viewport=e,In(n,{rotation:e.rotation}),(0,Ae.A)(Ip,this,Lp).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from((0,te.A)(Qp,this).values())}getEditableAnnotation(t){return(0,te.A)(Qp,this).get(t)}addFakeAnnotation(t){var e;const{div:n}=this,{id:A,rotation:i}=t,r=new $u({data:{id:A,rect:t.getPDFRect(),rotation:i},editor:t,layer:n,parent:this,enableComment:!!this._commentManager,linkService:(0,te.A)(Mp,this),annotationStorage:(0,te.A)(Up,this)}),s=r.render();return n.append(s),null===(e=(0,te.A)(Sp,this))||void 0===e||e.moveElementInDOM(n,s,s,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return Xe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Se,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function Dp(t,e,n){var A;const i=t.firstChild||t,r=i.id="".concat(dn).concat(e),s=await(null===(A=(0,te.A)(Pp,this))||void 0===A?void 0:A.getAriaAttributes(r));if(s)for(const[o,l]of s)i.setAttribute(o,l);var a;n?n.at(-1).container.after(t):(this.div.append(t),null===(a=(0,te.A)(Sp,this))||void 0===a||a.moveElementInDOM(this.div,t,i,!1))}function Lp(){if(!(0,te.A)(kp,this))return;const t=this.div;for(const[n,A]of(0,te.A)(kp,this)){const i=t.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!i)continue;A.className="annotationContent";const{firstChild:r}=i;r?"CANVAS"===r.nodeName?r.replaceWith(A):r.classList.contains("annotationContent")?r.after(A):r.before(A):i.append(A);const s=(0,te.A)(Qp,this).get(n);var e;if(s)if(s._hasNoCanvas)null===(e=this._annotationEditorUIManager)||void 0===e||e.setMissingCanvas(n,i.id,A),s._hasNoCanvas=!1;else s.canvas=A}(0,te.A)(kp,this).clear()}const Rp=/\r\n?|\n/g;var Op=new WeakMap,Hp=new WeakMap,Np=new WeakMap,Gp=new WeakMap,Kp=new WeakSet;class Wp extends fs{static get _keyboardManager(){const t=Wp.prototype,e=t=>t.isEmpty(),n=Si.TRANSLATE_SMALL,A=Si.TRANSLATE_BIG;return Xe(this,"_keyboardManager",new kA([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-A,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[A,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-A],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,A],checker:e}]]))}constructor(t){super((0,Yt.A)((0,Yt.A)({},t),{},{name:"freeTextEditor"})),(0,Jt.A)(this,Kp),(0,Zt.A)(this,Op,""),(0,Zt.A)(this,Hp,"".concat(this.id,"-editor")),(0,Zt.A)(this,Np,null),(0,Zt.A)(this,Gp,void 0),(0,ne.A)(this,"_colorPicker",null),this.color=t.color||Wp._defaultColor||fs._defaultLineColor,(0,ee.A)(Gp,this,t.fontSize||Wp._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){fs.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case we.FREETEXT_SIZE:Wp._defaultFontSize=e;break;case we.FREETEXT_COLOR:Wp._defaultColor=e}}updateParams(t,e){switch(t){case we.FREETEXT_SIZE:(0,Ae.A)(Kp,this,jp).call(this,e);break;case we.FREETEXT_COLOR:(0,Ae.A)(Kp,this,Vp).call(this,e)}}static get defaultPropertiesToUpdate(){return[[we.FREETEXT_SIZE,Wp._defaultFontSize],[we.FREETEXT_COLOR,Wp._defaultColor||fs._defaultLineColor]]}get propertiesToUpdate(){return[[we.FREETEXT_SIZE,(0,te.A)(Gp,this)],[we.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Lu(this)),[["colorPicker",this._colorPicker]]}get colorType(){return we.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,null===(t=this._colorPicker)||void 0===t||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Wp._internalPadding*t,-(Wp._internalPadding+(0,te.A)(Gp,this))*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),(0,ee.A)(Np,this,new AbortController);const t=this._uiManager.combinedSignal((0,te.A)(Np,this));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",(0,te.A)(Hp,this)),this._isDraggable=!0,null===(t=(0,te.A)(Np,this))||void 0===t||t.abort(),(0,ee.A)(Np,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var e;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=(0,te.A)(Op,this),e=(0,ee.A)(Op,this,(0,Ae.A)(Kp,this,zp).call(this).trimEnd());if(t===e)return;const n=t=>{(0,ee.A)(Op,this,t),t?((0,Ae.A)(Kp,this,Yp).call(this),this._uiManager.rebuild(this),(0,Ae.A)(Kp,this,Xp).call(this)):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),(0,Ae.A)(Kp,this,Xp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Wp._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",(0,te.A)(Hp,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat((0,te.A)(Gp,this),"px * var(--total-scale-factor))"),n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,A]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[r,s]=this.getInitialTranslation();[r,s]=this.pageTranslationToScreen(r,s);const[a,o]=this.pageDimensions,[l,c]=this.pageTranslation;let h,u;switch(this.rotation){case 0:h=t+(i[0]-l)/a,u=e+this.height-(i[1]-c)/o;break;case 90:h=t+(i[0]-l)/a,u=e-(i[1]-c)/o,[r,s]=[s,-r];break;case 180:h=t-this.width+(i[0]-l)/a,u=e-(i[1]-c)/o,[r,s]=[-r,-s];break;case 270:h=t+(i[0]-l-this.height*o)/a,u=e+(i[1]-c-this.width*a)/o,[r,s]=[-s,r]}this.setAt(h*n,u*A,r,s)}else this._moveAfterPaste(t,e);(0,Ae.A)(Kp,this,Yp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(1===n.length&&"text/plain"===n[0])return;t.preventDefault();const A=Zp.call(Wp,e.getData("text")||"").replaceAll(Rp,"\n");if(!A)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const r=i.getRangeAt(0);if(!A.includes("\n"))return r.insertNode(document.createTextNode(A)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:s,startOffset:a}=r,o=[],l=[];if(s.nodeType===Node.TEXT_NODE){const t=s.parentElement;if(l.push(s.nodeValue.slice(a).replaceAll(Rp,"")),t!==this.editorDiv){let e=o;for(const n of this.editorDiv.childNodes)n!==t?e.push(qp.call(Wp,n)):e=l}o.push(s.nodeValue.slice(0,a).replaceAll(Rp,""))}else if(s===this.editorDiv){let t=o,e=0;for(const n of this.editorDiv.childNodes)e++===a&&(t=l),t.push(qp.call(Wp,n))}(0,ee.A)(Op,this,"".concat(o.join("\n")).concat(A).concat(l.join("\n"))),(0,Ae.A)(Kp,this,Yp).call(this);const c=new Range;let h=Math.sumPrecise(o.map(t=>t.length));for(const{firstChild:u}of this.editorDiv.childNodes)if(u.nodeType===Node.TEXT_NODE){const t=u.nodeValue.length;if(h<=t){c.setStart(u,h),c.setEnd(u,h);break}h-=t}i.removeAllRanges(),i.addRange(c)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Wp._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let A=null;if(t instanceof Ap){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:i,rotation:r,id:s,popupRef:a,richText:o,contentsObj:l,creationDate:c,modificationDate:h},textContent:u,textPosition:d,parent:{page:{pageNumber:p}}}=t;if(!u||0===u.length)return null;A=t={annotationType:ve.FREETEXT,color:Array.from(n),fontSize:e,value:u.join("\n"),position:d,pageIndex:p-1,rect:i.slice(0),rotation:r,annotationElementId:s,id:s,deleted:!1,popupRef:a,comment:(null===l||void 0===l?void 0:l.str)||null,richText:o,creationDate:c,modificationDate:h}}const i=await super.deserialize(t,e,n);return(0,ee.A)(Gp,i,t.fontSize),i.color=an.makeHexColor(...t.color),(0,ee.A)(Op,i,Zp.call(Wp,t.value)),i._initialData=A,t.comment&&i.setCommentData(t),i}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=fs._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:(0,te.A)(Gp,this),value:(0,Ae.A)(Kp,this,Jp).call(this)});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!(0,Ae.A)(Kp,this,$p).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize="calc(".concat((0,te.A)(Gp,this),"px * var(--total-scale-factor))"),n.color=this.color,e.replaceChildren();for(const A of(0,te.A)(Op,this).split("\n")){const t=document.createElement("div");t.append(A?document.createTextNode(A):document.createElement("br")),e.append(t)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:(0,te.A)(Op,this)}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}function jp(t){const e=t=>{this.editorDiv.style.fontSize="calc(".concat(t,"px * var(--total-scale-factor))"),this.translate(0,-(t-(0,te.A)(Gp,this))*this.parentScale),(0,ee.A)(Gp,this,t),(0,Ae.A)(Kp,this,Xp).call(this)},n=(0,te.A)(Gp,this);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:we.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Vp(t){const e=t=>{this.color=t,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:we.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function zp(){const t=[];this.editorDiv.normalize();let e=null;for(const A of this.editorDiv.childNodes){var n;(null===(n=e)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===A.nodeName||(t.push(qp.call(Wt,A)),e=A)}return t.join("\n")}function Xp(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,A=e.style.display,i=e.classList.contains("hidden");e.classList.remove("hidden"),e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=A,e.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}function qp(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Rp,"")}function Yp(){if(this.editorDiv.replaceChildren(),(0,te.A)(Op,this))for(const t of(0,te.A)(Op,this).split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}function Jp(){return(0,te.A)(Op,this).replaceAll("\xa0"," ")}function Zp(t){return t.replaceAll(" ","\xa0")}function $p(t){const{value:e,fontSize:n,color:A,pageIndex:i}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((t,e)=>t!==A[e])||t.pageIndex!==i}Wt=Wp,(0,ne.A)(Wp,"_freeTextDefaultContent",""),(0,ne.A)(Wp,"_internalPadding",0),(0,ne.A)(Wp,"_defaultColor",null),(0,ne.A)(Wp,"_defaultFontSize",10),(0,ne.A)(Wp,"_type","freetext"),(0,ne.A)(Wp,"_editorType",ve.FREETEXT);class tg{toSVGPath(){We("Abstract method `toSVGPath` must be implemented.")}get box(){We("Abstract getter `box` must be implemented.")}serialize(t,e){We("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,A,i,r){r||(r=new Float32Array(t.length));for(let s=0,a=t.length;s<a;s+=2)r[s]=e+t[s]*A,r[s+1]=n+t[s+1]*i;return r}static _rescaleAndSwap(t,e,n,A,i,r){r||(r=new Float32Array(t.length));for(let s=0,a=t.length;s<a;s+=2)r[s]=e+t[s+1]*A,r[s+1]=n+t[s]*i;return r}static _translate(t,e,n,A){A||(A=new Float32Array(t.length));for(let i=0,r=t.length;i<r;i+=2)A[i]=e+t[i],A[i+1]=n+t[i+1];return A}static svgRound(t){return Math.round(1e4*t)}static _normalizePoint(t,e,n,A,i){switch(i){case 90:return[1-e/n,t/A];case 180:return[1-t/n,1-e/A];case 270:return[e/n,1-t/A];default:return[t/n,e/A]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,A,i,r){return[(t+5*n)/6,(e+5*A)/6,(5*n+i)/6,(5*A+r)/6,(n+i)/2,(A+r)/2]}}(0,ne.A)(tg,"PRECISION",1e-4);var eg=new WeakMap,ng=new WeakMap,Ag=new WeakMap,ig=new WeakMap,rg=new WeakMap,sg=new WeakMap,ag=new WeakMap,og=new WeakMap,lg=new WeakMap,cg=new WeakMap,hg=new WeakMap,ug=new WeakMap,dg=new WeakMap,pg=new WeakSet;class gg{constructor(t,e,n,A,i){let{x:r,y:s}=t,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;(0,Jt.A)(this,pg),(0,Zt.A)(this,eg,void 0),(0,Zt.A)(this,ng,[]),(0,Zt.A)(this,Ag,void 0),(0,Zt.A)(this,ig,void 0),(0,Zt.A)(this,rg,[]),(0,Zt.A)(this,sg,new Float32Array(18)),(0,Zt.A)(this,ag,void 0),(0,Zt.A)(this,og,void 0),(0,Zt.A)(this,lg,void 0),(0,Zt.A)(this,cg,void 0),(0,Zt.A)(this,hg,void 0),(0,Zt.A)(this,ug,void 0),(0,Zt.A)(this,dg,[]),(0,ee.A)(eg,this,e),(0,ee.A)(ug,this,A*n),(0,ee.A)(ig,this,i),(0,te.A)(sg,this).set([NaN,NaN,NaN,NaN,r,s],6),(0,ee.A)(Ag,this,a),(0,ee.A)(cg,this,Cg._*n),(0,ee.A)(lg,this,_g._*n),(0,ee.A)(hg,this,n),(0,te.A)(dg,this).push(r,s)}isEmpty(){return isNaN((0,te.A)(sg,this)[8])}add(t){var e;let{x:n,y:A}=t;(0,ee.A)(ag,this,n),(0,ee.A)(og,this,A);const[i,r,s,a]=(0,te.A)(eg,this);let[o,l,c,h]=(0,te.A)(sg,this).subarray(8,12);const u=n-c,d=A-h,p=Math.hypot(u,d);if(p<(0,te.A)(lg,this))return!1;const g=p-(0,te.A)(cg,this),f=g/p,m=f*u,v=f*d;let w=o,B=l;o=c,l=h,c+=m,h+=v,null===(e=(0,te.A)(dg,this))||void 0===e||e.push(n,A);const y=m/g,b=-v/g*(0,te.A)(ug,this),C=y*(0,te.A)(ug,this);if((0,te.A)(sg,this).set((0,te.A)(sg,this).subarray(2,8),0),(0,te.A)(sg,this).set([c+b,h+C],4),(0,te.A)(sg,this).set((0,te.A)(sg,this).subarray(14,18),12),(0,te.A)(sg,this).set([c-b,h-C],16),isNaN((0,te.A)(sg,this)[6]))return 0===(0,te.A)(rg,this).length&&((0,te.A)(sg,this).set([o+b,l+C],2),(0,te.A)(rg,this).push(NaN,NaN,NaN,NaN,(o+b-i)/s,(l+C-r)/a),(0,te.A)(sg,this).set([o-b,l-C],14),(0,te.A)(ng,this).push(NaN,NaN,NaN,NaN,(o-b-i)/s,(l-C-r)/a)),(0,te.A)(sg,this).set([w,B,o,l,c,h],6),!this.isEmpty();(0,te.A)(sg,this).set([w,B,o,l,c,h],6);return Math.abs(Math.atan2(B-l,w-o)-Math.atan2(v,m))<Math.PI/2?([o,l,c,h]=(0,te.A)(sg,this).subarray(2,6),(0,te.A)(rg,this).push(NaN,NaN,NaN,NaN,((o+c)/2-i)/s,((l+h)/2-r)/a),[o,l,w,B]=(0,te.A)(sg,this).subarray(14,18),(0,te.A)(ng,this).push(NaN,NaN,NaN,NaN,((w+o)/2-i)/s,((B+l)/2-r)/a),!0):([w,B,o,l,c,h]=(0,te.A)(sg,this).subarray(0,6),(0,te.A)(rg,this).push(((w+5*o)/6-i)/s,((B+5*l)/6-r)/a,((5*o+c)/6-i)/s,((5*l+h)/6-r)/a,((o+c)/2-i)/s,((l+h)/2-r)/a),[c,h,o,l,w,B]=(0,te.A)(sg,this).subarray(12,18),(0,te.A)(ng,this).push(((w+5*o)/6-i)/s,((B+5*l)/6-r)/a,((5*o+c)/6-i)/s,((5*l+h)/6-r)/a,((o+c)/2-i)/s,((l+h)/2-r)/a),!0)}toSVGPath(){if(this.isEmpty())return"";const t=(0,te.A)(rg,this),e=(0,te.A)(ng,this);if(isNaN((0,te.A)(sg,this)[6])&&!this.isEmpty())return(0,Ae.A)(pg,this,mg).call(this);const n=[];n.push("M".concat(t[4]," ").concat(t[5]));for(let A=6;A<t.length;A+=6)isNaN(t[A])?n.push("L".concat(t[A+4]," ").concat(t[A+5])):n.push("C".concat(t[A]," ").concat(t[A+1]," ").concat(t[A+2]," ").concat(t[A+3]," ").concat(t[A+4]," ").concat(t[A+5]));(0,Ae.A)(pg,this,wg).call(this,n);for(let A=e.length-6;A>=6;A-=6)isNaN(e[A])?n.push("L".concat(e[A+4]," ").concat(e[A+5])):n.push("C".concat(e[A]," ").concat(e[A+1]," ").concat(e[A+2]," ").concat(e[A+3]," ").concat(e[A+4]," ").concat(e[A+5]));return(0,Ae.A)(pg,this,vg).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,A,i,r){return new Mg(t,e,n,A,i,r)}getOutlines(){var t,e;const n=(0,te.A)(rg,this),A=(0,te.A)(ng,this),i=(0,te.A)(sg,this),[r,s,a,o]=(0,te.A)(eg,this),l=new Float32Array((null!==(t=null===(e=(0,te.A)(dg,this))||void 0===e?void 0:e.length)&&void 0!==t?t:0)+2);for(let u=0,d=l.length-2;u<d;u+=2)l[u]=((0,te.A)(dg,this)[u]-r)/a,l[u+1]=((0,te.A)(dg,this)[u+1]-s)/o;if(l[l.length-2]=((0,te.A)(ag,this)-r)/a,l[l.length-1]=((0,te.A)(og,this)-s)/o,isNaN(i[6])&&!this.isEmpty())return(0,Ae.A)(pg,this,Bg).call(this,l);const c=new Float32Array((0,te.A)(rg,this).length+24+(0,te.A)(ng,this).length);let h=n.length;for(let u=0;u<h;u+=2)isNaN(n[u])?c[u]=c[u+1]=NaN:(c[u]=n[u],c[u+1]=n[u+1]);h=(0,Ae.A)(pg,this,bg).call(this,c,h);for(let u=A.length-6;u>=6;u-=6)for(let t=0;t<6;t+=2)isNaN(A[u+t])?(c[h]=c[h+1]=NaN,h+=2):(c[h]=A[u+t],c[h+1]=A[u+t+1],h+=2);return(0,Ae.A)(pg,this,yg).call(this,c,h),this.newFreeDrawOutline(c,l,(0,te.A)(eg,this),(0,te.A)(hg,this),(0,te.A)(Ag,this),(0,te.A)(ig,this))}}function fg(){const t=(0,te.A)(sg,this).subarray(4,6),e=(0,te.A)(sg,this).subarray(16,18),[n,A,i,r]=(0,te.A)(eg,this);return[((0,te.A)(ag,this)+(t[0]-e[0])/2-n)/i,((0,te.A)(og,this)+(t[1]-e[1])/2-A)/r,((0,te.A)(ag,this)+(e[0]-t[0])/2-n)/i,((0,te.A)(og,this)+(e[1]-t[1])/2-A)/r]}function mg(){const[t,e,n,A]=(0,te.A)(eg,this),[i,r,s,a]=(0,Ae.A)(pg,this,fg).call(this);return"M".concat(((0,te.A)(sg,this)[2]-t)/n," ").concat(((0,te.A)(sg,this)[3]-e)/A," L").concat(((0,te.A)(sg,this)[4]-t)/n," ").concat(((0,te.A)(sg,this)[5]-e)/A," L").concat(i," ").concat(r," L").concat(s," ").concat(a," L").concat(((0,te.A)(sg,this)[16]-t)/n," ").concat(((0,te.A)(sg,this)[17]-e)/A," L").concat(((0,te.A)(sg,this)[14]-t)/n," ").concat(((0,te.A)(sg,this)[15]-e)/A," Z")}function vg(t){const e=(0,te.A)(ng,this);t.push("L".concat(e[4]," ").concat(e[5]," Z"))}function wg(t){const[e,n,A,i]=(0,te.A)(eg,this),r=(0,te.A)(sg,this).subarray(4,6),s=(0,te.A)(sg,this).subarray(16,18),[a,o,l,c]=(0,Ae.A)(pg,this,fg).call(this);t.push("L".concat((r[0]-e)/A," ").concat((r[1]-n)/i," L").concat(a," ").concat(o," L").concat(l," ").concat(c," L").concat((s[0]-e)/A," ").concat((s[1]-n)/i))}function Bg(t){const e=(0,te.A)(sg,this),[n,A,i,r]=(0,te.A)(eg,this),[s,a,o,l]=(0,Ae.A)(pg,this,fg).call(this),c=new Float32Array(36);return c.set([NaN,NaN,NaN,NaN,(e[2]-n)/i,(e[3]-A)/r,NaN,NaN,NaN,NaN,(e[4]-n)/i,(e[5]-A)/r,NaN,NaN,NaN,NaN,s,a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,(e[16]-n)/i,(e[17]-A)/r,NaN,NaN,NaN,NaN,(e[14]-n)/i,(e[15]-A)/r],0),this.newFreeDrawOutline(c,t,(0,te.A)(eg,this),(0,te.A)(hg,this),(0,te.A)(Ag,this),(0,te.A)(ig,this))}function yg(t,e){const n=(0,te.A)(ng,this);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+6}function bg(t,e){const n=(0,te.A)(sg,this).subarray(4,6),A=(0,te.A)(sg,this).subarray(16,18),[i,r,s,a]=(0,te.A)(eg,this),[o,l,c,h]=(0,Ae.A)(pg,this,fg).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-i)/s,(n[1]-r)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(A[0]-i)/s,(A[1]-r)/a],e),e+24}var Cg={_:8},_g={_:Cg._+2},Fg=new WeakMap,Eg=new WeakMap,xg=new WeakMap,Sg=new WeakMap,kg=new WeakMap,Ug=new WeakMap,Qg=new WeakMap,Pg=new WeakSet;class Mg extends tg{constructor(t,e,n,A,i,r){super(),(0,Jt.A)(this,Pg),(0,Zt.A)(this,Fg,void 0),(0,Zt.A)(this,Eg,new Float32Array(4)),(0,Zt.A)(this,xg,void 0),(0,Zt.A)(this,Sg,void 0),(0,Zt.A)(this,kg,void 0),(0,Zt.A)(this,Ug,void 0),(0,Zt.A)(this,Qg,void 0),(0,ee.A)(Qg,this,t),(0,ee.A)(kg,this,e),(0,ee.A)(Fg,this,n),(0,ee.A)(Ug,this,A),(0,ee.A)(xg,this,i),(0,ee.A)(Sg,this,r),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],(0,Ae.A)(Pg,this,Ig).call(this,r);const[s,a,o,l]=(0,te.A)(Eg,this);for(let c=0,h=t.length;c<h;c+=2)t[c]=(t[c]-s)/o,t[c+1]=(t[c+1]-a)/l;for(let c=0,h=e.length;c<h;c+=2)e[c]=(e[c]-s)/o,e[c+1]=(e[c+1]-a)/l}toSVGPath(){const t=["M".concat((0,te.A)(Qg,this)[4]," ").concat((0,te.A)(Qg,this)[5])];for(let e=6,n=(0,te.A)(Qg,this).length;e<n;e+=6)isNaN((0,te.A)(Qg,this)[e])?t.push("L".concat((0,te.A)(Qg,this)[e+4]," ").concat((0,te.A)(Qg,this)[e+5])):t.push("C".concat((0,te.A)(Qg,this)[e]," ").concat((0,te.A)(Qg,this)[e+1]," ").concat((0,te.A)(Qg,this)[e+2]," ").concat((0,te.A)(Qg,this)[e+3]," ").concat((0,te.A)(Qg,this)[e+4]," ").concat((0,te.A)(Qg,this)[e+5]));return t.push("Z"),t.join(" ")}serialize(t,e){let[n,A,i,r]=t;const s=i-n,a=r-A;let o,l;switch(e){case 0:o=tg._rescale((0,te.A)(Qg,this),n,r,s,-a),l=tg._rescale((0,te.A)(kg,this),n,r,s,-a);break;case 90:o=tg._rescaleAndSwap((0,te.A)(Qg,this),n,A,s,a),l=tg._rescaleAndSwap((0,te.A)(kg,this),n,A,s,a);break;case 180:o=tg._rescale((0,te.A)(Qg,this),i,A,-s,a),l=tg._rescale((0,te.A)(kg,this),i,A,-s,a);break;case 270:o=tg._rescaleAndSwap((0,te.A)(Qg,this),i,r,-s,-a),l=tg._rescaleAndSwap((0,te.A)(kg,this),i,r,-s,-a)}return{outline:Array.from(o),points:[Array.from(l)]}}get box(){return(0,te.A)(Eg,this)}newOutliner(t,e,n,A,i){return new gg(t,e,n,A,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(t,e){const[n,A,i,r]=(0,te.A)(Eg,this),[s,a,o,l]=(0,te.A)(Fg,this),c=i*o,h=r*l,u=n*o+s,d=A*l+a,p=this.newOutliner({x:(0,te.A)(kg,this)[0]*c+u,y:(0,te.A)(kg,this)[1]*h+d},(0,te.A)(Fg,this),(0,te.A)(Ug,this),t,(0,te.A)(Sg,this),null!==e&&void 0!==e?e:(0,te.A)(xg,this));for(let g=2;g<(0,te.A)(kg,this).length;g+=2)p.add({x:(0,te.A)(kg,this)[g]*c+u,y:(0,te.A)(kg,this)[g+1]*h+d});return p.getOutlines()}}function Ig(t){const e=(0,te.A)(Qg,this);let n=e[4],A=e[5];const i=[n,A,n,A];let r=n,s=A,a=n,o=A;const l=t?Math.max:Math.min,c=new Float32Array(4);for(let u=6,d=e.length;u<d;u+=6){const t=e[u+4],h=e[u+5];isNaN(e[u])?(an.pointBoundingBox(t,h,i),s>h?(r=t,s=h):s===h&&(r=l(r,t)),o<h?(a=t,o=h):o===h&&(a=l(a,t))):(c[0]=c[1]=1/0,c[2]=c[3]=-1/0,an.bezierBoundingBox(n,A,...e.slice(u,u+6),c),an.rectBoundingBox(c[0],c[1],c[2],c[3],i),s>c[1]?(r=c[0],s=c[1]):s===c[1]&&(r=l(r,c[0])),o<c[3]?(a=c[2],o=c[3]):o===c[3]&&(a=l(a,c[2]))),n=t,A=h}const h=(0,te.A)(Eg,this);h[0]=i[0]-(0,te.A)(xg,this),h[1]=i[1]-(0,te.A)(xg,this),h[2]=i[2]-i[0]+2*(0,te.A)(xg,this),h[3]=i[3]-i[1]+2*(0,te.A)(xg,this),this.firstPoint=[r,s],this.lastPoint=[a,o]}var Tg=new WeakMap,Dg=new WeakMap,Lg=new WeakMap,Rg=new WeakMap,Og=new WeakMap,Hg=new WeakSet;class Ng{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,A=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(0,Jt.A)(this,Hg),(0,Zt.A)(this,Tg,void 0),(0,Zt.A)(this,Dg,void 0),(0,Zt.A)(this,Lg,void 0),(0,Zt.A)(this,Rg,[]),(0,Zt.A)(this,Og,[]);const i=[1/0,1/0,-1/0,-1/0],r=10**-4;for(const{x:p,y:g,width:f,height:m}of t){const t=Math.floor((p-e)/r)*r,n=Math.ceil((p+f+e)/r)*r,A=Math.floor((g-e)/r)*r,s=Math.ceil((g+m+e)/r)*r,a=[t,A,s,!0],o=[n,A,s,!1];(0,te.A)(Rg,this).push(a,o),an.rectBoundingBox(t,A,n,s,i)}const s=i[2]-i[0]+2*n,a=i[3]-i[1]+2*n,o=i[0]-n,l=i[1]-n;let c=A?-1/0:1/0,h=1/0;const u=(0,te.A)(Rg,this).at(A?-1:-2),d=[u[0],u[2]];for(const p of(0,te.A)(Rg,this)){const[t,e,n,i]=p;!i&&A?e<h?(h=e,c=t):e===h&&(c=Math.max(c,t)):i&&!A&&(e<h?(h=e,c=t):e===h&&(c=Math.min(c,t))),p[0]=(t-o)/s,p[1]=(e-l)/a,p[2]=(n-l)/a}(0,ee.A)(Tg,this,new Float32Array([o,l,s,a])),(0,ee.A)(Dg,this,[c,h]),(0,ee.A)(Lg,this,d)}getOutlines(){(0,te.A)(Rg,this).sort((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]);const t=[];for(const e of(0,te.A)(Rg,this))e[3]?(t.push(...(0,Ae.A)(Hg,this,Vg).call(this,e)),(0,Ae.A)(Hg,this,Wg).call(this,e)):((0,Ae.A)(Hg,this,jg).call(this,e),t.push(...(0,Ae.A)(Hg,this,Vg).call(this,e)));return(0,Ae.A)(Hg,this,Gg).call(this,t)}}function Gg(t){const e=[],n=new Set;for(const r of t){const[t,n,A]=r;e.push([t,n,r],[t,A,r])}e.sort((t,e)=>t[1]-e[1]||t[0]-e[0]);for(let r=0,s=e.length;r<s;r+=2){const t=e[r][2],A=e[r+1][2];t.push(A),A.push(t),n.add(t),n.add(A)}const A=[];let i;for(;n.size>0;){const t=n.values().next().value;let[e,r,s,a,o]=t;n.delete(t);let l=e,c=r;for(i=[e,s],A.push(i);;){let t;if(n.has(a))t=a;else{if(!n.has(o))break;t=o}n.delete(t),[e,r,s,a,o]=t,l!==e&&(i.push(l,c,e,c===r?r:s),l=e),c=c===r?s:r}i.push(l,c)}return new qg(A,(0,te.A)(Tg,this),(0,te.A)(Dg,this),(0,te.A)(Lg,this))}function Kg(t){const e=(0,te.A)(Og,this);let n=0,A=e.length-1;for(;n<=A;){const i=n+A>>1,r=e[i][0];if(r===t)return i;r<t?n=i+1:A=i-1}return A+1}function Wg(t){let[,e,n]=t;const A=(0,Ae.A)(Hg,this,Kg).call(this,e);(0,te.A)(Og,this).splice(A,0,[e,n])}function jg(t){let[,e,n]=t;const A=(0,Ae.A)(Hg,this,Kg).call(this,e);for(let i=A;i<(0,te.A)(Og,this).length;i++){const[t,A]=(0,te.A)(Og,this)[i];if(t!==e)break;if(t===e&&A===n)return void(0,te.A)(Og,this).splice(i,1)}for(let i=A-1;i>=0;i--){const[t,A]=(0,te.A)(Og,this)[i];if(t!==e)break;if(t===e&&A===n)return void(0,te.A)(Og,this).splice(i,1)}}function Vg(t){const[e,n,A]=t,i=[[e,n,A]],r=(0,Ae.A)(Hg,this,Kg).call(this,A);for(let s=0;s<r;s++){const[t,n]=(0,te.A)(Og,this)[s];for(let A=0,r=i.length;A<r;A++){const[,s,a]=i[A];if(!(n<=s||a<=t))if(s>=t)if(a>n)i[A][1]=n;else{if(1===r)return[];i.splice(A,1),A--,r--}else i[A][2]=t,a>n&&i.push([e,n,a])}}return i}var zg=new WeakMap,Xg=new WeakMap;class qg extends tg{constructor(t,e,n,A){super(),(0,Zt.A)(this,zg,void 0),(0,Zt.A)(this,Xg,void 0),(0,ee.A)(Xg,this,t),(0,ee.A)(zg,this,e),this.firstPoint=n,this.lastPoint=A}toSVGPath(){const t=[];for(const e of(0,te.A)(Xg,this)){let[n,A]=e;t.push("M".concat(n," ").concat(A));for(let i=2;i<e.length;i+=2){const r=e[i],s=e[i+1];r===n?(t.push("V".concat(s)),A=s):s===A&&(t.push("H".concat(r)),n=r)}t.push("Z")}return t.join(" ")}serialize(t,e){let[n,A,i,r]=t;const s=[],a=i-n,o=r-A;for(const l of(0,te.A)(Xg,this)){const t=new Array(l.length);for(let e=0;e<l.length;e+=2)t[e]=n+l[e]*a,t[e+1]=r-l[e+1]*o;s.push(t)}return s}get box(){return(0,te.A)(zg,this)}get classNamesForOutlining(){return["highlightOutline"]}}class Yg extends gg{newFreeDrawOutline(t,e,n,A,i,r){return new Jg(t,e,n,A,i,r)}}class Jg extends Mg{newOutliner(t,e,n,A,i){return new Yg(t,e,n,A,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var Zg=new WeakMap,$g=new WeakMap,tf=new WeakMap,ef=new WeakMap,nf=new WeakMap,Af=new WeakMap,rf=new WeakMap,sf=new WeakMap,af=new WeakMap,of=new WeakMap,lf=new WeakMap,cf=new WeakMap,hf=new WeakMap,uf=new WeakMap,df=new WeakMap,pf=new WeakMap,gf=new WeakMap,ff=new WeakMap,mf=new WeakSet;class vf extends fs{static get _keyboardManager(){const t=vf.prototype;return Xe(this,"_keyboardManager",new kA([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super((0,Yt.A)((0,Yt.A)({},t),{},{name:"highlightEditor"})),(0,Jt.A)(this,mf),(0,Zt.A)(this,Zg,null),(0,Zt.A)(this,$g,0),(0,Zt.A)(this,tf,void 0),(0,Zt.A)(this,ef,null),(0,Zt.A)(this,nf,null),(0,Zt.A)(this,Af,null),(0,Zt.A)(this,rf,null),(0,Zt.A)(this,sf,0),(0,Zt.A)(this,af,null),(0,Zt.A)(this,of,null),(0,Zt.A)(this,lf,null),(0,Zt.A)(this,cf,!1),(0,Zt.A)(this,hf,null),(0,Zt.A)(this,uf,null),(0,Zt.A)(this,df,null),(0,Zt.A)(this,pf,""),(0,Zt.A)(this,gf,void 0),(0,Zt.A)(this,ff,""),this.color=t.color||vf._defaultColor,(0,ee.A)(gf,this,t.thickness||vf._defaultThickness),this.opacity=t.opacity||vf._defaultOpacity,(0,ee.A)(tf,this,t.boxes||null),(0,ee.A)(ff,this,t.methodOfCreation||""),(0,ee.A)(pf,this,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?((0,ee.A)(cf,this,!0),(0,Ae.A)(mf,this,Bf).call(this,t),(0,Ae.A)(mf,this,Ff).call(this)):(0,te.A)(tf,this)&&((0,ee.A)(Zg,this,t.anchorNode),(0,ee.A)($g,this,t.anchorOffset),(0,ee.A)(rf,this,t.focusNode),(0,ee.A)(sf,this,t.focusOffset),(0,Ae.A)(mf,this,wf).call(this),(0,Ae.A)(mf,this,Ff).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:(0,te.A)(cf,this)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:(0,te.A)(gf,this),methodOfCreation:(0,te.A)(ff,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var n;fs.initialize(t,e),vf._defaultColor||(vf._defaultColor=(null===(n=e.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case we.HIGHLIGHT_COLOR:vf._defaultColor=e;break;case we.HIGHLIGHT_THICKNESS:vf._defaultThickness=e}}translateInPage(t,e){}get toolbarPosition(){return(0,te.A)(uf,this)}get commentButtonPosition(){return(0,te.A)(hf,this)}updateParams(t,e){switch(t){case we.HIGHLIGHT_COLOR:(0,Ae.A)(mf,this,yf).call(this,e);break;case we.HIGHLIGHT_THICKNESS:(0,Ae.A)(mf,this,bf).call(this,e)}}static get defaultPropertiesToUpdate(){return[[we.HIGHLIGHT_COLOR,vf._defaultColor],[we.HIGHLIGHT_THICKNESS,vf._defaultThickness]]}get propertiesToUpdate(){return[[we.HIGHLIGHT_COLOR,this.color||vf._defaultColor],[we.HIGHLIGHT_THICKNESS,(0,te.A)(gf,this)||vf._defaultThickness],[we.HIGHLIGHT_FREE,(0,te.A)(cf,this)]]}onUpdatedColor(){var t,e;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties((0,te.A)(lf,this),{root:{fill:this.color,"fill-opacity":this.opacity}}),null===(e=(0,te.A)(nf,this))||void 0===e||e.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",(0,ee.A)(nf,this,new Eu({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition((0,Ae.A)(mf,this,kf).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,(0,Ae.A)(mf,this,kf).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){(0,Ae.A)(mf,this,_f).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&((0,Ae.A)(mf,this,Ff).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)(0,Ae.A)(mf,this,_f).call(this);else if(t){var n;(0,Ae.A)(mf,this,Ff).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),this.show(this._isVisible),e&&this.select()}rotate(t){const{drawLayer:e}=this.parent;let n;(0,te.A)(cf,this)?(t=(t-this.rotation+360)%360,n=Ef.call(vf,(0,te.A)(of,this).box,t)):n=Ef.call(vf,[this.x,this.y,this.width,this.height],t),e.updateProperties((0,te.A)(lf,this),{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties((0,te.A)(df,this),{bbox:Ef.call(vf,(0,te.A)(Af,this).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();(0,te.A)(pf,this)&&(t.setAttribute("aria-label",(0,te.A)(pf,this)),t.setAttribute("role","mark")),(0,te.A)(cf,this)?t.classList.add("free"):this.div.addEventListener("keydown",(0,Ae.A)(mf,this,xf).bind(this),{signal:this._uiManager._signal});const e=(0,ee.A)(af,this,document.createElement("div"));return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=(0,te.A)(ef,this),this.setDims(this.width,this.height),pA(this,(0,te.A)(af,this),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties((0,te.A)(df,this),{rootClass:{hovered:!0}}))}pointerleave(){var t;this.isSelected||(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties((0,te.A)(df,this),{rootClass:{hovered:!1}}))}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:(0,Ae.A)(mf,this,Sf).call(this,!0);break;case 1:case 3:(0,Ae.A)(mf,this,Sf).call(this,!1)}}select(){var t;super.select(),(0,te.A)(df,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties((0,te.A)(df,this),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),(0,te.A)(df,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties((0,te.A)(df,this),{rootClass:{selected:!1}}),(0,te.A)(cf,this)||(0,Ae.A)(mf,this,Sf).call(this,!1))}get _mustFixPosition(){return!(0,te.A)(cf,this)}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(t),this.parent&&(this.parent.drawLayer.updateProperties((0,te.A)(lf,this),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties((0,te.A)(df,this),{rootClass:{hidden:!t}}))}static startHighlighting(t,e,n){let{target:A,x:i,y:r}=n;const{x:s,y:a,width:o,height:l}=A.getBoundingClientRect(),c=new AbortController,h=t.combinedSignal(c),u=e=>{c.abort(),(0,Ae.A)(vf,this,Mf).call(this,t,e)};window.addEventListener("blur",u,{signal:h}),window.addEventListener("pointerup",u,{signal:h}),window.addEventListener("pointerdown",Sn,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",xn,{signal:h}),A.addEventListener("pointermove",(0,Ae.A)(vf,this,Pf).bind(this,t),{signal:h}),this._freeHighlight=new Yg({x:i,y:r},[s,a,o,l],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(t,e,n){let A=null;if(t instanceof wp){const{data:{quadPoints:e,rect:n,rotation:i,id:r,color:s,opacity:a,popupRef:o,richText:l,contentsObj:c,creationDate:h,modificationDate:u},parent:{page:{pageNumber:d}}}=t;A=t={annotationType:ve.HIGHLIGHT,color:Array.from(s),opacity:a,quadPoints:e,boxes:null,pageIndex:d-1,rect:n.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:o,richText:l,comment:(null===c||void 0===c?void 0:c.str)||null,creationDate:h,modificationDate:u}}else if(t instanceof mp){const{data:{inkLists:e,rect:n,rotation:i,id:r,color:s,borderStyle:{rawWidth:a},popupRef:o,richText:l,contentsObj:c,creationDate:h,modificationDate:u},parent:{page:{pageNumber:d}}}=t;A=t={annotationType:ve.HIGHLIGHT,color:Array.from(s),thickness:a,inkLists:e,boxes:null,pageIndex:d-1,rect:n.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:o,richText:l,comment:(null===c||void 0===c?void 0:c.str)||null,creationDate:h,modificationDate:u}}const{color:i,quadPoints:r,inkLists:s,opacity:a}=t,o=await super.deserialize(t,e,n);o.color=an.makeHexColor(...i),o.opacity=a||1,s&&(0,ee.A)(gf,o,t.thickness),o._initialData=A,t.comment&&o.setCommentData(t);const[l,c]=o.pageDimensions,[h,u]=o.pageTranslation;if(r){const t=(0,ee.A)(tf,o,[]);for(let e=0;e<r.length;e+=8)t.push({x:(r[e]-h)/l,y:1-(r[e+1]-u)/c,width:(r[e+2]-r[e])/l,height:(r[e+1]-r[e+5])/c});(0,Ae.A)(mf,o,wf).call(o),(0,Ae.A)(mf,o,Ff).call(o),o.rotate(o.rotation)}else if(s){(0,ee.A)(cf,o,!0);const t=s[0],n={x:t[0]-h,y:c-(t[1]-u)},A=new Yg(n,[0,0,l,c],1,(0,te.A)(gf,o)/2,!0,.001);for(let e=0,s=t.length;e<s;e+=2)n.x=t[e]-h,n.y=c-(t[e+1]-u),A.add(n);const{id:i,clipPathId:r}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:o.color,"fill-opacity":o._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);(0,Ae.A)(mf,o,Bf).call(o,{highlightOutlines:A.getOutlines(),highlightId:i,clipPathId:r}),(0,Ae.A)(mf,o,Ff).call(o),o.rotate(o.parentRotation)}return o}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=fs._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:(0,te.A)(gf,this),quadPoints:(0,Ae.A)(mf,this,Uf).call(this),outlines:(0,Ae.A)(mf,this,Qf).call(this,n.rect)}),this.addComment(n),this.annotationElementId&&!(0,Ae.A)(mf,this,If).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}function wf(){const t=new Ng((0,te.A)(tf,this),.001);(0,ee.A)(of,this,t.getOutlines()),[this.x,this.y,this.width,this.height]=(0,te.A)(of,this).box;const e=new Ng((0,te.A)(tf,this),.0025,.001,"ltr"===this._uiManager.direction);(0,ee.A)(Af,this,e.getOutlines());const{firstPoint:n}=(0,te.A)(of,this);(0,ee.A)(hf,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]);const{lastPoint:A}=(0,te.A)(Af,this);(0,ee.A)(uf,this,[(A[0]-this.x)/this.width,(A[1]-this.y)/this.height])}function Bf(t){let{highlightOutlines:e,highlightId:n,clipPathId:A}=t;(0,ee.A)(of,this,e);if((0,ee.A)(Af,this,e.getNewOutline((0,te.A)(gf,this)/2+1.5,.0025)),n>=0)(0,ee.A)(lf,this,n),(0,ee.A)(ef,this,A),this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),(0,ee.A)(df,this,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:(0,te.A)(Af,this).box,path:{d:(0,te.A)(Af,this).toSVGPath()}},!0));else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties((0,te.A)(lf,this),{bbox:Ef.call(jt,(0,te.A)(of,this).box,(t-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties((0,te.A)(df,this),{bbox:Ef.call(jt,(0,te.A)(Af,this).box,t),path:{d:(0,te.A)(Af,this).toSVGPath()}})}const[i,r,s,a]=e.box;switch(this.rotation){case 0:this.x=i,this.y=r,this.width=s,this.height=a;break;case 90:{const[t,e]=this.parentDimensions;this.x=r,this.y=1-i,this.width=s*e/t,this.height=a*t/e;break}case 180:this.x=1-i,this.y=1-r,this.width=s,this.height=a;break;case 270:{const[t,e]=this.parentDimensions;this.x=1-r,this.y=i,this.width=s*e/t,this.height=a*t/e;break}}const{firstPoint:o}=e;(0,ee.A)(hf,this,[(o[0]-i)/s,(o[1]-r)/a]);const{lastPoint:l}=(0,te.A)(Af,this);(0,ee.A)(uf,this,[(l[0]-i)/s,(l[1]-r)/a])}function yf(t){const e=(t,e)=>{this.color=t,this.opacity=e,this.onUpdatedColor()},n=this.color,A=this.opacity;this.addCommands({cmd:e.bind(this,t,jt._defaultOpacity),undo:e.bind(this,n,A),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:we.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}function bf(t){const e=(0,te.A)(gf,this),n=t=>{(0,ee.A)(gf,this,t),(0,Ae.A)(mf,this,Cf).call(this,t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:we.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}function Cf(t){(0,te.A)(cf,this)&&((0,Ae.A)(mf,this,Bf).call(this,{highlightOutlines:(0,te.A)(of,this).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}function _f(){null!==(0,te.A)(lf,this)&&this.parent&&(this.parent.drawLayer.remove((0,te.A)(lf,this)),(0,ee.A)(lf,this,null),this.parent.drawLayer.remove((0,te.A)(df,this)),(0,ee.A)(df,this,null))}function Ff(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===(0,te.A)(lf,this)&&(({id:(0,qt.A)(ee.A,[lf,this])._,clipPathId:(0,qt.A)(ee.A,[ef,this])._}=t.drawLayer.draw({bbox:(0,te.A)(of,this).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:(0,te.A)(cf,this)},path:{d:(0,te.A)(of,this).toSVGPath()}},!1,!0)),(0,ee.A)(df,this,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:(0,te.A)(cf,this)},bbox:(0,te.A)(Af,this).box,path:{d:(0,te.A)(Af,this).toSVGPath()}},(0,te.A)(cf,this))),(0,te.A)(af,this)&&((0,te.A)(af,this).style.clipPath=(0,te.A)(ef,this)))}function Ef(t,e){let[n,A,i,r]=t;switch(e){case 90:return[1-A-r,n,r,i];case 180:return[1-n-i,1-A-r,i,r];case 270:return[A,1-n-i,r,i]}return[n,A,i,r]}function xf(t){jt._keyboardManager.exec(this,t)}function Sf(t){if(!(0,te.A)(Zg,this))return;const e=window.getSelection();t?e.setPosition((0,te.A)(Zg,this),(0,te.A)($g,this)):e.setPosition((0,te.A)(rf,this),(0,te.A)(sf,this))}function kf(){return(0,te.A)(cf,this)?this.rotation:0}function Uf(){if((0,te.A)(cf,this))return null;const[t,e]=this.pageDimensions,[n,A]=this.pageTranslation,i=(0,te.A)(tf,this),r=new Float32Array(8*i.length);let s=0;for(const{x:a,y:o,width:l,height:c}of i){const i=a*t+n,h=(1-o)*e+A;r[s]=r[s+4]=i,r[s+1]=r[s+3]=h,r[s+2]=r[s+6]=i+l*t,r[s+5]=r[s+7]=h-c*e,s+=8}return r}function Qf(t){return(0,te.A)(of,this).serialize(t,(0,Ae.A)(mf,this,kf).call(this))}function Pf(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function Mf(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function If(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((t,n)=>t!==e[n])}jt=vf,(0,ne.A)(vf,"_defaultColor",null),(0,ne.A)(vf,"_defaultOpacity",1),(0,ne.A)(vf,"_defaultThickness",12),(0,ne.A)(vf,"_type","highlight"),(0,ne.A)(vf,"_editorType",ve.HIGHLIGHT),(0,ne.A)(vf,"_freeHighlightId",-1),(0,ne.A)(vf,"_freeHighlight",null),(0,ne.A)(vf,"_freeHighlightClipId","");var Tf=new WeakMap;class Df{constructor(){(0,Zt.A)(this,Tf,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){(0,te.A)(Tf,this)[t]=e}toSVGProperties(){const t=(0,te.A)(Tf,this);return(0,ee.A)(Tf,this,Object.create(null)),{root:t}}reset(){(0,ee.A)(Tf,this,Object.create(null))}updateAll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(t)}clone(){We("Not implemented")}}var Lf=new WeakMap,Rf=new WeakMap,Of=new WeakSet;class Hf extends fs{constructor(t){super(t),(0,Jt.A)(this,Of),(0,Zt.A)(this,Lf,null),(0,Zt.A)(this,Rf,void 0),(0,ne.A)(this,"_colorPicker",null),(0,ne.A)(this,"_drawId",null),(0,ee.A)(Rf,this,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;null===(t=this._colorPicker)||void 0===t||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&((0,Ae.A)(Of,this,Nf).call(this,t),(0,Ae.A)(Of,this,Wf).call(this))}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[A,i]of Object.entries(e))n.has(A)?Object.assign(t[A],i):t[A]=i;return t}static getDefaultDrawingOptions(t){We("Not implemented")}static get typesMap(){We("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(qf._.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,A]of this.typesMap)t.push([n,e[A]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,A]of this.constructor.typesMap)t.push([n,e[A]]);return t}_updateProperty(t,e,n){const A=this._drawingOptions,i=A[e],r=n=>{var i;A.updateProperty(e,n);const r=(0,te.A)(Lf,this).updateProperty(e,n);r&&(0,Ae.A)(Of,this,zf).call(this,r),null===(i=this.parent)||void 0===i||i.drawLayer.updateProperties(this._drawId,A.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,Hf._mergeSVGProperties((0,te.A)(Lf,this).getPathResizingSVGProperties((0,Ae.A)(Of,this,Vf).call(this)),{bbox:(0,Ae.A)(Of,this,Xf).call(this)}))}_onResized(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,Hf._mergeSVGProperties((0,te.A)(Lf,this).getPathResizedSVGProperties((0,Ae.A)(Of,this,Vf).call(this)),{bbox:(0,Ae.A)(Of,this,Xf).call(this)}))}_onTranslating(t,e){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:(0,Ae.A)(Of,this,Xf).call(this)})}_onTranslated(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,Hf._mergeSVGProperties((0,te.A)(Lf,this).getPathTranslatedSVGProperties((0,Ae.A)(Of,this,Vf).call(this),this.parentDimensions),{bbox:(0,Ae.A)(Of,this,Xf).call(this)}))}_onStartDragging(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,(0,te.A)(Rf,this)&&((0,ee.A)(Rf,this,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){(0,Ae.A)(Of,this,Kf).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&((0,Ae.A)(Of,this,Wf).call(this),(0,Ae.A)(Of,this,zf).call(this,(0,te.A)(Lf,this).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)this._uiManager.removeShouldRescale(this),(0,Ae.A)(Of,this,Kf).call(this);else if(t){var n;this._uiManager.addShouldRescale(this),(0,Ae.A)(Of,this,Wf).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),e&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Hf._mergeSVGProperties({bbox:(0,Ae.A)(Of,this,Xf).call(this)},(0,te.A)(Lf,this).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&(0,Ae.A)(Of,this,zf).call(this,(0,te.A)(Lf,this).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const A=document.createElement("div");return n.append(A),A.setAttribute("aria-hidden","true"),A.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,A,i){We("Not implemented")}static startDrawing(t,e,n,A){var i,r;const{target:s,offsetX:a,offsetY:o,pointerId:l,pointerType:c}=A;if($f._&&$f._!==c)return;const{viewport:{rotation:h}}=t,{width:u,height:d}=s.getBoundingClientRect(),p=Yf._=new AbortController,g=t.combinedSignal(p);Zf._||(Zf._=l),null!==(i=$f._)&&void 0!==i||($f._=c),window.addEventListener("pointerup",t=>{var e;Zf._===t.pointerId?this._endDraw(t):null===(e=tm._)||void 0===e||e.delete(t.pointerId)},{signal:g}),window.addEventListener("pointercancel",t=>{var e;Zf._===t.pointerId?this._currentParent.endDrawingSession():null===(e=tm._)||void 0===e||e.delete(t.pointerId)},{signal:g}),window.addEventListener("pointerdown",t=>{$f._===t.pointerType&&((tm._||(tm._=new Set)).add(t.pointerId),qf._.isCancellable()&&(qf._.removeLastElement(),qf._.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",xn,{signal:g}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),s.addEventListener("touchmove",t=>{t.timeStamp===em._&&Sn(t)},{signal:g}),t.toggleDrawing(),null===(r=e._editorUndoBar)||void 0===r||r.hide(),qf._?t.drawLayer.updateProperties(this._currentDrawId,qf._.startNew(a,o,u,d,h)):(e.updateUIForDefaultProperties(this),qf._=this.createDrawerInstance(a,o,u,d,h),Jf._=this.getDefaultDrawingOptions(),this._currentParent=t,({id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(Jf._.toSVGProperties(),qf._.defaultSVGProperties),!0,!1)))}static _drawMove(t){var e;if(em._=-1,!qf._)return;const{offsetX:n,offsetY:A,pointerId:i}=t;Zf._===i&&((null===(e=tm._)||void 0===e?void 0:e.size)>=1?this._endDraw(t):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,qf._.add(n,A)),em._=t.timeStamp,Sn(t)))}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,qf._=null,Jf._=null,$f._=null,em._=NaN),Yf._&&(Yf._.abort(),Yf._=null,Zf._=NaN,tm._=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),(null===t||void 0===t?void 0:t.target)===e.div&&e.drawLayer.updateProperties(this._currentDrawId,qf._.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const t=qf._,n=this._currentDrawId,A=t.getLastElement();return void e.addCommands({cmd:()=>{e.drawLayer.updateProperties(n,t.setLastElement(A))},undo:()=>{e.drawLayer.updateProperties(n,t.removeLastElement())},mustExec:!1,type:we.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(we.DRAW_STEP),!qf._.isEmpty()){const{pageDimensions:[n,A],scale:i}=e,r=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:qf._.getOutlines(n*i,A*i,i,this._INNER_MARGIN),drawingOptions:Jf._,mustBeCommitted:!t});return this._cleanup(!0),r}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,A,i,r){We("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:A,pageHeight:i,pageX:r,pageY:s}}=e.viewport,a=this.deserializeDraw(r,s,A,i,this._INNER_MARGIN,t),o=await super.deserialize(t,e,n);return o.createDrawingOptions(t),(0,Ae.A)(Of,o,Nf).call(o,{drawOutlines:a}),(0,Ae.A)(Of,o,Wf).call(o),o.onScaleChanging(),o.rotate(),o}serializeDraw(t){const[e,n]=this.pageTranslation,[A,i]=this.pageDimensions;return(0,te.A)(Lf,this).serialize([e,n,A,i],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}function Nf(t){let{drawOutlines:e,drawId:n,drawingOptions:A}=t;(0,ee.A)(Lf,this,e),this._drawingOptions||(this._drawingOptions=A),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-".concat(this.editorType,"-added-alert")),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=(0,Ae.A)(Of,this,Gf).call(this,e,this.parent),(0,Ae.A)(Of,this,zf).call(this,e.box)}function Gf(t,e){const{id:n}=e.drawLayer.draw(Vt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}function Kf(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function Wf(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===t||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=(0,Ae.A)(Of,this,Gf).call(this,(0,te.A)(Lf,this),t)):this.parent.drawLayer.updateParent(this._drawId,t.drawLayer))}function jf(t){let[e,n,A,i]=t;const{parentDimensions:[r,s],rotation:a}=this;switch(a){case 90:return[n,1-e,A*(s/r),i*(r/s)];case 180:return[1-e,1-n,A,i];case 270:return[1-n,e,A*(s/r),i*(r/s)];default:return[e,n,A,i]}}function Vf(){const{x:t,y:e,width:n,height:A,parentDimensions:[i,r],rotation:s}=this;switch(s){case 90:return[1-e,t,n*(i/r),A*(r/i)];case 180:return[1-t,1-e,n,A];case 270:return[e,1-t,n*(i/r),A*(r/i)];default:return[t,e,n,A]}}function zf(t){[this.x,this.y,this.width,this.height]=(0,Ae.A)(Of,this,jf).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}function Xf(){const{x:t,y:e,width:n,height:A,rotation:i,parentRotation:r,parentDimensions:[s,a]}=this;switch((4*i+r)/90){case 1:return[1-e-A,t,A,n];case 2:return[1-t-n,1-e-A,n,A];case 3:return[e,1-t-n,A,n];case 4:return[t,e-n*(s/a),A*(a/s),n*(s/a)];case 5:return[1-e,t,n*(s/a),A*(a/s)];case 6:return[1-t-A*(a/s),1-e,A*(a/s),n*(s/a)];case 7:return[e-n*(s/a),1-t-A*(a/s),n*(s/a),A*(a/s)];case 8:return[t-n,e-A,n,A];case 9:return[1-e,t-n,A,n];case 10:return[1-t,1-e,n,A];case 11:return[e-A,1-t,A,n];case 12:return[t-A*(a/s),e,A*(a/s),n*(s/a)];case 13:return[1-e-n*(s/a),t-A*(a/s),n*(s/a),A*(a/s)];case 14:return[1-t,1-e-n*(s/a),A*(a/s),n*(s/a)];case 15:return[e,1-t,n*(s/a),A*(a/s)];default:return[t,e,n,A]}}Vt=Hf,(0,ne.A)(Hf,"_currentDrawId",-1),(0,ne.A)(Hf,"_currentParent",null);var qf={_:null},Yf={_:null},Jf={_:null},Zf={_:NaN},$f={_:null},tm={_:null},em={_:NaN};(0,ne.A)(Hf,"_INNER_MARGIN",3);var nm=new WeakMap,Am=new WeakMap,im=new WeakMap,rm=new WeakMap,sm=new WeakMap,am=new WeakMap,om=new WeakMap,lm=new WeakMap,cm=new WeakMap,hm=new WeakMap,um=new WeakMap,dm=new WeakSet;class pm{constructor(t,e,n,A,i,r){(0,Jt.A)(this,dm),(0,Zt.A)(this,nm,new Float64Array(6)),(0,Zt.A)(this,Am,void 0),(0,Zt.A)(this,im,void 0),(0,Zt.A)(this,rm,void 0),(0,Zt.A)(this,sm,void 0),(0,Zt.A)(this,am,void 0),(0,Zt.A)(this,om,""),(0,Zt.A)(this,lm,0),(0,Zt.A)(this,cm,new Em),(0,Zt.A)(this,hm,void 0),(0,Zt.A)(this,um,void 0),(0,ee.A)(hm,this,n),(0,ee.A)(um,this,A),(0,ee.A)(rm,this,i),(0,ee.A)(sm,this,r),[t,e]=(0,Ae.A)(dm,this,gm).call(this,t,e);const s=(0,ee.A)(Am,this,[NaN,NaN,NaN,NaN,t,e]);(0,ee.A)(am,this,[t,e]),(0,ee.A)(im,this,[{line:s,points:(0,te.A)(am,this)}]),(0,te.A)(nm,this).set(s,0)}updateProperty(t,e){"stroke-width"===t&&(0,ee.A)(sm,this,e)}isEmpty(){return!(0,te.A)(im,this)||0===(0,te.A)(im,this).length}isCancellable(){return(0,te.A)(am,this).length<=10}add(t,e){[t,e]=(0,Ae.A)(dm,this,gm).call(this,t,e);const[n,A,i,r]=(0,te.A)(nm,this).subarray(2,6),s=t-i,a=e-r;return Math.hypot((0,te.A)(hm,this)*s,(0,te.A)(um,this)*a)<=2?null:((0,te.A)(am,this).push(t,e),isNaN(n)?((0,te.A)(nm,this).set([i,r,t,e],2),(0,te.A)(Am,this).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN((0,te.A)(nm,this)[0])&&(0,te.A)(Am,this).splice(6,6),(0,te.A)(nm,this).set([n,A,i,r,t,e],0),(0,te.A)(Am,this).push(...tg.createBezierPoints(n,A,i,r,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(2===(0,te.A)(am,this).length?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,A,i){(0,ee.A)(hm,this,n),(0,ee.A)(um,this,A),(0,ee.A)(rm,this,i),[t,e]=(0,Ae.A)(dm,this,gm).call(this,t,e);const r=(0,ee.A)(Am,this,[NaN,NaN,NaN,NaN,t,e]);(0,ee.A)(am,this,[t,e]);const s=(0,te.A)(im,this).at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),(0,te.A)(im,this).push({line:r,points:(0,te.A)(am,this)}),(0,te.A)(nm,this).set(r,0),(0,ee.A)(lm,this,0),this.toSVGPath(),null}getLastElement(){return(0,te.A)(im,this).at(-1)}setLastElement(t){return(0,te.A)(im,this)?((0,te.A)(im,this).push(t),(0,ee.A)(Am,this,t.line),(0,ee.A)(am,this,t.points),(0,ee.A)(lm,this,0),{path:{d:this.toSVGPath()}}):(0,te.A)(cm,this).setLastElement(t)}removeLastElement(){if(!(0,te.A)(im,this))return(0,te.A)(cm,this).removeLastElement();(0,te.A)(im,this).pop(),(0,ee.A)(om,this,"");for(let t=0,e=(0,te.A)(im,this).length;t<e;t++){const{line:e,points:n}=(0,te.A)(im,this)[t];(0,ee.A)(Am,this,e),(0,ee.A)(am,this,n),(0,ee.A)(lm,this,0),this.toSVGPath()}return{path:{d:(0,te.A)(om,this)}}}toSVGPath(){const t=tg.svgRound((0,te.A)(Am,this)[4]),e=tg.svgRound((0,te.A)(Am,this)[5]);if(2===(0,te.A)(am,this).length)return(0,ee.A)(om,this,"".concat((0,te.A)(om,this)," M ").concat(t," ").concat(e," Z")),(0,te.A)(om,this);if((0,te.A)(am,this).length<=6){const n=(0,te.A)(om,this).lastIndexOf("M");(0,ee.A)(om,this,"".concat((0,te.A)(om,this).slice(0,n)," M ").concat(t," ").concat(e)),(0,ee.A)(lm,this,6)}if(4===(0,te.A)(am,this).length){const t=tg.svgRound((0,te.A)(Am,this)[10]),e=tg.svgRound((0,te.A)(Am,this)[11]);return(0,ee.A)(om,this,"".concat((0,te.A)(om,this)," L ").concat(t," ").concat(e)),(0,ee.A)(lm,this,12),(0,te.A)(om,this)}const n=[];0===(0,te.A)(lm,this)&&(n.push("M ".concat(t," ").concat(e)),(0,ee.A)(lm,this,6));for(let A=(0,te.A)(lm,this),i=(0,te.A)(Am,this).length;A<i;A+=6){const[t,e,i,r,s,a]=(0,te.A)(Am,this).slice(A,A+6).map(tg.svgRound);n.push("C".concat(t," ").concat(e," ").concat(i," ").concat(r," ").concat(s," ").concat(a))}return(0,ee.A)(om,this,(0,te.A)(om,this)+n.join(" ")),(0,ee.A)(lm,this,(0,te.A)(Am,this).length),(0,te.A)(om,this)}getOutlines(t,e,n,A){const i=(0,te.A)(im,this).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),(0,te.A)(cm,this).build((0,te.A)(im,this),t,e,n,(0,te.A)(rm,this),(0,te.A)(sm,this),A),(0,ee.A)(nm,this,null),(0,ee.A)(Am,this,null),(0,ee.A)(im,this,null),(0,ee.A)(om,this,null),(0,te.A)(cm,this)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function gm(t,e){return tg._normalizePoint(t,e,(0,te.A)(hm,this),(0,te.A)(um,this),(0,te.A)(rm,this))}var fm=new WeakMap,mm=new WeakMap,vm=new WeakMap,wm=new WeakMap,Bm=new WeakMap,ym=new WeakMap,bm=new WeakMap,Cm=new WeakMap,_m=new WeakMap,Fm=new WeakSet;class Em extends tg{constructor(){super(...arguments),(0,Jt.A)(this,Fm),(0,Zt.A)(this,fm,void 0),(0,Zt.A)(this,mm,0),(0,Zt.A)(this,vm,void 0),(0,Zt.A)(this,wm,void 0),(0,Zt.A)(this,Bm,void 0),(0,Zt.A)(this,ym,void 0),(0,Zt.A)(this,bm,void 0),(0,Zt.A)(this,Cm,void 0),(0,Zt.A)(this,_m,void 0)}build(t,e,n,A,i,r,s){(0,ee.A)(Bm,this,e),(0,ee.A)(ym,this,n),(0,ee.A)(bm,this,A),(0,ee.A)(Cm,this,i),(0,ee.A)(_m,this,r),(0,ee.A)(vm,this,null!==s&&void 0!==s?s:0),(0,ee.A)(wm,this,t),(0,Ae.A)(Fm,this,km).call(this)}get thickness(){return(0,te.A)(_m,this)}setLastElement(t){return(0,te.A)(wm,this).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return(0,te.A)(wm,this).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of(0,te.A)(wm,this))if(t.push("M".concat(tg.svgRound(e[4])," ").concat(tg.svgRound(e[5]))),6!==e.length)if(12===e.length&&isNaN(e[6]))t.push("L".concat(tg.svgRound(e[10])," ").concat(tg.svgRound(e[11])));else for(let n=6,A=e.length;n<A;n+=6){const[A,i,r,s,a,o]=e.subarray(n,n+6).map(tg.svgRound);t.push("C".concat(A," ").concat(i," ").concat(r," ").concat(s," ").concat(a," ").concat(o))}else t.push("Z");return t.join("")}serialize(t,e){let[n,A,i,r]=t;const s=[],a=[],[o,l,c,h]=(0,Ae.A)(Fm,this,Sm).call(this);let u,d,p,g,f,m,v,w,B;switch((0,te.A)(Cm,this)){case 0:B=tg._rescale,u=n,d=A+r,p=i,g=-r,f=n+o*i,m=A+(1-l-h)*r,v=n+(o+c)*i,w=A+(1-l)*r;break;case 90:B=tg._rescaleAndSwap,u=n,d=A,p=i,g=r,f=n+l*i,m=A+o*r,v=n+(l+h)*i,w=A+(o+c)*r;break;case 180:B=tg._rescale,u=n+i,d=A,p=-i,g=r,f=n+(1-o-c)*i,m=A+l*r,v=n+(1-o)*i,w=A+(l+h)*r;break;case 270:B=tg._rescaleAndSwap,u=n+i,d=A+r,p=-i,g=-r,f=n+(1-l-h)*i,m=A+(1-o-c)*r,v=n+(1-l)*i,w=A+(1-o)*r}for(const{line:y,points:b}of(0,te.A)(wm,this))s.push(B(y,u,d,p,g,e?new Array(y.length):null)),a.push(B(b,u,d,p,g,e?new Array(b.length):null));return{lines:s,points:a,rect:[f,m,v,w]}}static deserialize(t,e,n,A,i,r){let{paths:{lines:s,points:a},rotation:o,thickness:l}=r;const c=[];let h,u,d,p,g;switch(o){case 0:g=tg._rescale,h=-t/n,u=e/A+1,d=1/n,p=-1/A;break;case 90:g=tg._rescaleAndSwap,h=-e/A,u=-t/n,d=1/A,p=1/n;break;case 180:g=tg._rescale,h=t/n+1,u=-e/A,d=-1/n,p=1/A;break;case 270:g=tg._rescaleAndSwap,h=e/A+1,u=t/n+1,d=-1/A,p=-1/n}if(!s){s=[];for(const t of a){const e=t.length;if(2===e){s.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1]]));continue}if(4===e){s.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1],NaN,NaN,NaN,NaN,t[2],t[3]]));continue}const n=new Float32Array(3*(e-2));s.push(n);let[A,i,r,a]=t.subarray(0,4);n.set([NaN,NaN,NaN,NaN,A,i],0);for(let s=4;s<e;s+=2){const e=t[s],o=t[s+1];n.set(tg.createBezierPoints(A,i,r,a,e,o),3*(s-2)),[A,i,r,a]=[r,a,e,o]}}}for(let m=0,v=s.length;m<v;m++)c.push({line:g(s[m].map(t=>null!==t&&void 0!==t?t:NaN),h,u,d,p),points:g(a[m].map(t=>null!==t&&void 0!==t?t:NaN),h,u,d,p)});const f=new this.prototype.constructor;return f.build(c,n,A,1,o,l,i),f}get box(){return(0,te.A)(fm,this)}updateProperty(t,e){return"stroke-width"===t?(0,Ae.A)(Fm,this,Um).call(this,e):null}updateParentDimensions(t,e){let[n,A]=t;const[i,r]=(0,Ae.A)(Fm,this,xm).call(this);(0,ee.A)(Bm,this,n),(0,ee.A)(ym,this,A),(0,ee.A)(bm,this,e);const[s,a]=(0,Ae.A)(Fm,this,xm).call(this),o=s-i,l=a-r,c=(0,te.A)(fm,this);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c}updateRotation(t){return(0,ee.A)(mm,this,t),{path:{transform:this.rotationTransform}}}get viewBox(){return(0,te.A)(fm,this).map(tg.svgRound).join(" ")}get defaultProperties(){const[t,e]=(0,te.A)(fm,this);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(tg.svgRound(t)," ").concat(tg.svgRound(e))}}}get rotationTransform(){const[,,t,e]=(0,te.A)(fm,this);let n=0,A=0,i=0,r=0,s=0,a=0;switch((0,te.A)(mm,this)){case 90:A=e/t,i=-t/e,s=t;break;case 180:n=-1,r=-1,s=t,a=e;break;case 270:A=-e/t,i=t/e,a=e;break;default:return""}return"matrix(".concat(n," ").concat(A," ").concat(i," ").concat(r," ").concat(tg.svgRound(s)," ").concat(tg.svgRound(a),")")}getPathResizingSVGProperties(t){let[e,n,A,i]=t;const[r,s]=(0,Ae.A)(Fm,this,xm).call(this),[a,o,l,c]=(0,te.A)(fm,this);if(Math.abs(l-r)<=tg.PRECISION||Math.abs(c-s)<=tg.PRECISION){const t=e+A/2-(a+l/2),r=n+i/2-(o+c/2);return{path:{"transform-origin":"".concat(tg.svgRound(e)," ").concat(tg.svgRound(n)),transform:"".concat(this.rotationTransform," translate(").concat(t," ").concat(r,")")}}}const h=(A-2*r)/(l-2*r),u=(i-2*s)/(c-2*s),d=l/A,p=c/i;return{path:{"transform-origin":"".concat(tg.svgRound(a)," ").concat(tg.svgRound(o)),transform:"".concat(this.rotationTransform," scale(").concat(d," ").concat(p,") ")+"translate(".concat(tg.svgRound(r)," ").concat(tg.svgRound(s),") scale(").concat(h," ").concat(u,") ")+"translate(".concat(tg.svgRound(-r)," ").concat(tg.svgRound(-s),")")}}}getPathResizedSVGProperties(t){let[e,n,A,i]=t;const[r,s]=(0,Ae.A)(Fm,this,xm).call(this),a=(0,te.A)(fm,this),[o,l,c,h]=a;if(a[0]=e,a[1]=n,a[2]=A,a[3]=i,Math.abs(c-r)<=tg.PRECISION||Math.abs(h-s)<=tg.PRECISION){const t=e+A/2-(o+c/2),r=n+i/2-(l+h/2);for(const{line:e,points:n}of(0,te.A)(wm,this))tg._translate(e,t,r,e),tg._translate(n,t,r,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(tg.svgRound(e)," ").concat(tg.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const u=(A-2*r)/(c-2*r),d=(i-2*s)/(h-2*s),p=-u*(o+r)+e+r,g=-d*(l+s)+n+s;if(1!==u||1!==d||0!==p||0!==g)for(const{line:f,points:m}of(0,te.A)(wm,this))tg._rescale(f,p,g,u,d,f),tg._rescale(m,p,g,u,d,m);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(tg.svgRound(e)," ").concat(tg.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(t,e){let[n,A]=t;const[i,r]=e,s=(0,te.A)(fm,this),a=n-s[0],o=A-s[1];if((0,te.A)(Bm,this)===i&&(0,te.A)(ym,this)===r)for(const{line:l,points:c}of(0,te.A)(wm,this))tg._translate(l,a,o,l),tg._translate(c,a,o,c);else{const t=(0,te.A)(Bm,this)/i,e=(0,te.A)(ym,this)/r;(0,ee.A)(Bm,this,i),(0,ee.A)(ym,this,r);for(const{line:n,points:A}of(0,te.A)(wm,this))tg._rescale(n,a,o,t,e,n),tg._rescale(A,a,o,t,e,A);s[2]*=t,s[3]*=e}return s[0]=n,s[1]=A,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(tg.svgRound(n)," ").concat(tg.svgRound(A))}}}get defaultSVGProperties(){const t=(0,te.A)(fm,this);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(tg.svgRound(t[0])," ").concat(tg.svgRound(t[1])),transform:this.rotationTransform||null},bbox:t}}}function xm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,te.A)(_m,this);const e=(0,te.A)(vm,this)+t/2*(0,te.A)(bm,this);return(0,te.A)(Cm,this)%180===0?[e/(0,te.A)(Bm,this),e/(0,te.A)(ym,this)]:[e/(0,te.A)(ym,this),e/(0,te.A)(Bm,this)]}function Sm(){const[t,e,n,A]=(0,te.A)(fm,this),[i,r]=(0,Ae.A)(Fm,this,xm).call(this,0);return[t+i,e+r,n-2*i,A-2*r]}function km(){const t=(0,ee.A)(fm,this,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:A}of(0,te.A)(wm,this)){if(A.length<=12){for(let e=4,n=A.length;e<n;e+=6)an.pointBoundingBox(A[e],A[e+1],t);continue}let e=A[4],n=A[5];for(let i=6,r=A.length;i<r;i+=6){const[r,s,a,o,l,c]=A.subarray(i,i+6);an.bezierBoundingBox(e,n,r,s,a,o,l,c,t),e=l,n=c}}const[e,n]=(0,Ae.A)(Fm,this,xm).call(this);t[0]=pn(t[0]-e,0,1),t[1]=pn(t[1]-n,0,1),t[2]=pn(t[2]+e,0,1),t[3]=pn(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}function Um(t){const[e,n]=(0,Ae.A)(Fm,this,xm).call(this);(0,ee.A)(_m,this,t);const[A,i]=(0,Ae.A)(Fm,this,xm).call(this),[r,s]=[A-e,i-n],a=(0,te.A)(fm,this);return a[0]-=r,a[1]-=s,a[2]+=2*r,a[3]+=2*s,a}class Qm extends Df{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:fs._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){"stroke-width"===t&&(null!==e&&void 0!==e||(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Qm(this._viewParameters);return t.updateAll(this),t}}var Pm=new WeakSet;class Mm extends Hf{constructor(t){super((0,Yt.A)((0,Yt.A)({},t),{},{name:"inkEditor"})),(0,Jt.A)(this,Pm),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){fs.initialize(t,e),this._defaultDrawingOptions=new Qm(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Xe(this,"typesMap",new Map([[we.INK_THICKNESS,"stroke-width"],[we.INK_COLOR,"stroke"],[we.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,A,i){return new pm(t,e,n,A,i,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,A,i,r){return Em.deserialize(t,e,n,A,i,r)}static async deserialize(t,e,n){let A=null;if(t instanceof mp){const{data:{inkLists:e,rect:n,rotation:i,id:r,color:s,opacity:a,borderStyle:{rawWidth:o},popupRef:l,richText:c,contentsObj:h,creationDate:u,modificationDate:d},parent:{page:{pageNumber:p}}}=t;A=t={annotationType:ve.INK,color:Array.from(s),thickness:o,opacity:a,paths:{points:e},boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:l,richText:c,comment:(null===h||void 0===h?void 0:h.str)||null,creationDate:u,modificationDate:d}}const i=await super.deserialize(t,e,n);return i._initialData=A,t.comment&&i.setCommentData(t),i}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Lu(this)),[["colorPicker",this._colorPicker]]}get colorType(){return we.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(t){let{color:e,thickness:n,opacity:A}=t;this._drawingOptions=Mm.getDefaultDrawingOptions({stroke:an.makeHexColor(...e),"stroke-width":n,"stroke-opacity":A})}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:A,"stroke-opacity":i,"stroke-width":r}}=this,s=Object.assign(super.serialize(t),{color:fs._colorManager.convert(A),opacity:i,thickness:r,paths:{lines:e,points:n}});return this.addComment(s),t?(s.isCopy=!0,s):this.annotationElementId&&!(0,Ae.A)(Pm,this,Im).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}function Im(t){const{color:e,thickness:n,opacity:A,pageIndex:i}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((t,n)=>t!==e[n])||t.thickness!==n||t.opacity!==A||t.pageIndex!==i}(0,ne.A)(Mm,"_type","ink"),(0,ne.A)(Mm,"_editorType",ve.INK),(0,ne.A)(Mm,"_defaultDrawingOptions",null);class Tm extends Em{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}class Dm{static extractContoursFromText(t,e,n,A,i,r){let{fontFamily:s,fontStyle:a,fontWeight:o}=e,l=new OffscreenCanvas(1,1),c=l.getContext("2d",{alpha:!1});const h=c.font="".concat(a," ").concat(o," ").concat(200,"px ").concat(s),{actualBoundingBoxLeft:u,actualBoundingBoxRight:d,actualBoundingBoxAscent:p,actualBoundingBoxDescent:g,fontBoundingBoxAscent:f,fontBoundingBoxDescent:m,width:v}=c.measureText(t),w=1.5,B=Math.ceil(Math.max(Math.abs(u)+Math.abs(d)||0,v)*w),y=Math.ceil(Math.max(Math.abs(p)+Math.abs(g)||200,Math.abs(f)+Math.abs(m)||200)*w);l=new OffscreenCanvas(B,y),c=l.getContext("2d",{alpha:!0,willReadFrequently:!0}),c.font=h,c.filter="grayscale(1)",c.fillStyle="white",c.fillRect(0,0,B,y),c.fillStyle="black",c.fillText(t,.5*B/2,1.5*y/2);const b=(0,Ae.A)(Dm,this,jm).call(this,c.getImageData(0,0,B,y).data),C=(0,Ae.A)(Dm,this,Wm).call(this,b),_=(0,Ae.A)(Dm,this,Vm).call(this,C),F=(0,Ae.A)(Dm,this,Hm).call(this,b,B,y,_);return this.processDrawnLines({lines:{curves:F,width:B,height:y},pageWidth:n,pageHeight:A,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static process(t,e,n,A,i){const[r,s,a]=(0,Ae.A)(Dm,this,zm).call(this,t),[o,l]=(0,Ae.A)(Dm,this,Km).call(this,r,s,a,Math.hypot(s,a)*(0,Ae.A)(Dm,this,Xm)._.sigmaSFactor,(0,Ae.A)(Dm,this,Xm)._.sigmaR,(0,Ae.A)(Dm,this,Xm)._.kernelSize),c=(0,Ae.A)(Dm,this,Vm).call(this,l),h=(0,Ae.A)(Dm,this,Hm).call(this,o,s,a,c);return this.processDrawnLines({lines:{curves:h,width:s,height:a},pageWidth:e,pageHeight:n,rotation:A,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines(t){var e;let{lines:n,pageWidth:A,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}=t;r%180!==0&&([A,i]=[i,A]);const{curves:l,width:c,height:h}=n,u=null!==(e=n.thickness)&&void 0!==e?e:0,d=[],p=Math.min(A/c,i/h),g=p/A,f=p/i,m=[];for(const{points:w}of l){const t=a?(0,Ae.A)(Dm,this,Gm).call(this,w):w;if(!t)continue;m.push(t);const e=t.length,n=new Float32Array(e),A=new Float32Array(3*(2===e?2:e-2));if(d.push({line:A,points:n}),2===e){n[0]=t[0]*g,n[1]=t[1]*f,A.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[i,r,s,o]=t;i*=g,r*=f,s*=g,o*=f,n.set([i,r,s,o],0),A.set([NaN,NaN,NaN,NaN,i,r],0);for(let a=4;a<e;a+=2){const e=n[a]=t[a]*g,l=n[a+1]=t[a+1]*f;A.set(tg.createBezierPoints(i,r,s,o,e,l),3*(a-2)),[i,r,s,o]=[s,o,e,l]}}if(0===d.length)return null;const v=o?new Tm:new Em;return v.build(d,A,i,1,r,o?0:u,s),{outline:v,newCurves:m,areContours:o,thickness:u,width:c,height:h}}static async compressSignature(t){let e,{outlines:n,areContours:A,thickness:i,width:r,height:s}=t,a=1/0,o=-1/0,l=0;for(const v of n){l+=v.length;for(let t=2,e=v.length;t<e;t++){const e=v[t]-v[t-2];a=Math.min(a,e),o=Math.max(o,e)}}e=a>=-128&&o<=127?Int8Array:a>=-32768&&o<=32767?Int16Array:Int32Array;const c=n.length,h=8+3*c,u=new Uint32Array(h);let d=0;u[d++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*c)*e.BYTES_PER_ELEMENT,u[d++]=0,u[d++]=r,u[d++]=s,u[d++]=A?0:1,u[d++]=Math.max(0,Math.floor(null!==i&&void 0!==i?i:0)),u[d++]=c,u[d++]=e.BYTES_PER_ELEMENT;for(const v of n)u[d++]=v.length-2,u[d++]=v[0],u[d++]=v[1];const p=new CompressionStream("deflate-raw"),g=p.writable.getWriter();await g.ready,g.write(u);const f=e.prototype.constructor;for(const v of n){const t=new f(v.length-2);for(let e=2,n=v.length;e<n;e++)t[e-2]=v[e]-v[e-2];g.write(t)}g.close();const m=await new Response(p.readable).arrayBuffer();return gn(new Uint8Array(m))}static async decompressSignature(t){try{const o=(s=t,Uint8Array.fromBase64?Uint8Array.fromBase64(s):An(atob(s))),{readable:l,writable:c}=new DecompressionStream("deflate-raw"),h=c.getWriter();await h.ready,h.write(o).then(async()=>{await h.ready,await h.close()}).catch(()=>{});let u=null,d=0;var e,n=!1,A=!1;try{for(var i,r=(0,ie.A)(l);n=!(i=await r.next()).done;n=!1){const t=i.value;u||(u=new Uint8Array(new Uint32Array(t.buffer,0,4)[0])),u.set(t,d),d+=t.length}}catch(a){A=!0,e=a}finally{try{n&&null!=r.return&&await r.return()}finally{if(A)throw e}}const p=new Uint32Array(u.buffer,0,u.length>>2),g=p[1];if(0!==g)throw new Error("Invalid version: ".concat(g));const f=p[2],m=p[3],v=0===p[4],w=p[5],B=p[6],y=p[7],b=[],C=(8+3*B)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(y){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(u.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(u.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(u.buffer,C)}d=0;for(let t=0;t<B;t++){const e=p[3*t+8],n=new Float32Array(e+2);b.push(n);for(let A=0;A<2;A++)n[A]=p[3*t+8+A+1];for(let t=0;t<e;t++)n[t+2]=n[t]+_[d++]}return{areContours:v,thickness:w,outlines:b,width:f,height:m}}catch(ty){return Ke("decompressSignature: ".concat(ty)),null}var s}}function Lm(t,e,n,A){return A-=e,0===(n-=t)?A>0?0:4:1===n?A+6:2-A}function Rm(t,e,n,A,i,r,s){const a=(0,Ae.A)(zt,this,Lm).call(this,n,A,i,r);for(let o=0;o<8;o++){const i=(-o+a-s+16)%8;if(0!==t[(n+(0,Ae.A)(zt,this,qm)._[2*i])*e+(A+(0,Ae.A)(zt,this,qm)._[2*i+1])])return i}return-1}function Om(t,e,n,A,i,r,s){const a=(0,Ae.A)(zt,this,Lm).call(this,n,A,i,r);for(let o=0;o<8;o++){const i=(o+a+s+16)%8;if(0!==t[(n+(0,Ae.A)(zt,this,qm)._[2*i])*e+(A+(0,Ae.A)(zt,this,qm)._[2*i+1])])return i}return-1}function Hm(t,e,n,A){const i=t.length,r=new Int32Array(i);for(let l=0;l<i;l++)r[l]=t[l]<=A?1:0;for(let l=1;l<n-1;l++)r[l*e]=r[l*e+e-1]=0;for(let l=0;l<e;l++)r[l]=r[e*n-1-l]=0;let s,a=1;const o=[];for(let l=1;l<n-1;l++){s=1;for(let t=1;t<e-1;t++){const n=l*e+t,A=r[n];if(0===A)continue;let i=l,c=t;if(1===A&&0===r[n-1])a+=1,c-=1;else{if(!(A>=1&&0===r[n+1])){1!==A&&(s=Math.abs(A));continue}a+=1,c+=1,A>1&&(s=A)}const h=[t,l],u=c===t+1,d={isHole:u,points:h,id:a,parent:0};let p;o.push(d);for(const t of o)if(t.id===s){p=t;break}p?p.isHole?d.parent=u?p.parent:s:d.parent=u?s:p.parent:d.parent=u?s:0;const g=(0,Ae.A)(zt,this,Rm).call(this,r,e,l,t,i,c,0);if(-1===g){r[n]=-a,1!==r[n]&&(s=Math.abs(r[n]));continue}let f=(0,Ae.A)(zt,this,qm)._[2*g],m=(0,Ae.A)(zt,this,qm)._[2*g+1];const v=l+f,w=t+m;i=v,c=w;let B=l,y=t;for(;;){const A=(0,Ae.A)(zt,this,Om).call(this,r,e,B,y,i,c,1);f=(0,Ae.A)(zt,this,qm)._[2*A],m=(0,Ae.A)(zt,this,qm)._[2*A+1];const o=B+f,u=y+m;h.push(u,o);const d=B*e+y;if(0===r[d+1]?r[d]=-a:1===r[d]&&(r[d]=a),o===l&&u===t&&B===v&&y===w){1!==r[n]&&(s=Math.abs(r[n]));break}i=B,c=y,B=o,y=u}}}return o}function Nm(t,e,n,A){if(n-e<=4){for(let i=e;i<n-2;i+=2)A.push(t[i],t[i+1]);return}const i=t[e],r=t[e+1],s=t[n-4]-i,a=t[n-3]-r,o=Math.hypot(s,a),l=s/o,c=a/o,h=l*r-c*i,u=a/s,d=1/o,p=Math.atan(u),g=Math.cos(p),f=Math.sin(p),m=d*(Math.abs(g)+Math.abs(f)),v=d*(1-m+m**2),w=Math.max(Math.atan(Math.abs(f+g)*v),Math.atan(Math.abs(f-g)*v));let B=0,y=e;for(let b=e+2;b<n-2;b+=2){const e=Math.abs(h-l*t[b+1]+c*t[b]);e>B&&(y=b,B=e)}B>(o*w)**2?((0,Ae.A)(zt,this,Nm).call(this,t,e,y+2,A),(0,Ae.A)(zt,this,Nm).call(this,t,y,n,A)):A.push(i,r)}function Gm(t){const e=[],n=t.length;return(0,Ae.A)(zt,this,Nm).call(this,t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}function Km(t,e,n,A,i,r){const s=new Float32Array(r**2),a=-2*A**2,o=r>>1;for(let p=0;p<r;p++){const t=(p-o)**2;for(let e=0;e<r;e++)s[p*r+e]=Math.exp((t+(e-o)**2)/a)}const l=new Float32Array(256),c=-2*i**2;for(let p=0;p<256;p++)l[p]=Math.exp(p**2/c);const h=t.length,u=new Uint8Array(h),d=new Uint32Array(256);for(let p=0;p<n;p++)for(let A=0;A<e;A++){const i=p*e+A,a=t[i];let c=0,h=0;for(let u=0;u<r;u++){const i=p+u-o;if(!(i<0||i>=n))for(let n=0;n<r;n++){const d=A+n-o;if(d<0||d>=e)continue;const p=t[i*e+d],g=s[u*r+n]*l[Math.abs(p-a)];c+=p*g,h+=g}}d[u[i]=Math.round(c/h)]++}return[u,d]}function Wm(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}function jm(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let A=-1/0,i=1/0;for(let s=0,a=n.length;s<a;s++){const e=n[s]=t[s<<2];A=Math.max(A,e),i=Math.min(i,e)}const r=255/(A-i);for(let s=0,a=n.length;s<a;s++)n[s]=(n[s]-i)*r;return n}function Vm(t){let e,n=-1/0,A=-1/0;const i=t.findIndex(t=>0!==t);let r=i,s=i;for(e=i;e<256;e++){const i=t[e];i>n&&(e-r>A&&(A=e-r,s=e-1),n=i,r=e)}for(e=s-1;e>=0&&!(t[e]>t[e+1]);e--);return e}function zm(t){const e=t,{width:n,height:A}=t,{maxDim:i}=(0,Ae.A)(zt,this,Xm)._;let r=n,s=A;if(n>i||A>i){let a=n,o=A,l=Math.log2(Math.max(n,A)/i);const c=Math.floor(l);l=l===c?c-1:c;for(let n=0;n<l;n++){r=Math.ceil(a/2),s=Math.ceil(o/2);const n=new OffscreenCanvas(r,s);n.getContext("2d").drawImage(t,0,0,a,o,0,0,r,s),a=r,o=s,t!==e&&t.close(),t=n.transferToImageBitmap()}const h=Math.min(i/r,i/s);r=Math.round(r*h),s=Math.round(s*h)}const a=new OffscreenCanvas(r,s).getContext("2d",{willReadFrequently:!0});a.fillStyle="white",a.fillRect(0,0,r,s),a.filter="grayscale(1)",a.drawImage(t,0,0,t.width,t.height,0,0,r,s);const o=a.getImageData(0,0,r,s).data;return[(0,Ae.A)(zt,this,jm).call(this,o),r,s]}zt=Dm;var Xm={_:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},qm={_:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class Ym extends Df{constructor(){super(),super.updateProperties({fill:fs._defaultLineColor,"stroke-width":0})}clone(){const t=new Ym;return t.updateAll(this),t}}class Jm extends Qm{constructor(t){super(t),super.updateProperties({stroke:fs._defaultLineColor,"stroke-width":1})}clone(){const t=new Jm(this._viewParameters);return t.updateAll(this),t}}var Zm=new WeakMap,$m=new WeakMap,tv=new WeakMap,ev=new WeakMap;class nv extends Hf{constructor(t){super((0,Yt.A)((0,Yt.A)({},t),{},{mustBeCommitted:!0,name:"signatureEditor"})),(0,Zt.A)(this,Zm,!1),(0,Zt.A)(this,$m,null),(0,Zt.A)(this,tv,null),(0,Zt.A)(this,ev,null),this._willKeepAspectRatio=!0,(0,ee.A)(tv,this,t.signatureData||null),(0,ee.A)($m,this,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){fs.initialize(t,e),this._defaultDrawingOptions=new Ym,this._defaultDrawnSignatureOptions=new Jm(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Xe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!(0,te.A)($m,this)}}static computeTelemetryFinalData(t){var e,n;const A=t.get("hasDescription");return{hasAltText:null!==(e=A.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=A.get(!1))&&void 0!==n?n:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),null===this._drawId)if((0,te.A)(tv,this)){const{lines:t,mustSmooth:e,areContours:n,description:A,uuid:i,heightInPage:r}=(0,te.A)(tv,this),{rawDims:{pageWidth:s,pageHeight:a},rotation:o}=this.parent.viewport,l=Dm.processDrawnLines({lines:t,pageWidth:s,pageHeight:a,rotation:o,innerMargin:nv._INNER_MARGIN,mustSmooth:e,areContours:n});this.addSignature(l,r,A,i)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:(0,te.A)($m,this)||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){(0,ee.A)(ev,this,t),this.addEditToolbar()}getUuid(){return(0,te.A)(ev,this)}get description(){return(0,te.A)($m,this)}set description(t){(0,ee.A)($m,this,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{null===e||void 0===e||e.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:A,height:i}=(0,te.A)(tv,this),r=Math.max(A,i);return{areContours:e,outline:Dm.processDrawnLines({lines:{curves:t.map(t=>({points:t})),thickness:n,width:A,height:i},pageWidth:r,pageHeight:r,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,A){const{x:i,y:r}=this,{outline:s}=(0,ee.A)(tv,this,t);let a;(0,ee.A)(Zm,this,s instanceof Tm),this.description=n,(0,te.A)(Zm,this)?a=nv.getDefaultDrawingOptions():(a=nv._defaultDrawnSignatureOptions.clone(),a.updateProperties({"stroke-width":s.thickness})),this._addOutlines({drawOutlines:s,drawingOptions:a});const[,o]=this.pageDimensions;let l=e/o;l=l>=1?.5:l,this.width*=l/this.height,this.width>=1&&(l*=.9/this.width,this.width=.9),this.height=l,this.setDims(),this.x=i,this.y=r,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(A),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!A,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:A}=this.parent.viewport;return Dm.process(t,e,n,A,nv._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:A},rotation:i}=this.parent.viewport;return Dm.extractContoursFromText(t,e,n,A,i,nv._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:A}=this.parent.viewport;return Dm.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:A,innerMargin:nv._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(t){let{areContours:e,thickness:n}=t;e?this._drawingOptions=nv.getDefaultDrawingOptions():(this._drawingOptions=nv._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":A}}=this,i=Object.assign(super.serialize(t),{isSignature:!0,areContours:(0,te.A)(Zm,this),color:[0,0,0],thickness:(0,te.A)(Zm,this)?0:A});return this.addComment(i),t?(i.paths={lines:e,points:n},i.uuid=(0,te.A)(ev,this),i.isCopy=!0):i.lines=e,(0,te.A)($m,this)&&(i.accessibilityData={type:"Figure",alt:(0,te.A)($m,this)}),i}static deserializeDraw(t,e,n,A,i,r){return r.areContours?Tm.deserialize(t,e,n,A,i,r):Em.deserialize(t,e,n,A,i,r)}static async deserialize(t,e,n){var A;const i=await super.deserialize(t,e,n);return(0,ee.A)(Zm,i,t.areContours),i.description=(null===(A=t.accessibilityData)||void 0===A?void 0:A.alt)||"",(0,ee.A)(ev,i,t.uuid),i}}(0,ne.A)(nv,"_type","signature"),(0,ne.A)(nv,"_editorType",ve.SIGNATURE),(0,ne.A)(nv,"_defaultDrawingOptions",null);var Av=new WeakMap,iv=new WeakMap,rv=new WeakMap,sv=new WeakMap,av=new WeakMap,ov=new WeakMap,lv=new WeakMap,cv=new WeakMap,hv=new WeakMap,uv=new WeakMap,dv=new WeakMap,pv=new WeakSet;class gv extends fs{constructor(t){super((0,Yt.A)((0,Yt.A)({},t),{},{name:"stampEditor"})),(0,Jt.A)(this,pv),(0,Zt.A)(this,Av,null),(0,Zt.A)(this,iv,null),(0,Zt.A)(this,rv,null),(0,Zt.A)(this,sv,null),(0,Zt.A)(this,av,null),(0,Zt.A)(this,ov,""),(0,Zt.A)(this,lv,null),(0,Zt.A)(this,cv,!1),(0,Zt.A)(this,hv,null),(0,Zt.A)(this,uv,!1),(0,Zt.A)(this,dv,!1),(0,ee.A)(sv,this,t.bitmapUrl),(0,ee.A)(av,this,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){fs.initialize(t,e)}static isHandlingMimeForPasting(t){return Dn.includes(t)}static paste(t,e){e.pasteEditor({mode:ve.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!(null===(t=this.altTextData)||void 0===t||!t.altText)}}static computeTelemetryFinalData(t){var e,n;const A=t.get("hasAltText");return{hasAltText:null!==(e=A.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=A.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:A,width:i,height:r}=t||this.copyCanvas(null,null,!0).imageData,s=await n.guess({name:"altText",request:{data:A,width:i,height:r,channels:A.length/(i*r)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const a=s.output;return await this.setGuessedAltText(a),e&&!this.hasAltTextData()&&(this.altTextData={alt:a,decorative:!1}),a}remove(){var t;(0,te.A)(iv,this)&&((0,ee.A)(Av,this,null),this._uiManager.imageManager.deleteId((0,te.A)(iv,this)),null===(t=(0,te.A)(lv,this))||void 0===t||t.remove(),(0,ee.A)(lv,this,null),(0,te.A)(hv,this)&&(clearTimeout((0,te.A)(hv,this)),(0,ee.A)(hv,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&((0,te.A)(iv,this)&&null===(0,te.A)(lv,this)&&(0,Ae.A)(pv,this,vv).call(this),this.isAttachedToDOM||this.parent.add(this))):(0,te.A)(iv,this)&&(0,Ae.A)(pv,this,vv).call(this)}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!((0,te.A)(rv,this)||(0,te.A)(Av,this)||(0,te.A)(sv,this)||(0,te.A)(av,this)||(0,te.A)(iv,this)||(0,te.A)(cv,this))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),(0,te.A)(cv,this)||((0,te.A)(Av,this)?(0,Ae.A)(pv,this,wv).call(this):(0,Ae.A)(pv,this,vv).call(this)),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:A}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&((0,ee.A)(iv,this,n),A&&(0,ee.A)(Av,this,A),(0,ee.A)(cv,this,!1),(0,Ae.A)(pv,this,wv).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==(0,te.A)(hv,this)&&clearTimeout((0,te.A)(hv,this));(0,ee.A)(hv,this,setTimeout(()=>{(0,ee.A)(hv,this,null),(0,Ae.A)(pv,this,yv).call(this)},200))}copyCanvas(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(t=224);const{width:A,height:i}=(0,te.A)(Av,this),r=new Tn;let s=(0,te.A)(Av,this),a=A,o=i,l=null;if(e){if(A>e||i>e){const t=Math.min(e/A,e/i);a=Math.floor(A*t),o=Math.floor(i*t)}l=document.createElement("canvas");const t=l.width=Math.ceil(a*r.sx),n=l.height=Math.ceil(o*r.sy);(0,te.A)(uv,this)||(s=(0,Ae.A)(pv,this,Bv).call(this,t,n));const c=l.getContext("2d");c.filter=this._uiManager.hcmFilter;let h="white",u="#cfcfd8";"none"!==this._uiManager.hcmFilter?u="black":Ln.isDarkMode&&(h="#8f8f9d",u="#42414d");const d=15,p=d*r.sx,g=d*r.sy,f=new OffscreenCanvas(2*p,2*g),m=f.getContext("2d");m.fillStyle=h,m.fillRect(0,0,2*p,2*g),m.fillStyle=u,m.fillRect(0,0,p,g),m.fillRect(p,g,p,g),c.fillStyle=c.createPattern(f,"repeat"),c.fillRect(0,0,t,n),c.drawImage(s,0,0,s.width,s.height,0,0,t,n)}let c=null;if(n){let e,n;if(r.symmetric&&s.width<t&&s.height<t)e=s.width,n=s.height;else if(s=(0,te.A)(Av,this),A>t||i>t){const r=Math.min(t/A,t/i);e=Math.floor(A*r),n=Math.floor(i*r),(0,te.A)(uv,this)||(s=(0,Ae.A)(pv,this,Bv).call(this,e,n))}const a=new OffscreenCanvas(e,n).getContext("2d",{willReadFrequently:!0});a.drawImage(s,0,0,s.width,s.height,0,0,e,n),c={width:e,height:n,data:a.getImageData(0,0,e,n).data}}return{canvas:l,width:a,height:o,imageData:c}}static async deserialize(t,e,n){let A=null,i=!1;if(t instanceof Cp){var r;const{data:{rect:s,rotation:a,id:o,structParent:l,popupRef:c,richText:h,contentsObj:u,creationDate:d,modificationDate:p},container:g,parent:{page:{pageNumber:f}},canvas:m}=t;let v,w;m?(delete t.canvas,({id:v,bitmap:w}=n.imageManager.getFromCanvas(g.id,m)),m.remove()):(i=!0,t._hasNoCanvas=!0);const B=(null===(r=await e._structTree.getAriaAttributes("".concat(dn).concat(o)))||void 0===r?void 0:r.get("aria-label"))||"";A=t={annotationType:ve.STAMP,bitmapId:v,bitmap:w,pageIndex:f-1,rect:s.slice(0),rotation:a,annotationElementId:o,id:o,deleted:!1,accessibilityData:{decorative:!1,altText:B},isSvg:!1,structParent:l,popupRef:c,richText:h,comment:(null===u||void 0===u?void 0:u.str)||null,creationDate:d,modificationDate:p}}const s=await super.deserialize(t,e,n),{rect:a,bitmap:o,bitmapUrl:l,bitmapId:c,isSvg:h,accessibilityData:u}=t;i?(n.addMissingCanvas(t.id,s),(0,ee.A)(cv,s,!0)):c&&n.imageManager.isValidId(c)?((0,ee.A)(iv,s,c),o&&(0,ee.A)(Av,s,o)):(0,ee.A)(sv,s,l),(0,ee.A)(uv,s,h);const[d,p]=s.pageDimensions;return s.width=(a[2]-a[0])/d,s.height=(a[3]-a[1])/p,u&&(s.altTextData=u),s._initialData=A,t.comment&&s.setCommentData(t),(0,ee.A)(dv,s,!!A),s}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:(0,te.A)(iv,this),isSvg:(0,te.A)(uv,this)});if(this.addComment(n),t)return n.bitmapUrl=(0,Ae.A)(pv,this,bv).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:A,altText:i}=this.serializeAltText(!1);if(!A&&i&&(n.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const t=(0,Ae.A)(pv,this,Cv).call(this,n);if(t.isSame)return null;var r;if(t.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(r=this._initialData.structParent)&&void 0!==r?r:-1;return n.id=this.annotationElementId,delete n.bitmapId,n}if(null===e)return n;e.stamps||(e.stamps=new Map);const s=(0,te.A)(uv,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has((0,te.A)(iv,this))){if((0,te.A)(uv,this)){const t=e.stamps.get((0,te.A)(iv,this));s>t.area&&(t.area=s,t.serialized.bitmap.close(),t.serialized.bitmap=(0,Ae.A)(pv,this,bv).call(this,!1))}}else e.stamps.set((0,te.A)(iv,this),{area:s,serialized:n}),n.bitmap=(0,Ae.A)(pv,this,bv).call(this,!1);return n}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}function fv(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?((0,ee.A)(Av,this,t.bitmap),e||((0,ee.A)(iv,this,t.id),(0,ee.A)(uv,this,t.isSvg)),t.file&&(0,ee.A)(ov,this,t.file.name),(0,Ae.A)(pv,this,wv).call(this)):this.remove()}function mv(){if((0,ee.A)(rv,this,null),this._uiManager.enableWaiting(!1),(0,te.A)(lv,this))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&(0,te.A)(Av,this))this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&(0,te.A)(Av,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(t){}}this.div.focus()}}function vv(){if((0,te.A)(iv,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId((0,te.A)(iv,this)).then(t=>(0,Ae.A)(pv,this,fv).call(this,t,!0)).finally(()=>(0,Ae.A)(pv,this,mv).call(this));if((0,te.A)(sv,this)){const t=(0,te.A)(sv,this);return(0,ee.A)(sv,this,null),this._uiManager.enableWaiting(!0),void(0,ee.A)(rv,this,this._uiManager.imageManager.getFromUrl(t).then(t=>(0,Ae.A)(pv,this,fv).call(this,t)).finally(()=>(0,Ae.A)(pv,this,mv).call(this)))}if((0,te.A)(av,this)){const t=(0,te.A)(av,this);return(0,ee.A)(av,this,null),this._uiManager.enableWaiting(!0),void(0,ee.A)(rv,this,this._uiManager.imageManager.getFromFile(t).then(t=>(0,Ae.A)(pv,this,fv).call(this,t)).finally(()=>(0,Ae.A)(pv,this,mv).call(this)))}const t=document.createElement("input");t.type="file",t.accept=Dn.join(",");const e=this._uiManager._signal;(0,ee.A)(rv,this,new Promise(n=>{t.addEventListener("change",async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),(0,Ae.A)(pv,this,fv).call(this,e)}else this.remove();n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>(0,Ae.A)(pv,this,mv).call(this))),t.click()}function wv(){var t;const{div:e}=this;let{width:n,height:A}=(0,te.A)(Av,this);const[i,r]=this.pageDimensions,s=.75;if(this.width)n=this.width*i,A=this.height*r;else if(n>s*i||A>s*r){const t=Math.min(s*i/n,s*r/A);n*=t,A*=t}this._uiManager.enableWaiting(!1);const a=(0,ee.A)(lv,this,document.createElement("canvas"));a.setAttribute("role","img"),this.addContainer(a),this.width=n/i,this.height=A/r,this.setDims(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),(0,Ae.A)(pv,this,yv).call(this),(0,te.A)(dv,this)||(this.parent.addUndoableEditor(this),(0,ee.A)(dv,this,!0)),this._reportTelemetry({action:"inserted_image"}),(0,te.A)(ov,this)&&this.div.setAttribute("aria-description",(0,te.A)(ov,this)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}function Bv(t,e){const{width:n,height:A}=(0,te.A)(Av,this);let i=n,r=A,s=(0,te.A)(Av,this);for(;i>2*t||r>2*e;){const n=i,A=r;i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const a=new OffscreenCanvas(i,r);a.getContext("2d").drawImage(s,0,0,n,A,0,0,i,r),s=a.transferToImageBitmap()}return s}function yv(){const[t,e]=this.parentDimensions,{width:n,height:A}=this,i=new Tn,r=Math.ceil(n*t*i.sx),s=Math.ceil(A*e*i.sy),a=(0,te.A)(lv,this);if(!a||a.width===r&&a.height===s)return;a.width=r,a.height=s;const o=(0,te.A)(uv,this)?(0,te.A)(Av,this):(0,Ae.A)(pv,this,Bv).call(this,r,s),l=a.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(o,0,0,o.width,o.height,0,0,r,s)}function bv(t){if(t){if((0,te.A)(uv,this)){const t=this._uiManager.imageManager.getSvgUrl((0,te.A)(iv,this));if(t)return t}const t=document.createElement("canvas");({width:t.width,height:t.height}=(0,te.A)(Av,this));return t.getContext("2d").drawImage((0,te.A)(Av,this),0,0),t.toDataURL()}if((0,te.A)(uv,this)){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*wn.PDF_TO_CSS_UNITS),A=Math.round(this.height*e*wn.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,A);return i.getContext("2d").drawImage((0,te.A)(Av,this),0,0,(0,te.A)(Av,this).width,(0,te.A)(Av,this).height,0,0,n,A),i.transferToImageBitmap()}return structuredClone((0,te.A)(Av,this))}function Cv(t){var e;const{pageIndex:n,accessibilityData:{altText:A}}=this._initialData,i=t.pageIndex===n,r=((null===(e=t.accessibilityData)||void 0===e?void 0:e.alt)||"")===A;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&r,isSameAltText:r}}(0,ne.A)(gv,"_type","stamp"),(0,ne.A)(gv,"_editorType",ve.STAMP);var _v=new WeakMap,Fv=new WeakMap,Ev=new WeakMap,xv=new WeakMap,Sv=new WeakMap,kv=new WeakMap,Uv=new WeakMap,Qv=new WeakMap,Pv=new WeakMap,Mv=new WeakMap,Iv=new WeakMap,Tv=new WeakMap,Dv=new WeakMap,Lv=new WeakMap,Rv=new WeakMap,Ov=new WeakMap,Hv=new WeakSet;class Nv{constructor(t){let{uiManager:e,pageIndex:n,div:A,structTreeLayer:i,accessibilityManager:r,annotationLayer:s,drawLayer:a,textLayer:o,viewport:l,l10n:c}=t;(0,Jt.A)(this,Hv),(0,Zt.A)(this,_v,void 0),(0,Zt.A)(this,Fv,!1),(0,Zt.A)(this,Ev,null),(0,Zt.A)(this,xv,null),(0,Zt.A)(this,Sv,null),(0,Zt.A)(this,kv,new Map),(0,Zt.A)(this,Uv,!1),(0,Zt.A)(this,Qv,!1),(0,Zt.A)(this,Pv,!1),(0,Zt.A)(this,Mv,null),(0,Zt.A)(this,Iv,null),(0,Zt.A)(this,Tv,null),(0,Zt.A)(this,Dv,null),(0,Zt.A)(this,Lv,null),(0,Zt.A)(this,Rv,-1),(0,Zt.A)(this,Ov,void 0);const h=[...Xv._.values()];if(!Nv._initialized){Nv._initialized=!0;for(const t of h)t.initialize(c,e)}e.registerEditorTypes(h),(0,ee.A)(Ov,this,e),this.pageIndex=n,this.div=A,(0,ee.A)(_v,this,r),(0,ee.A)(Ev,this,s),this.viewport=l,(0,ee.A)(Tv,this,o),this.drawLayer=a,this._structTree=i,(0,te.A)(Ov,this).addLayer(this)}get isEmpty(){return 0===(0,te.A)(kv,this).size}get isInvisible(){return this.isEmpty&&(0,te.A)(Ov,this).getMode()===ve.NONE}updateToolbar(t){(0,te.A)(Ov,this).updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,te.A)(Ov,this).getMode();switch((0,Ae.A)(Hv,this,zv).call(this),t){case ve.NONE:return this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case ve.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ve.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===ve.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of Xv._.values())e.toggle("".concat(n._type,"Editing"),t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===(null===(e=(0,te.A)(Tv,this))||void 0===e?void 0:e.div)}setEditingState(t){(0,te.A)(Ov,this).setEditingState(t)}addCommands(t){(0,te.A)(Ov,this).addCommands(t)}cleanUndoStack(t){(0,te.A)(Ov,this).cleanUndoStack(t)}toggleDrawing(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!t)}togglePointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(t=(0,te.A)(Ev,this))||void 0===t||t.div.classList.toggle("disabled",!e)}async enable(){var t;(0,ee.A)(Pv,this,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),null===(t=(0,te.A)(Lv,this))||void 0===t||t.abort(),(0,ee.A)(Lv,this,null);const e=new Set;for(const A of(0,$t.A)(Hv,this,Gv))A.enableEditing(),A.show(!0),A.annotationElementId&&((0,te.A)(Ov,this).removeChangedExistingAnnotation(A),e.add(A.annotationElementId));const n=(0,te.A)(Ev,this);if(n)for(const A of n.getEditableAnnotations()){if(A.hide(),(0,te.A)(Ov,this).isDeletedAnnotationElement(A.data.id))continue;if(e.has(A.data.id))continue;const t=await this.deserialize(A);t&&(this.addOrRebuild(t),t.enableEditing())}(0,ee.A)(Pv,this,!1),(0,te.A)(Ov,this)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if((0,ee.A)(Qv,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),(0,te.A)(Tv,this)&&!(0,te.A)(Lv,this)){(0,ee.A)(Lv,this,new AbortController);const t=(0,te.A)(Ov,this).combinedSignal((0,te.A)(Lv,this));(0,te.A)(Tv,this).div.addEventListener("pointerdown",t=>{const{clientX:e,clientY:n,timeStamp:A}=t;if(A-(0,te.A)(Rv,this)>500)return void(0,ee.A)(Rv,this,A);(0,ee.A)(Rv,this,-1);const{classList:i}=this.div;i.toggle("getElements",!0);const r=document.elementsFromPoint(e,n);if(i.toggle("getElements",!1),!this.div.contains(r[0]))return;let s;const a=new RegExp("^".concat(me,"[0-9]+$"));for(const l of r)if(a.test(l.id)){s=l.id;break}if(!s)return;const o=(0,te.A)(kv,this).get(s);null===(null===o||void 0===o?void 0:o.annotationElementId)&&(t.stopPropagation(),t.preventDefault(),o.dblclick(t))},{signal:t,capture:!0})}const t=(0,te.A)(Ev,this);if(t){const n=new Map,A=new Map;for(const r of(0,$t.A)(Hv,this,Gv)){var e;r.disableEditing(),r.annotationElementId?null===r.serialize()?(A.set(r.annotationElementId,r),null===(e=this.getEditableAnnotation(r.annotationElementId))||void 0===e||e.show(),r.remove()):n.set(r.annotationElementId,r):r.updateFakeAnnotationElement(t)}const i=t.getEditableAnnotations();for(const t of i){const{id:e}=t.data;if((0,te.A)(Ov,this).isDeletedAnnotationElement(e)){t.updateEdited({deleted:!0});continue}let i=A.get(e);i?(i.resetAnnotationElement(t),i.show(!1),t.show()):(i=n.get(e),i&&((0,te.A)(Ov,this).addChangedExistingAnnotation(i),i.renderAnnotationElement(t)&&i.show(!1)),t.show())}}(0,Ae.A)(Hv,this,zv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const A of Xv._.values())n.remove("".concat(A._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),(0,ee.A)(Qv,this,!1)}getEditableAnnotation(t){var e;return(null===(e=(0,te.A)(Ev,this))||void 0===e?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){(0,te.A)(Ov,this).getActive()!==t&&(0,te.A)(Ov,this).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,null!==(t=(0,te.A)(Tv,this))&&void 0!==t&&t.div&&!(0,te.A)(Dv,this)){(0,ee.A)(Dv,this,new AbortController);const t=(0,te.A)(Ov,this).combinedSignal((0,te.A)(Dv,this));(0,te.A)(Tv,this).div.addEventListener("pointerdown",(0,Ae.A)(Hv,this,Kv).bind(this),{signal:t}),(0,te.A)(Tv,this).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,null!==(t=(0,te.A)(Tv,this))&&void 0!==t&&t.div&&(0,te.A)(Dv,this)&&((0,te.A)(Dv,this).abort(),(0,ee.A)(Dv,this,null),(0,te.A)(Tv,this).div.classList.remove("highlighting"))}enableClick(){if((0,te.A)(xv,this))return;(0,ee.A)(xv,this,new AbortController);const t=(0,te.A)(Ov,this).combinedSignal((0,te.A)(xv,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;null===(t=(0,te.A)(xv,this))||void 0===t||t.abort(),(0,ee.A)(xv,this,null)}attach(t){(0,te.A)(kv,this).set(t.id,t);const{annotationElementId:e}=t;e&&(0,te.A)(Ov,this).isDeletedAnnotationElement(e)&&(0,te.A)(Ov,this).removeDeletedAnnotationElement(t)}detach(t){var e;(0,te.A)(kv,this).delete(t.id),null===(e=(0,te.A)(_v,this))||void 0===e||e.removePointerInTextLayer(t.contentDiv),!(0,te.A)(Qv,this)&&t.annotationElementId&&(0,te.A)(Ov,this).addDeletedAnnotationElement(t)}remove(t){this.detach(t),(0,te.A)(Ov,this).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&((0,te.A)(Ov,this).addDeletedAnnotationElement(t.annotationElementId),fs.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),null===(e=t.parent)||void 0===e||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),(0,te.A)(Ov,this).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!(0,te.A)(Pv,this)),(0,te.A)(Ov,this).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var e;if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!(0,te.A)(Sv,this)&&(t._focusEventsAllowed=!1,(0,ee.A)(Sv,this,setTimeout(()=>{(0,ee.A)(Sv,this,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:(0,te.A)(Ov,this)._signal}),n.focus())},0))),t._structTreeParentId=null===(e=(0,te.A)(_v,this))||void 0===e?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getEditorByUID(t){for(const e of(0,te.A)(kv,this).values())if(e.uid===t)return e;return null}getNextId(){return(0,te.A)(Ov,this).getId()}combinedSignal(t){return(0,te.A)(Ov,this).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return null===(t=(0,$t.A)(Hv,this,Wv))||void 0===t?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await(0,te.A)(Ov,this).updateMode(t.mode);const{offsetX:n,offsetY:A}=(0,Ae.A)(Hv,this,Vv).call(this),i=this.getNextId(),r=(0,Ae.A)(Hv,this,jv).call(this,(0,Yt.A)({parent:this,id:i,x:n,y:A,uiManager:(0,te.A)(Ov,this),isCentered:!0},e));r&&this.add(r)}async deserialize(t){var e,n;return await(null===(e=Xv._.get(null!==(n=t.annotationType)&&void 0!==n?n:t.annotationEditorType))||void 0===e?void 0:e.deserialize(t,this,(0,te.A)(Ov,this)))||null}createAndAddNewEditor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const A=this.getNextId(),i=(0,Ae.A)(Hv,this,jv).call(this,(0,Yt.A)({parent:this,id:A,x:t.offsetX,y:t.offsetY,uiManager:(0,te.A)(Ov,this),isCentered:e},n));return i&&this.add(i),i}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor((0,Ae.A)(Hv,this,Vv).call(this),!0,t)}setSelected(t){(0,te.A)(Ov,this).setSelected(t)}toggleSelected(t){(0,te.A)(Ov,this).toggleSelected(t)}unselect(t){(0,te.A)(Ov,this).unselect(t)}pointerup(t){var e;const{isMac:n}=rn.platform;if(0!==t.button||t.ctrlKey&&n)return;if(t.target!==this.div)return;if(!(0,te.A)(Uv,this))return;if((0,ee.A)(Uv,this,!1),null!==(e=(0,$t.A)(Hv,this,Wv))&&void 0!==e&&e.isDrawer&&(0,$t.A)(Hv,this,Wv).supportMultipleDrawings)return;if(!(0,te.A)(Fv,this))return void(0,ee.A)(Fv,this,!0);const A=(0,te.A)(Ov,this).getMode();A!==ve.STAMP&&A!==ve.SIGNATURE?this.createAndAddNewEditor(t,!1):(0,te.A)(Ov,this).unselectAll()}pointerdown(t){var e;if((0,te.A)(Ov,this).getMode()===ve.HIGHLIGHT&&this.enableTextSelection(),(0,te.A)(Uv,this))return void(0,ee.A)(Uv,this,!1);const{isMac:n}=rn.platform;if(0!==t.button||t.ctrlKey&&n)return;if(t.target!==this.div)return;if((0,ee.A)(Uv,this,!0),null!==(e=(0,$t.A)(Hv,this,Wv))&&void 0!==e&&e.isDrawer)return void this.startDrawingSession(t);const A=(0,te.A)(Ov,this).getActive();(0,ee.A)(Fv,this,!A||A.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),(0,te.A)(Mv,this))return void(0,$t.A)(Hv,this,Wv).startDrawing(this,(0,te.A)(Ov,this),!1,t);(0,te.A)(Ov,this).setCurrentDrawingSession(this),(0,ee.A)(Mv,this,new AbortController);const e=(0,te.A)(Ov,this).combinedSignal((0,te.A)(Mv,this));this.div.addEventListener("blur",t=>{let{relatedTarget:e}=t;e&&!this.div.contains(e)&&((0,ee.A)(Iv,this,null),this.commitOrRemove())},{signal:e}),(0,$t.A)(Hv,this,Wv).startDrawing(this,(0,te.A)(Ov,this),!1,t)}pause(t){if(t){const{activeElement:t}=document;return void(this.div.contains(t)&&(0,ee.A)(Iv,this,t))}(0,te.A)(Iv,this)&&setTimeout(()=>{var t;null===(t=(0,te.A)(Iv,this))||void 0===t||t.focus(),(0,ee.A)(Iv,this,null)},0)}endDrawingSession(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,te.A)(Mv,this)?((0,te.A)(Ov,this).setCurrentDrawingSession(null),(0,te.A)(Mv,this).abort(),(0,ee.A)(Mv,this,null),(0,ee.A)(Iv,this,null),(0,$t.A)(Hv,this,Wv).endDrawing(t)):null}findNewParent(t,e,n){const A=(0,te.A)(Ov,this).findParent(e,n);return null!==A&&A!==this&&(A.changeParent(t),!0)}commitOrRemove(){return!!(0,te.A)(Mv,this)&&(this.endDrawingSession(),!0)}onScaleChanging(){(0,te.A)(Mv,this)&&(0,$t.A)(Hv,this,Wv).onScaleChangingWhenDrawing(this)}destroy(){var t;this.commitOrRemove(),(null===(t=(0,te.A)(Ov,this).getActive())||void 0===t?void 0:t.parent)===this&&((0,te.A)(Ov,this).commitOrRemove(),(0,te.A)(Ov,this).setActiveEditor(null)),(0,te.A)(Sv,this)&&(clearTimeout((0,te.A)(Sv,this)),(0,ee.A)(Sv,this,null));for(const n of(0,te.A)(kv,this).values()){var e;null===(e=(0,te.A)(_v,this))||void 0===e||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,(0,te.A)(kv,this).clear(),(0,te.A)(Ov,this).removeLayer(this)}render(t){let{viewport:e}=t;this.viewport=e,In(this.div,e);for(const n of(0,te.A)(Ov,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(t){let{viewport:e}=t;(0,te.A)(Ov,this).commitOrRemove(),(0,Ae.A)(Hv,this,zv).call(this);const n=this.viewport.rotation,A=e.rotation;if(this.viewport=e,In(this.div,{rotation:A}),n!==A)for(const i of(0,te.A)(kv,this).values())i.rotate(A)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return(0,te.A)(Ov,this).viewParameters.realScale}}function Gv(t){return 0!==(0,te.A)(kv,t).size?(0,te.A)(kv,t).values():(0,te.A)(Ov,t).getEditors(t.pageIndex)}function Kv(t){(0,te.A)(Ov,this).unselectAll();const{target:e}=t;if(e===(0,te.A)(Tv,this).div||("img"===e.getAttribute("role")||e.classList.contains("endOfContent"))&&(0,te.A)(Tv,this).div.contains(e)){const{isMac:e}=rn.platform;if(0!==t.button||t.ctrlKey&&e)return;(0,te.A)(Ov,this).showAllEditors("highlight",!0,!0),(0,te.A)(Tv,this).div.classList.add("free"),this.toggleDrawing(),vf.startHighlighting(this,"ltr"===(0,te.A)(Ov,this).direction,{target:(0,te.A)(Tv,this).div,x:t.x,y:t.y}),(0,te.A)(Tv,this).div.addEventListener("pointerup",()=>{(0,te.A)(Tv,this).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:(0,te.A)(Ov,this)._signal}),t.preventDefault()}}function Wv(t){return Xv._.get((0,te.A)(Ov,t).getMode())}function jv(t){const e=(0,$t.A)(Hv,this,Wv);return e?new e.prototype.constructor(t):null}function Vv(){const{x:t,y:e,width:n,height:A}=this.boundingClientRect,i=Math.max(0,t),r=Math.max(0,e),s=(i+Math.min(window.innerWidth,t+n))/2-t,a=(r+Math.min(window.innerHeight,e+A))/2-e,[o,l]=this.viewport.rotation%180===0?[s,a]:[a,s];return{offsetX:o,offsetY:l}}function zv(){for(const t of(0,te.A)(kv,this).values())t.isEmpty()&&t.remove()}(0,ne.A)(Nv,"_initialized",!1);var Xv={_:new Map([Wp,Mm,gv,vf,nv].map(t=>[t._editorType,t]))},qv=new WeakMap,Yv=new WeakMap,Jv=new WeakMap,Zv=new WeakSet;class $v{constructor(t){let{pageIndex:e}=t;(0,Jt.A)(this,Zv),(0,Zt.A)(this,qv,null),(0,Zt.A)(this,Yv,new Map),(0,Zt.A)(this,Jv,new Map),this.pageIndex=e}setParent(t){if((0,te.A)(qv,this)){if((0,te.A)(qv,this)!==t){if((0,te.A)(Yv,this).size>0)for(const e of(0,te.A)(Yv,this).values())e.remove(),t.append(e);(0,ee.A)(qv,this,t)}}else(0,ee.A)(qv,this,t)}static get _svgFactory(){return Xe(this,"_svgFactory",new Ku)}draw(t){var e,n;let A=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(iw._=(e=iw._,n=e++,e),n),s=(0,Ae.A)(Zv,this,ew).call(this),a=$v._svgFactory.createElement("defs");s.append(a);const o=$v._svgFactory.createElement("path");a.append(o);const l="path_p".concat(this.pageIndex,"_").concat(r);o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),A&&(0,te.A)(Jv,this).set(r,o);const c=i?(0,Ae.A)(Zv,this,nw).call(this,a,l):null,h=$v._svgFactory.createElement("use");return s.append(h),h.setAttribute("href","#".concat(l)),this.updateProperties(s,t),(0,te.A)(Yv,this).set(r,s),{id:r,clipPathId:"url(#".concat(c,")")}}drawOutline(t,e){var n,A;const i=(iw._=(n=iw._,A=n++,n),A),r=(0,Ae.A)(Zv,this,ew).call(this),s=$v._svgFactory.createElement("defs");r.append(s);const a=$v._svgFactory.createElement("path");s.append(a);const o="path_p".concat(this.pageIndex,"_").concat(i);let l;if(a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke"),e){const t=$v._svgFactory.createElement("mask");s.append(t),l="mask_p".concat(this.pageIndex,"_").concat(i),t.setAttribute("id",l),t.setAttribute("maskUnits","objectBoundingBox");const e=$v._svgFactory.createElement("rect");t.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white");const n=$v._svgFactory.createElement("use");t.append(n),n.setAttribute("href","#".concat(o)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const c=$v._svgFactory.createElement("use");r.append(c),c.setAttribute("href","#".concat(o)),l&&c.setAttribute("mask","url(#".concat(l,")"));const h=c.cloneNode();return r.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,t),(0,te.A)(Yv,this).set(i,r),i}finalizeDraw(t,e){(0,te.A)(Jv,this).delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:A,rootClass:i,path:r}=e,s="number"===typeof t?(0,te.A)(Yv,this).get(t):t;if(s){if(n&&(0,Ae.A)(Zv,this,Aw).call(this,s,n),A&&tw.call($v,s,A),i){const{classList:t}=s;for(const[e,n]of Object.entries(i))t.toggle(e,n)}if(r){const t=s.firstChild.firstChild;(0,Ae.A)(Zv,this,Aw).call(this,t,r)}}}updateParent(t,e){if(e===this)return;const n=(0,te.A)(Yv,this).get(t);n&&((0,te.A)(qv,e).append(n),(0,te.A)(Yv,this).delete(t),(0,te.A)(Yv,e).set(t,n))}remove(t){(0,te.A)(Jv,this).delete(t),null!==(0,te.A)(qv,this)&&((0,te.A)(Yv,this).get(t).remove(),(0,te.A)(Yv,this).delete(t))}destroy(){(0,ee.A)(qv,this,null);for(const t of(0,te.A)(Yv,this).values())t.remove();(0,te.A)(Yv,this).clear(),(0,te.A)(Jv,this).clear()}}function tw(t,e){let[n,A,i,r]=e;const{style:s}=t;s.top="".concat(100*A,"%"),s.left="".concat(100*n,"%"),s.width="".concat(100*i,"%"),s.height="".concat(100*r,"%")}function ew(){const t=Xt._svgFactory.create(1,1,!0);return(0,te.A)(qv,this).append(t),t.setAttribute("aria-hidden",!0),t}function nw(t,e){const n=Xt._svgFactory.createElement("clipPath");t.append(n);const A="clip_".concat(e);n.setAttribute("id",A),n.setAttribute("clipPathUnits","objectBoundingBox");const i=Xt._svgFactory.createElement("use");return n.append(i),i.setAttribute("href","#".concat(e)),i.classList.add("clip"),A}function Aw(t,e){for(const[n,A]of Object.entries(e))null===A?t.removeAttribute(n):t.setAttribute(n,A)}Xt=$v;var iw={_:0};globalThis._pdfjsTestingUtils={HighlightOutliner:Ng},globalThis.pdfjsLib={AbortException:en,AnnotationEditorLayer:Nv,AnnotationEditorParamsType:we,AnnotationEditorType:ve,AnnotationEditorUIManager:Si,AnnotationLayer:Tp,AnnotationMode:fe,AnnotationType:xe,applyOpacity:function(t,e,n,A){const i=255*(1-(A=Math.min(Math.max(null!==A&&void 0!==A?A:1,0),1)));return[t=Math.round(t*A+i),e=Math.round(e*A+i),n=Math.round(n*A+i)]},build:"f56dc8601",ColorPicker:Eu,createValidAbsoluteUrl:Ve,CSSConstants:class{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Xe(this,"commentForegroundColor",Qn(n))}},DOMSVGFactory:Ku,DrawLayer:$v,FeatureTest:rn,fetchData:Bn,findContrastColor:function(t,e){const n=t[0]+256*t[1]+65536*t[2]+16777216*e[0]+4294967296*e[1]+1099511627776*e[2];let A=Gn.get(n);if(A)return A;const i=new Float32Array(9),r=i.subarray(0,3),s=i.subarray(3,6);Rn(t,s);const a=i.subarray(6,9);Rn(e,a);const o=a[2]<.5,l=o?12:4.5;if(s[2]=o?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),Nn(s,a,r)<l){let t,e;o?(t=s[2],e=1):(t=0,e=s[2]);const n=.005;for(;e-t>n;){const n=s[2]=(t+e)/2;o===Nn(s,a,r)<l?t=n:e=n}s[2]=o?e:t}return On(s,r),A=an.makeHexColor(Math.round(255*r[0]),Math.round(255*r[1]),Math.round(255*r[2])),Gn.set(n,A),A},getDocument:Sh,getFilenameFromUrl:function(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(Cn(t))return Ke('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(t=>{try{return new URL(t)}catch(e){try{return new URL(decodeURIComponent(t))}catch(n){try{return new URL(t,"https://foo.bar")}catch(A){try{return new URL(decodeURIComponent(t),"https://foo.bar")}catch(i){return null}}}}})(t);if(!n)return e;const A=t=>{try{let e=decodeURIComponent(t);return e.includes("/")?(e=e.split("/").at(-1),e.test(/^\.pdf$/i)?e:t):e}catch(e){return t}},i=/\.pdf$/i,r=n.pathname.split("/").at(-1);if(i.test(r))return A(r);if(n.searchParams.size>0){const t=Array.from(n.searchParams.values()).reverse();for(const n of t)if(i.test(n))return A(n);const e=Array.from(n.searchParams.keys()).reverse();for(const n of e)if(i.test(n))return A(n)}if(n.hash){const t=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(t)return A(t[0])}return e},getRGB:Qn,getUuid:un,getXfaPageViewport:function(t,e){let{scale:n=1,rotation:A=0}=e;const{width:i,height:r}=t.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new yn({viewBox:s,userUnit:1,scale:n,rotation:A})},GlobalWorkerOptions:ic,ImageKind:Ee,InvalidPDFException:Ze,isDataScheme:Cn,isPdfFile:_n,isValidExplicitDest:Aa,MathClamp:pn,noContextMenu:xn,normalizeUnicode:function(t){return cn||(cn=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,hn=new Map([["\ufb05","\u017ft"]])),t.replaceAll(cn,(t,e,n)=>e?e.normalize("NFKC"):hn.get(n))},OPS:Ie,OutputScale:Tn,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:Dh,PDFDateString:kn,PDFWorker:zh,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:wn,RenderingCancelledException:bn,renderRichText:Kn,ResponseException:$e,setLayerDimensions:In,shadow:Xe,SignatureExtractor:Dm,stopEvent:Sn,SupportedImageMimeTypes:Dn,TextLayer:gh,TouchManager:Or,updateUrlHash:ze,Util:an,VerbosityLevel:Me,version:"5.4.296",XfaLayer:mn};var rw=__webpack_require__(239),sw=__webpack_require__.n(rw);ic.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.0.269/pdf.worker.min.js";const aw=()=>{const t=$(),n=J(),{fileName:A,filePath:i,projectId:r="default_project_1"}=n.state||{},s=(0,e.useRef)(null),a=(0,e.useRef)(null),o=(0,e.useRef)(null),[l,c]=(0,e.useState)("pan"),[h,u]=(0,e.useState)("#5c6bc0"),[d,p]=(0,e.useState)(4),[g,f]=(0,e.useState)(.05),[m,v]=(0,e.useState)(1),[w,B]=(0,e.useState)([]),[y,b]=(0,e.useState)(!1),[C,_]=(0,e.useState)(0),[F,E]=(0,e.useState)(0),[x,S]=(0,e.useState)(0),[k,U]=(0,e.useState)(0),[Q,P]=(0,e.useState)([]),[M,I]=(0,e.useState)(-1),T=(0,e.useCallback)(t=>{const e=a.current.getBoundingClientRect();return{x:(t.clientX-e.left)/m,y:(t.clientY-e.top)/m}},[m]),D=t=>{const e=a.current.getContext("2d");if(e.clearRect(0,0,a.current.width,a.current.height),t>=0){const n=new Image;n.onload=()=>{e.drawImage(n,0,0)},n.src=Q[t]}},L=(0,e.useCallback)(()=>{const t=Q.slice(0,M+1),e=a.current.toDataURL();P([...t,e]),I(t.length)},[Q,M]);(0,e.useEffect)(()=>{a.current&&D(M)},[M]);const R=(t,e)=>{const n=e.x-t.x,A=e.y-t.y;return(Math.sqrt(n*n+A*A)*g).toFixed(2)},O=(t,e,n,A)=>{const i=(e.x+n.x)/2,r=(e.y+n.y)/2,s=Math.atan2(n.y-e.y,n.x-e.x);t.save(),t.translate(i,r),t.rotate(s);const a="".concat(A," m");t.font="bold ".concat(12/m,"px Arial"),t.fillStyle="white",t.fillRect(-t.measureText(a).width/2-5,-20/m,t.measureText(a).width+10,16/m),t.fillStyle="black",t.textAlign="center",t.fillText(a,0,-5/m),t.restore()},H=(t,e,n,A)=>{const i=((t,e,n)=>{const A=t.x-e.x,i=t.y-e.y,r=n.x-e.x,s=n.y-e.y,a=Math.atan2(i,A),o=Math.atan2(s,r);let l=Math.abs(a-o);return l>Math.PI&&(l=2*Math.PI-l),(180*l/Math.PI).toFixed(1)})(e,n,A),r=Math.atan2(e.y-n.y,e.x-n.x),s=Math.atan2(A.y-n.y,A.x-n.x),a=30/m;let o=r,l=s;o>l&&([o,l]=[l,o]),(s-r>Math.PI||r-s>Math.PI)&&([o,l]=[l,o]),t.beginPath(),t.strokeStyle="red",t.lineWidth=2/m,t.arc(n.x,n.y,a,o,l),t.stroke(),t.fillStyle="red",t.font="bold ".concat(14/m,"px Arial");const c=a+15/m,h=(r+s)/2,u=n.x+c*Math.cos(h),d=n.y+c*Math.sin(h);t.textAlign="center",t.fillText("".concat(i,"\xb0"),u,d)},N=t=>{if(!y&&"angle"!==l&&"add-text"!==l)return;const{x:e,y:n}=T(t);if("angle"===l&&w.length>0)if(2===w.length){const t=a.current.getContext("2d"),A=w[0],i=w[1],r={x:e,y:n};D(M),t.strokeStyle=h,t.lineWidth=2/m,t.beginPath(),t.moveTo(A.x,A.y),t.lineTo(i.x,i.y),t.lineTo(r.x,r.y),t.stroke(),H(t,A,i,r),B([]),L()}else{const t=a.current.getContext("2d");if(t.fillStyle="red",t.beginPath(),t.arc(e,n,5,0,2*Math.PI),t.fill(),1===w.length){const A=w[0];t.strokeStyle="red",t.lineWidth=2/m,t.beginPath(),t.moveTo(A.x,A.y),t.lineTo(e,n),t.stroke()}}else{if("add-text"===l){const t=prompt("Enter text annotation:");if(t){const A=a.current.getContext("2d");A.fillStyle=h,A.font="bold ".concat(20/m,"px Arial"),A.fillText(t,e,n),L()}return b(!1),void c("pan")}if(y){const t=a.current.getContext("2d");if("line"===l)t.strokeStyle=h,t.lineWidth=d/m,t.beginPath(),t.moveTo(x,k),t.lineTo(e,n),t.stroke();else if("rect"===l){t.strokeStyle=h,t.lineWidth=d/m;const A=e-x,i=n-k;t.beginPath(),t.strokeRect(x,k,A,i)}else if("measure"===l){const A={x:x,y:k},i={x:e,y:n},r=R(A,i);t.strokeStyle=h,t.lineWidth=2/m,t.beginPath(),t.setLineDash([5,5]),t.moveTo(A.x,A.y),t.lineTo(i.x,i.y),t.stroke(),t.setLineDash([]),O(t,A,i,r)}b(!1),L()}}},G=i?i.split("/").pop().split("\\").pop():null,K=G?"/api/projects/".concat(r,"/files/").concat(G):null,W=(0,e.useCallback)(async(t,e)=>{const n=t.getViewport({scale:1}),A=s.current,i=a.current;A.height=n.height,A.width=n.width,i.height=n.height,i.width=n.width,A.style.transform="scale(".concat(e,")"),i.style.transform="scale(".concat(e,")"),t.render({canvasContext:A.getContext("2d"),viewport:n}),i&&D(M)},[M]);(0,e.useEffect)(()=>{if(!K||!s.current)return;Sh(K).promise.then(t=>{t.getPage(1).then(t=>{W(t,m)})},t=>{console.error("Error loading PDF:",t)})},[K,W,m]);const j=t=>{const e=Math.min(3,Math.max(.5,m+t));v(e)};let V="crosshair";return"pan"===l?V=y?"grabbing":"grab":"eraser"===l?V="cell":"add-text"===l?V="text":"angle"===l&&(V="url('/path/to/angle_icon_".concat(w.length+1,".png'), crosshair")),(0,St.jsxs)("div",{className:"chatgpt-workspace-layout full-height-container",children:[(0,St.jsxs)("aside",{className:"project-history-panel chatgpt-history-card editor-sidebar",children:[(0,St.jsxs)("header",{className:"sidebar-header",children:[(0,St.jsxs)("button",{className:"new-project-btn primary-btn",onClick:()=>t("/annotation"),children:[(0,St.jsx)("i",{className:"fas fa-chevron-left"})," Back to Import"]}),(0,St.jsx)("h3",{className:"panel-subtitle",children:"Annotation Settings"})]}),(0,St.jsxs)("div",{className:"project-list-scroll full-height-scroll sidebar-controls",children:[(0,St.jsxs)("div",{className:"setting-group history-group",children:[(0,St.jsxs)("h4",{children:[(0,St.jsx)("i",{className:"fas fa-history"})," History"]}),(0,St.jsxs)("div",{className:"toolbar-group",children:[(0,St.jsxs)("button",{className:"tool-btn icon-btn sidebar-btn",onClick:()=>M>-1&&I(t=>t-1),disabled:M<=-1,title:"Undo",children:[(0,St.jsx)("i",{className:"fas fa-undo"})," Undo"]}),(0,St.jsxs)("button",{className:"tool-btn icon-btn sidebar-btn",onClick:()=>M<Q.length-1&&I(t=>t+1),disabled:M>=Q.length-1,title:"Redo",children:[(0,St.jsx)("i",{className:"fas fa-redo"})," Redo"]})]})]}),(0,St.jsxs)("div",{className:"setting-group history-group",children:[(0,St.jsxs)("h4",{children:[(0,St.jsx)("i",{className:"fas fa-trash-alt"})," Clean Up"]}),(0,St.jsxs)("button",{className:"tool-btn icon-btn sidebar-btn delete-all-btn",onClick:()=>{window.confirm("Are you sure you want to delete ALL annotations on this page? This action cannot be undone.")&&(P([]),I(-1),D(-1))},title:"Delete all annotations",children:[(0,St.jsx)("i",{className:"fas fa-trash-alt"})," Delete All"]})]}),(0,St.jsxs)("div",{className:"setting-group zoom-group",children:[(0,St.jsxs)("h4",{children:[(0,St.jsx)("i",{className:"fas fa-search-plus"})," Zoom Control"]}),(0,St.jsxs)("div",{className:"toolbar-group zoom-controls",children:[(0,St.jsx)("button",{className:"tool-btn icon-btn sidebar-btn",onClick:()=>j(.1),title:"Zoom In",children:(0,St.jsx)("i",{className:"fas fa-plus"})}),(0,St.jsx)("button",{className:"tool-btn icon-btn sidebar-btn",onClick:()=>j(-.1),title:"Zoom Out",children:(0,St.jsx)("i",{className:"fas fa-minus"})}),(0,St.jsxs)("button",{className:"tool-btn icon-btn sidebar-btn",onClick:()=>{if(!s.current||!o.current)return;const t=o.current.clientWidth-40,e=s.current.width;v(t/e*.95)},title:"Fit to Screen",children:[(0,St.jsx)("i",{className:"fas fa-expand-arrows-alt"})," Fit"]}),(0,St.jsxs)("span",{className:"zoom-display",children:[Math.round(100*m),"%"]})]})]}),(0,St.jsxs)("div",{className:"setting-group scale-group",children:[(0,St.jsxs)("h4",{children:[(0,St.jsx)("i",{className:"fas fa-ruler-combined"})," Scale"]}),(0,St.jsxs)("label",{className:"scale-control",children:["Scale (m/px):",(0,St.jsx)("input",{type:"number",value:g,step:"0.01",onChange:t=>f(parseFloat(t.target.value)||.05)})]})]})]})]}),(0,St.jsx)("div",{className:"single-workspace-tile chatgpt-main-box full-height-panel editor-main-panel",children:(0,St.jsxs)("div",{className:"annotation-container large-chat-container",children:[(0,St.jsxs)("h2",{className:"editor-title",children:["\ud83d\udcc4 Annotation PDF Editor \u2014 ",(0,St.jsx)("span",{id:"currentFilename",children:A})]}),(0,St.jsxs)("div",{className:"editor-toolbar",children:[(0,St.jsxs)("div",{className:"toolbar-group annotation-tools",children:[(0,St.jsx)("button",{onClick:()=>c("pan"),className:"pan"===l?"tool-btn active":"tool-btn",title:"Pan / Move PDF",children:(0,St.jsx)("i",{className:"fas fa-arrows-alt"})}),(0,St.jsx)("button",{onClick:()=>c("pen"),className:"pen"===l?"tool-btn active":"tool-btn",title:"Freehand Pen",children:(0,St.jsx)("i",{className:"fas fa-pencil-alt"})}),(0,St.jsx)("button",{onClick:()=>c("line"),className:"line"===l?"tool-btn active":"tool-btn",title:"Draw Straight Line",children:(0,St.jsx)("i",{className:"fas fa-minus"})}),(0,St.jsx)("button",{onClick:()=>c("rect"),className:"rect"===l?"tool-btn active":"tool-btn",title:"Draw Rectangle",children:(0,St.jsx)("i",{className:"far fa-square"})}),(0,St.jsx)("button",{onClick:()=>c("measure"),className:"measure"===l?"tool-btn active":"tool-btn",title:"Linear Measurement (Distance)",children:(0,St.jsx)("i",{className:"fas fa-ruler-horizontal"})}),(0,St.jsx)("button",{onClick:()=>c("angle"),className:"angle"===l?"tool-btn active":"tool-btn",title:"Angle Measurement (3-Point)",children:(0,St.jsx)("i",{className:"fas fa-angle-left"})}),(0,St.jsx)("button",{onClick:()=>c("add-text"),className:"add-text"===l?"tool-btn active":"tool-btn",title:"Add Text Annotation",children:(0,St.jsx)("i",{className:"fas fa-font"})}),(0,St.jsx)("button",{onClick:()=>c("eraser"),className:"eraser"===l?"tool-btn active":"tool-btn",title:"Freehand Eraser (Removes drawing ink)",children:(0,St.jsx)("i",{className:"fas fa-eraser"})})]}),(0,St.jsxs)("div",{className:"toolbar-group style-controls",children:[(0,St.jsx)("label",{className:"color-label",title:"Line Color",children:(0,St.jsx)("input",{type:"color",value:h,onChange:t=>u(t.target.value)})}),(0,St.jsxs)("label",{className:"width-label",children:[(0,St.jsx)("i",{className:"fas fa-grip-lines"}),(0,St.jsx)("input",{type:"number",value:d,step:"1",min:"1",onChange:t=>p(parseInt(t.target.value)||4),title:"Line Width"})]})]}),(0,St.jsxs)("button",{className:"tool-btn save-btn primary-btn-3d",onClick:async()=>{if(!s.current)return;const t=a.current.style.transform;a.current.style.transform="scale(1)",s.current.style.transform="scale(1)";const e=await sw()(o.current,{allowTaint:!0,useCORS:!0,ignoreElements:t=>t.classList.contains("editor-title")||t.classList.contains("editor-toolbar")});a.current.style.transform=t,s.current.style.transform=t;const n=e.toDataURL("image/png"),i=A.replace(".pdf","_annotated.png"),l=document.createElement("a");l.download=i,l.href=n,document.body.appendChild(l),l.click(),document.body.removeChild(l);try{const t=await fetch("/api/projects/".concat(r,"/save_annotated_pdf"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:i,pdfData:n})}),e=await t.json();e.success?alert("\u2705 Saved and Uploaded successfully!"):alert("\u274c Upload failed: ".concat(e.message||"Server error"))}catch(ty){console.error("Server upload failed:",ty),alert("\u274c Server upload failed: ".concat(ty.message))}},title:"Save Edited File",children:[(0,St.jsx)("i",{className:"fas fa-cloud-upload-alt"})," Save & Upload"]})]}),(0,St.jsxs)("div",{ref:o,className:"canvas-wrapper",children:[(0,St.jsx)("canvas",{id:"pdfCanvas",ref:s}),(0,St.jsx)("canvas",{id:"overlay",ref:a,onMouseDown:t=>{if(t.preventDefault(),!a.current)return;if("angle"===l){const{x:e,y:n}=T(t),A={x:e,y:n};return void(w.length<3&&B(t=>[...t,A]))}b(!0),_(t.clientX),E(t.clientY);const{x:e,y:n}=T(t);if(S(e),U(n),"measure"===l||"line"===l||"rect"===l||"pen"===l||"eraser"===l){const t=a.current.getContext("2d");t.strokeStyle=h,t.lineWidth=d/m,t.lineCap="round",t.lineJoin="round",t.beginPath(),"pen"!==l&&"eraser"!==l||t.moveTo(e,n)}},onMouseMove:t=>{if(!y)return;const e=t.clientX-C,n=t.clientY-F,{x:A,y:i}=T(t);if("pan"===l){const A=o.current;return A.scrollLeft-=e,A.scrollTop-=n,_(t.clientX),void E(t.clientY)}D(M);const r=a.current.getContext("2d");if(r.strokeStyle="eraser"===l?"rgba(233, 233, 233, 1)":h,r.lineWidth=("eraser"===l?20:d)/m,r.lineCap="round",r.lineJoin="round","pen"===l||"eraser"===l)r.beginPath(),r.moveTo(x,k),r.lineTo(A,i),r.stroke(),S(A),U(i);else if("line"===l)r.beginPath(),r.moveTo(x,k),r.lineTo(A,i),r.stroke();else if("rect"===l){const t=A-x,e=i-k;r.beginPath(),r.strokeRect(x,k,t,e)}else if("measure"===l){r.strokeStyle=h,r.lineWidth=2/m,r.setLineDash([5,5]),r.beginPath(),r.moveTo(x,k),r.lineTo(A,i),r.stroke(),r.setLineDash([]);const t=R({x:x,y:k},{x:A,y:i});O(r,{x:x,y:k},{x:A,y:i},t)}},onMouseUp:N,onMouseLeave:N,style:{cursor:V}}),!i&&(0,St.jsx)("p",{className:"placeholder-text",children:"Please select a file to start editing..."})]})]})})]})};const ow=function(){const[t,n]=(0,e.useState)(""),[A,i]=(0,e.useState)([{role:"ai",content:"Welcome to the global design discussion! I can offer style advice, material suggestions, or analyze design trends."}]),r=(0,e.useRef)(null),s=async()=>{if(!t.trim())return;const e={role:"user",content:t.trim()},A={role:"ai",content:"...",temp:!0};i(t=>[...t,e,A]),n("");try{const t=await fetch("/api/projects/".concat("global_discussion","/discuss"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.content})}),n=await t.json();i(t=>{const e=t.filter(t=>!t.temp);return e.push({role:"ai",content:n.assistant}),e})}catch(r){console.error("Error in global discussion:",r)}};return(0,e.useEffect)(()=>{r.current&&(r.current.scrollTop=r.current.scrollHeight)},[A]),(0,St.jsxs)("div",{className:"single-workspace-tile chatgpt-main-box full-height-panel",children:[(0,St.jsxs)("div",{className:"page-title",children:[(0,St.jsx)("h1",{children:"\ud83d\udcac Global AI Discussion Board"}),(0,St.jsx)("p",{children:"Ask the AI general design questions or start a new conceptual chat outside of a specific project."})]}),(0,St.jsxs)("div",{className:"ai-chat-tile large-chat-container",children:[(0,St.jsx)("div",{ref:r,id:"discussionMessages",className:"chat-messages whatsapp-style-3d-box dynamic-message-area",children:A.map((t,e)=>(0,St.jsx)("div",{className:"msg ".concat(t.role),children:t.content},e))}),(0,St.jsxs)("div",{className:"chat-input-area centered-input-bar fixed-input-height",children:[(0,St.jsx)("input",{type:"text",id:"discussionInput",placeholder:"Start a conversation...",value:t,onChange:t=>n(t.target.value),onKeyDown:t=>"Enter"===t.key&&s()}),(0,St.jsx)("button",{id:"sendDiscussion",className:"send-btn",onClick:s,disabled:!t.trim(),children:"Send"})]})]})]})};const lw=function(){return(0,St.jsxs)("div",{className:"single-workspace-tile chatgpt-main-box full-height-panel",children:[(0,St.jsxs)("div",{className:"page-title",children:[(0,St.jsx)("h1",{children:"\ud83d\udcca Project Reports and Analysis"}),(0,St.jsx)("p",{children:"View generated reports, cost breakdowns, and structural analysis documents here."})]}),(0,St.jsxs)("div",{style:{padding:"20px",border:"1px solid #ddd",borderRadius:"8px",flexGrow:1,overflowY:"auto"},children:[(0,St.jsx)("h3",{children:"Report List"}),(0,St.jsx)("p",{style:{marginTop:"10px",color:"#666"},children:"This section would fetch a list of reports from your database (using a new Flask API route like `/api/projects/<pid>/reports`)."}),(0,St.jsxs)("ul",{style:{listStyleType:"none",paddingLeft:"0"},children:[(0,St.jsxs)("li",{style:{padding:"10px 0",borderBottom:"1px dotted #eee"},children:[(0,St.jsx)("i",{className:"fas fa-file-pdf"})," Project A - Cost Summary (2025-10-01)"]}),(0,St.jsxs)("li",{style:{padding:"10px 0",borderBottom:"1px dotted #eee"},children:[(0,St.jsx)("i",{className:"fas fa-file-pdf"})," Project B - Material Analysis (2025-09-28)"]})]})]})]})};var cw=__webpack_require__(165);function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var A in n)({}).hasOwnProperty.call(n,A)&&(t[A]=n[A])}return t},hw.apply(null,arguments)}function uw(t,e){if(null==t)return{};var n,A,i=function(t,e){if(null==t)return{};var n={};for(var A in t)if({}.hasOwnProperty.call(t,A)){if(-1!==e.indexOf(A))continue;n[A]=t[A]}return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(A=0;A<r.length;A++)n=r[A],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var dw=__webpack_require__(284);function pw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var gw=__webpack_require__(816);function fw(t,e){for(var n=0;n<e.length;n++){var A=e[n];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(t,(0,gw.A)(A.key),A)}}function mw(t,e,n){return e&&fw(t.prototype,e),n&&fw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ww(t,e)}function Bw(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function yw(t,e){if(e&&("object"==(0,dw.A)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vw(t)}function bw(t){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bw(t)}var Cw=__webpack_require__(173),_w=__webpack_require__.n(Cw),Fw=function(t,e,n){if(n||2===arguments.length)for(var A,i=0,r=e.length;i<r;i++)!A&&i in e||(A||(A=Array.prototype.slice.call(e,0,i)),A[i]=e[i]);return t.concat(A||Array.prototype.slice.call(e))},Ew=["onKeyDown","onKeyPress","onKeyUp"],xw=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Sw=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],kw=Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw(Fw([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),Ew,!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),xw,!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),Sw,!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function Uw(t,e){var n={};return kw.forEach(function(A){var i=t[A];i&&(n[A]=e?function(t){return i(t,e(A))}:i)}),n}function Qw(t){var e=!1;return{promise:new Promise(function(n,A){t.then(function(t){return!e&&n(t)}).catch(function(t){return!e&&A(t)})}),cancel:function(){e=!0}}}function Pw(t){var e,n,A="";if("string"==typeof t||"number"==typeof t)A+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Pw(t[e]))&&(A&&(A+=" "),A+=n);else for(e in t)t[e]&&(A&&(A+=" "),A+=e);return A}const Mw=function(){for(var t,e,n=0,A="";n<arguments.length;)(t=arguments[n++])&&(e=Pw(t))&&(A&&(A+=" "),A+=e);return A};var Iw="Invariant failed";function Tw(t,e){if(!t)throw new Error(Iw)}const Dw=function(t,e){},Lw=(0,e.createContext)(null);function Rw(t){var n=t.children,A=t.type;return e.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(A)},n)}Rw.propTypes={children:_w().node,type:_w().oneOf(["error","loading","no-data"]).isRequired};var Ow=function(){function t(){pw(this,t),this.externalLinkTarget=null,this.externalLinkRel=null}return mw(t,[{key:"setDocument",value:function(t){this.pdfDocument=t}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setExternalLinkRel",value:function(t){this.externalLinkRel=t}},{key:"setExternalLinkTarget",value:function(t){this.externalLinkTarget=t}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function(){return 0},set:function(t){}},{key:"goToDestination",value:function(t){var e=this;new Promise(function(n){"string"===typeof t?e.pdfDocument.getDestination(t).then(n):Array.isArray(t)?n(t):t.then(n)}).then(function(n){Tw(Array.isArray(n),'"'.concat(n,'" is not a valid destination array.'));var A=n[0];new Promise(function(t){A instanceof Object?e.pdfDocument.getPageIndex(A).then(function(e){t(e)}).catch(function(){Tw(!1,'"'.concat(A,'" is not a valid page reference.'))}):"number"===typeof A?t(A):Tw(!1,'"'.concat(A,'" is not a valid destination reference.'))}).then(function(n){var A=n+1;Tw(A>=1&&A<=e.pagesCount,'"'.concat(A,'" is not a valid page number.')),e.pdfViewer.scrollPageIntoView({dest:t,pageIndex:n,pageNumber:A})})})}},{key:"navigateTo",value:function(t){this.goToDestination(t)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(t,e,n){t.href=e,t.rel=this.externalLinkRel||"noopener noreferrer nofollow",t.target=n?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),t}();const Hw={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function Nw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,A=Array(e);n<e;n++)A[n]=t[n];return A}function Gw(t,e){if(t){if("string"==typeof t)return Nw(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nw(t,e):void 0}}function Kw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var A,i,r,s,a=[],o=!0,l=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;o=!1}else for(;!(o=(A=r.call(n)).done)&&(a.push(A.value),a.length!==e);o=!0);}catch(t){l=!0,i=t}finally{try{if(!o&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,e)||Gw(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ww="undefined"!==typeof window,jw=Ww&&"file:"===window.location.protocol;function Vw(t){return"undefined"!==typeof t}function zw(t){return Vw(t)&&null!==t}function Xw(t){return"string"===typeof t&&/^data:/.test(t)}function qw(t){Tw(Xw(t));var e=Kw(t.split(","),2),n=e[0],A=e[1];return-1!==n.split(";").indexOf("base64")?atob(A):unescape(A)}var Yw="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Jw(){Dw(!jw,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(Yw))}function Zw(t){t&&t.cancel&&t.cancel()}function $w(t,e){return Object.defineProperty(t,"width",{get:function(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get:function(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),t}function tB(t){return"RenderingCancelledException"===t.name}function eB(t){return function(t){if(Array.isArray(t))return Nw(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Gw(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nB=function(){var t={};return[].concat(eB(xw),eB(Sw),eB(Ew)).forEach(function(e){t[e]=_w().func}),t}(),AB=[_w().string,_w().instanceOf(ArrayBuffer),_w().shape({data:_w().oneOfType([_w().object,_w().string]),httpHeaders:_w().object,range:_w().object,url:_w().string,withCredentials:_w().bool})];"undefined"!==typeof File&&AB.push(_w().instanceOf(File)),"undefined"!==typeof Blob&&AB.push(_w().instanceOf(Blob));var iB=_w().oneOfType([_w().string,_w().arrayOf(_w().string)]),rB=_w().oneOfType(AB),sB=_w().instanceOf(Ow),aB=(_w().oneOf(["_self","_blank","_parent","_top"]),_w().shape({commonObjs:_w().shape({}).isRequired,getAnnotations:_w().func.isRequired,getTextContent:_w().func.isRequired,getViewport:_w().func.isRequired,render:_w().func.isRequired})),oB=_w().oneOfType([_w().shape({getDestination:_w().func.isRequired,getOutline:_w().func.isRequired,getPage:_w().func.isRequired,numPages:_w().number.isRequired}),_w().bool]),lB=_w().oneOfType([_w().func,_w().shape({current:_w().any})]),cB=_w().oneOf(["canvas","none","svg"]),hB=_w().oneOf([0,90,180,270]),uB=["url"];function dB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(t);e&&(A=A.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,A)}return n}function pB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dB(Object(n),!0).forEach(function(e){(0,ne.A)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dB(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function gB(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ty){return!1}}();return function(){var n,A=bw(t);if(e){var i=bw(this).constructor;n=Reflect.construct(A,arguments,i)}else n=A.apply(this,arguments);return yw(this,n)}}var fB=cw.PDFDataRangeTransport,mB=function(t){Bw(A,t);var n=gB(A);function A(){var t;pw(this,A);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=n.call.apply(n,[this].concat(i)),(0,ne.A)(vw(t),"state",{pdf:null}),(0,ne.A)(vw(t),"viewer",{scrollPageIntoView:function(e){var n=e.dest,A=e.pageIndex,i=e.pageNumber,r=t.props.onItemClick;if(r)r({dest:n,pageIndex:A,pageNumber:i});else{var s=t.pages[A];s?s.scrollIntoView():Dw(!1,"An internal link leading to page ".concat(i," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}}),(0,ne.A)(vw(t),"linkService",new Ow),(0,ne.A)(vw(t),"loadDocument",function(){Zw(t.runningTask),t.loadingTask&&t.loadingTask.destroy();var e=Qw(t.findDocumentSource());t.runningTask=e,e.promise.then(function(e){if(t.onSourceSuccess(),e){t.setState(function(t){return t.pdf?{pdf:null}:null});var n=t.props,A=n.options,i=n.onLoadProgress,r=n.onPassword,s=cw.getDocument(pB(pB({},e),A));s.onPassword=r,i&&(s.onProgress=i),t.loadingTask=s,s.promise.then(function(e){t.setState(function(t){return t.pdf&&t.pdf.fingerprint===e.fingerprint?null:{pdf:e}},t.onLoadSuccess)}).catch(function(e){t.onLoadError(e)})}}).catch(function(e){t.onSourceError(e)})}),(0,ne.A)(vw(t),"setupLinkService",function(){var e=t.props,n=e.externalLinkRel,A=e.externalLinkTarget;t.linkService.setViewer(t.viewer),t.linkService.setExternalLinkRel(n),t.linkService.setExternalLinkTarget(A)}),(0,ne.A)(vw(t),"onSourceSuccess",function(){var e=t.props.onSourceSuccess;e&&e()}),(0,ne.A)(vw(t),"onSourceError",function(e){Dw(e);var n=t.props.onSourceError;n&&n(e)}),(0,ne.A)(vw(t),"onLoadSuccess",function(){var e=t.props.onLoadSuccess,n=t.state.pdf;e&&e(n),t.pages=new Array(n.numPages),t.linkService.setDocument(n)}),(0,ne.A)(vw(t),"onLoadError",function(e){t.setState({pdf:!1}),Dw(e);var n=t.props.onLoadError;n&&n(e)}),(0,ne.A)(vw(t),"findDocumentSource",function(){return new Promise(function(e){var n=t.props.file;if(n||e(null),"string"===typeof n){if(Xw(n)){var A=qw(n);e({data:A})}Jw(),e({url:n})}if(n instanceof fB&&e({range:n}),n instanceof ArrayBuffer&&e({data:n}),Ww&&(function(t){return Tw(Ww),t instanceof Blob}(n)||function(t){return Tw(Ww),t instanceof File}(n)))(function(t){return new Promise(function(e,n){var A=new FileReader;return A.onload=function(){return e(new Uint8Array(A.result))},A.onerror=function(t){switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.target.error.NOT_READABLE_ERR:return n(new Error("Error while reading a file: File not readable."));case t.target.error.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.target.error.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},A.readAsArrayBuffer(t),null})})(n).then(function(t){e({data:t})});else{if(Tw("object"===(0,dw.A)(n)),Tw(n.url||n.data||n.range),"string"===typeof n.url){if(Xw(n.url)){var i=n.url,r=uw(n,uB),s=qw(i);e(pB({data:s},r))}Jw()}e(n)}})}),(0,ne.A)(vw(t),"registerPage",function(e,n){t.pages[e]=n}),(0,ne.A)(vw(t),"unregisterPage",function(e){delete t.pages[e]}),t}return mw(A,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(t){this.props.file!==t.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){Zw(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var t=this.linkService,e=this.registerPage,n=this.unregisterPage,A=this.props,i=A.imageResourcesPath,r=A.renderMode,s=A.rotate;return{imageResourcesPath:i,linkService:t,pdf:this.state.pdf,registerPage:e,renderMode:r,rotate:s,unregisterPage:n}}},{key:"eventProps",get:function(){var t=this;return Uw(this.props,function(){return t.state.pdf})}},{key:"renderChildren",value:function(){var t=this.props.children;return e.createElement(Lw.Provider,{value:this.childContext},t)}},{key:"renderContent",value:function(){var t=this.props.file,n=this.state.pdf;if(!t){var A=this.props.noData;return e.createElement(Rw,{type:"no-data"},"function"===typeof A?A():A)}if(null===n){var i=this.props.loading;return e.createElement(Rw,{type:"loading"},"function"===typeof i?i():i)}if(!1===n){var r=this.props.error;return e.createElement(Rw,{type:"error"},"function"===typeof r?r():r)}return this.renderChildren()}},{key:"render",value:function(){var t=this.props,n=t.className,A=t.inputRef;return e.createElement("div",hw({className:Mw("react-pdf__Document",n),ref:A},this.eventProps),this.renderContent())}}]),A}(e.PureComponent);mB.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF\u2026",noData:"No PDF file specified.",onPassword:function(t,e){switch(e){case Hw.NEED_PASSWORD:t(prompt("Enter the password to open this PDF file."));break;case Hw.INCORRECT_PASSWORD:t(prompt("Invalid password. Please try again."))}}};var vB=_w().oneOfType([_w().func,_w().node]);mB.propTypes=pB(pB({},nB),{},{children:_w().node,className:iB,error:vB,externalLinkRel:_w().string,externalLinkTarget:_w().string,file:rB,imageResourcesPath:_w().string,inputRef:lB,loading:vB,noData:vB,onItemClick:_w().func,onLoadError:_w().func,onLoadProgress:_w().func,onLoadSuccess:_w().func,onPassword:_w().func,onSourceError:_w().func,onSourceSuccess:_w().func,rotate:_w().number});const wB=(0,e.createContext)(null);var BB=function(){function t(e){var n=e.num,A=e.gen;pw(this,t),this.num=n,this.gen=A}return mw(t,[{key:"toString",value:function(){var t="".concat(this.num,"R");return 0!==this.gen&&(t+=this.gen),t}}]),t}(),yB=["item"];function bB(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ty){return!1}}();return function(){var n,A=bw(t);if(e){var i=bw(this).constructor;n=Reflect.construct(A,arguments,i)}else n=A.apply(this,arguments);return yw(this,n)}}var CB=function(t){Bw(A,t);var n=bB(A);function A(){var t;pw(this,A);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=n.call.apply(n,[this].concat(i)),(0,ne.A)(vw(t),"getDestination",function(){return new Promise(function(e,n){var A=t.props,i=A.item,r=A.pdf;return Vw(t.destination)||("string"===typeof i.dest?r.getDestination(i.dest).then(e).catch(n):e(i.dest)),t.destination}).then(function(e){return t.destination=e,e})}),(0,ne.A)(vw(t),"getPageIndex",function(){return new Promise(function(e,n){var A=t.props.pdf;Vw(t.pageIndex)&&e(t.pageIndex),t.getDestination().then(function(t){if(t){var i=Kw(t,1)[0];A.getPageIndex(new BB(i)).then(e).catch(n)}})}).then(function(e){return t.pageIndex=e,t.pageIndex})}),(0,ne.A)(vw(t),"getPageNumber",function(){return new Promise(function(e,n){Vw(t.pageNumber)&&e(t.pageNumber),t.getPageIndex().then(function(t){e(t+1)}).catch(n)}).then(function(e){return t.pageNumber=e,e})}),(0,ne.A)(vw(t),"onClick",function(e){var n=t.props.onClick;return e.preventDefault(),!!n&&Promise.all([t.getDestination(),t.getPageIndex(),t.getPageNumber()]).then(function(t){var e=Kw(t,3),A=e[0],i=e[1],r=e[2];n({dest:A,pageIndex:i,pageNumber:r})})}),t}return mw(A,[{key:"renderSubitems",value:function(){var t=this.props,n=t.item,i=uw(t,yB);if(!n.items||!n.items.length)return null;var r=n.items;return e.createElement("ul",null,r.map(function(t,n){return e.createElement(A,hw({key:"string"===typeof t.destination?t.destination:n,item:t},i))}))}},{key:"render",value:function(){var t=this.props.item;return e.createElement("li",null,e.createElement("a",{href:"#",onClick:this.onClick},t.title),this.renderSubitems())}}]),A}(e.PureComponent),_B=_w().oneOfType([_w().string,_w().arrayOf(_w().any)]);CB.propTypes={item:_w().shape({dest:_B,items:_w().arrayOf(_w().shape({dest:_B,title:_w().string})),title:_w().string}).isRequired,onClick:_w().func,pdf:oB.isRequired};const FB=function(t){return e.createElement(Lw.Consumer,null,function(n){return e.createElement(wB.Consumer,null,function(A){return e.createElement(CB,hw({},n,A,t))})})};function EB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(t);e&&(A=A.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,A)}return n}function xB(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ty){return!1}}();return function(){var n,A=bw(t);if(e){var i=bw(this).constructor;n=Reflect.construct(A,arguments,i)}else n=A.apply(this,arguments);return yw(this,n)}}var SB=function(t){Bw(A,t);var n=xB(A);function A(){var t;pw(this,A);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=n.call.apply(n,[this].concat(i)),(0,ne.A)(vw(t),"state",{outline:null}),(0,ne.A)(vw(t),"loadOutline",function(){var e=t.props.pdf;t.setState(function(t){return t.outline?{outline:null}:null});var n=Qw(e.getOutline());t.runningTask=n,n.promise.then(function(e){t.setState({outline:e},t.onLoadSuccess)}).catch(function(e){t.onLoadError(e)})}),(0,ne.A)(vw(t),"onLoadSuccess",function(){var e=t.props.onLoadSuccess,n=t.state.outline;e&&e(n)}),(0,ne.A)(vw(t),"onLoadError",function(e){t.setState({outline:!1}),Dw(e);var n=t.props.onLoadError;n&&n(e)}),(0,ne.A)(vw(t),"onItemClick",function(e){var n=e.dest,A=e.pageIndex,i=e.pageNumber,r=t.props.onItemClick;r&&r({dest:n,pageIndex:A,pageNumber:i})}),t}return mw(A,[{key:"componentDidMount",value:function(){Tw(this.props.pdf),this.loadOutline()}},{key:"componentDidUpdate",value:function(t){var e=this.props.pdf;t.pdf&&e!==t.pdf&&this.loadOutline()}},{key:"componentWillUnmount",value:function(){Zw(this.runningTask)}},{key:"childContext",get:function(){return{onClick:this.onItemClick}}},{key:"eventProps",get:function(){var t=this;return Uw(this.props,function(){return t.state.outline})}},{key:"renderOutline",value:function(){var t=this.state.outline;return e.createElement("ul",null,t.map(function(t,n){return e.createElement(FB,{key:"string"===typeof t.destination?t.destination:n,item:t})}))}},{key:"render",value:function(){var t=this.props.pdf,n=this.state.outline;if(!t||!n)return null;var A=this.props,i=A.className,r=A.inputRef;return e.createElement("div",hw({className:Mw("react-pdf__Outline",i),ref:r},this.eventProps),e.createElement(wB.Provider,{value:this.childContext},this.renderOutline()))}}]),A}(e.PureComponent);SB.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?EB(Object(n),!0).forEach(function(e){(0,ne.A)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EB(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({className:iB,inputRef:lB,onItemClick:_w().func,onLoadError:_w().func,onLoadSuccess:_w().func,pdf:oB},nB);function kB(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);return n.length<=1?n[0]||null:function(t){n.forEach(function(e){"function"===typeof e?e(t):e&&(e.current=t)})}}const UB=(0,e.createContext)(null);function QB(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ty){return!1}}();return function(){var n,A=bw(t);if(e){var i=bw(this).constructor;n=Reflect.construct(A,arguments,i)}else n=A.apply(this,arguments);return yw(this,n)}}var PB=cw.AnnotationMode,MB=function(t){Bw(A,t);var n=QB(A);function A(){var t;pw(this,A);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),(0,ne.A)(vw(t),"canvasElement",(0,e.createRef)()),(0,ne.A)(vw(t),"onRenderSuccess",function(){t.renderer=null;var e=t.props,n=e.onRenderSuccess,A=e.page,i=e.scale;n&&n($w(A,i))}),(0,ne.A)(vw(t),"onRenderError",function(e){if(!tB(e)){Dw(e);var n=t.props.onRenderError;n&&n(e)}}),(0,ne.A)(vw(t),"drawPageOnCanvas",function(){var e=t.canvasElement.current;if(!e)return null;var n=vw(t),A=n.renderViewport,i=n.viewport,r=t.props,s=r.canvasBackground,a=r.page,o=r.renderForms;e.width=A.width,e.height=A.height,e.style.width="".concat(Math.floor(i.width),"px"),e.style.height="".concat(Math.floor(i.height),"px");var l={annotationMode:o?PB.ENABLE_FORMS:PB.ENABLE,get canvasContext(){return e.getContext("2d")},viewport:A};s&&(l.background=s),t.cancelRenderingTask();var c=a.render(l);return t.renderer=c,c.promise.then(t.onRenderSuccess).catch(t.onRenderError)}),t}return mw(A,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.canvasBackground,A=e.devicePixelRatio,i=e.page,r=e.renderForms;n===t.canvasBackground&&A===t.devicePixelRatio&&r===t.renderForms||(i.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var t=this.canvasElement.current;t&&(t.width=0,t.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){return this.props.devicePixelRatio||Ww&&window.devicePixelRatio||1}},{key:"renderViewport",get:function(){var t=this.devicePixelRatio,e=this.props,n=e.page,A=e.rotate,i=e.scale;return n.getViewport({scale:i*t,rotation:A})}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,A=t.scale;return e.getViewport({scale:A,rotation:n})}},{key:"render",value:function(){var t=this.props.canvasRef;return e.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:kB(t,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),A}(e.PureComponent);function IB(t){return e.createElement(UB.Consumer,null,function(n){return e.createElement(MB,hw({},n,t))})}function TB(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ty){return!1}}();return function(){var n,A=bw(t);if(e){var i=bw(this).constructor;n=Reflect.construct(A,arguments,i)}else n=A.apply(this,arguments);return yw(this,n)}}MB.propTypes={canvasBackground:_w().string,canvasRef:lB,devicePixelRatio:_w().number,onRenderError:_w().func,onRenderSuccess:_w().func,page:aB.isRequired,renderForms:_w().bool,rotate:hB,scale:_w().number.isRequired};var DB=function(t){Bw(A,t);var n=TB(A);function A(){var t;pw(this,A);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=n.call.apply(n,[this].concat(i)),(0,ne.A)(vw(t),"state",{svg:null}),(0,ne.A)(vw(t),"onRenderSuccess",function(){t.renderer=null;var e=t.props,n=e.onRenderSuccess,A=e.page,i=e.scale;n&&n($w(A,i))}),(0,ne.A)(vw(t),"onRenderError",function(e){if(!tB(e)){Dw(e);var n=t.props.onRenderError;n&&n(e)}}),(0,ne.A)(vw(t),"renderSVG",function(){var e=t.props.page;return t.renderer=e.getOperatorList(),t.renderer.then(function(n){var A=new cw.SVGGraphics(e.commonObjs,e.objs);t.renderer=A.getSVG(n,t.viewport).then(function(e){t.setState({svg:e},t.onRenderSuccess)}).catch(t.onRenderError)}).catch(t.onRenderError)}),(0,ne.A)(vw(t),"drawPageOnContainer",function(e){var n=t.state.svg;if(e&&n){e.firstElementChild||e.appendChild(n);var A=t.viewport,i=A.width,r=A.height;n.setAttribute("width",i),n.setAttribute("height",r)}}),t}return mw(A,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,A=t.scale;return e.getViewport({scale:A,rotation:n})}},{key:"render",value:function(){var t=this,n=this.viewport,A=n.width,i=n.height;return e.createElement("div",{className:"react-pdf__Page__svg",ref:function(e){return t.drawPageOnContainer(e)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:A,height:i,userSelect:"none"}})}}]),A}(e.PureComponent);function LB(t){return e.createElement(UB.Consumer,null,function(n){return e.createElement(DB,hw({},n,t))})}function RB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(t);e&&(A=A.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,A)}return n}function OB(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ty){return!1}}();return function(){var n,A=bw(t);if(e){var i=bw(this).constructor;n=Reflect.construct(A,arguments,i)}else n=A.apply(this,arguments);return yw(this,n)}}DB.propTypes={onRenderError:_w().func,onRenderSuccess:_w().func,page:aB.isRequired,rotate:hB,scale:_w().number.isRequired};var HB=function(t){Bw(A,t);var n=OB(A);function A(){var t;pw(this,A);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),(0,ne.A)(vw(t),"state",{textContent:null}),(0,ne.A)(vw(t),"layerElement",(0,e.createRef)()),(0,ne.A)(vw(t),"endElement",(0,e.createRef)()),(0,ne.A)(vw(t),"loadTextContent",function(){var e=Qw(t.props.page.getTextContent());t.runningTask=e,e.promise.then(function(e){t.setState({textContent:e},t.onLoadSuccess)}).catch(function(e){t.onLoadError(e)})}),(0,ne.A)(vw(t),"onLoadSuccess",function(){var e=t.props.onGetTextSuccess,n=t.state.textContent;e&&e(n)}),(0,ne.A)(vw(t),"onLoadError",function(e){t.setState({textItems:!1}),Dw(e);var n=t.props.onGetTextError;n&&n(e)}),(0,ne.A)(vw(t),"onRenderSuccess",function(){var e=t.props.onRenderTextLayerSuccess;e&&e()}),(0,ne.A)(vw(t),"onRenderError",function(e){Dw(e);var n=t.props.onRenderTextLayerError;n&&n(e)}),(0,ne.A)(vw(t),"onMouseDown",function(){var e=t.endElement.current;e&&e.classList.add("active")}),(0,ne.A)(vw(t),"onMouseUp",function(){var e=t.endElement.current;e&&e.classList.remove("active")}),t}return mw(A,[{key:"componentDidMount",value:function(){Tw(this.props.page),Dw(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),this.loadTextContent()}},{key:"componentDidUpdate",value:function(t){var e=this.props.page;t.page&&e!==t.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){Zw(this.runningTask)}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,A=t.scale;return e.getViewport({scale:A,rotation:n})}},{key:"unrotatedViewport",get:function(){var t=this.props,e=t.page,n=t.scale;return e.getViewport({scale:n})}},{key:"rotate",get:function(){var t=this.props,e=t.page;return t.rotate-e.rotate}},{key:"renderTextLayer",value:function(){var t=this,e=this.state.textContent;if(!e)return null;var n=this.layerElement.current,A=this.viewport,i=this.props.customTextRenderer;Zw(this.runningTask),n.innerHTML="";var r={container:n,textContent:e,viewport:A},s=cw.renderTextLayer(r);this.runningTask=s,s.promise.then(function(){var A=document.createElement("div");if(A.className="endOfContent",n.append(A),t.endElement.current=A,i){var r=0;e.items.forEach(function(e,n){var A=t.layerElement.current.children[r],s=i(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?RB(Object(n),!0).forEach(function(e){(0,ne.A)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({itemIndex:n},e));A.innerHTML=s,r+=e.str&&e.hasEOL?2:1})}t.onRenderSuccess()}).catch(function(e){t.onRenderError(e)})}},{key:"render",value:function(){return e.createElement("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement},this.renderTextLayer())}}]),A}(e.PureComponent);function NB(t){return e.createElement(UB.Consumer,null,function(n){return e.createElement(HB,hw({},n,t))})}function GB(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ty){return!1}}();return function(){var n,A=bw(t);if(e){var i=bw(this).constructor;n=Reflect.construct(A,arguments,i)}else n=A.apply(this,arguments);return yw(this,n)}}HB.propTypes={customTextRenderer:_w().func,onGetTextError:_w().func,onGetTextSuccess:_w().func,onRenderTextLayerError:_w().func,onRenderTextLayerSuccess:_w().func,page:aB.isRequired,rotate:hB,scale:_w().number};var KB=function(t){Bw(A,t);var n=GB(A);function A(){var t;pw(this,A);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),(0,ne.A)(vw(t),"state",{annotations:null}),(0,ne.A)(vw(t),"layerElement",(0,e.createRef)()),(0,ne.A)(vw(t),"loadAnnotations",function(){var e=Qw(t.props.page.getAnnotations());t.runningTask=e,e.promise.then(function(e){t.setState({annotations:e},t.onLoadSuccess)}).catch(function(e){t.onLoadError(e)})}),(0,ne.A)(vw(t),"onLoadSuccess",function(){var e=t.props.onGetAnnotationsSuccess,n=t.state.annotations;e&&e(n)}),(0,ne.A)(vw(t),"onLoadError",function(e){t.setState({annotations:!1}),Dw(e);var n=t.props.onGetAnnotationsError;n&&n(e)}),(0,ne.A)(vw(t),"onRenderSuccess",function(){var e=t.props.onRenderAnnotationLayerSuccess;e&&e()}),(0,ne.A)(vw(t),"onRenderError",function(e){Dw(e);var n=t.props.onRenderAnnotationLayerError;n&&n(e)}),t}return mw(A,[{key:"componentDidMount",value:function(){Tw(this.props.page),Dw(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.page,A=e.renderForms;(t.page&&n!==t.page||A!==t.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){Zw(this.runningTask)}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,A=t.scale;return e.getViewport({scale:A,rotation:n})}},{key:"renderAnnotationLayer",value:function(){var t=this.state.annotations;if(t){var e=this.props,n=e.imageResourcesPath,A=e.linkService,i=e.page,r=e.renderForms,s=this.viewport.clone({dontFlip:!0}),a={annotations:t,div:this.layerElement.current,imageResourcesPath:n,linkService:A,page:i,renderForms:r,viewport:s};this.layerElement.current.innerHTML="";try{cw.AnnotationLayer.render(a),this.onRenderSuccess()}catch(o){this.onRenderError(o)}}}},{key:"render",value:function(){return e.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),A}(e.PureComponent);KB.propTypes={imageResourcesPath:_w().string,linkService:sB.isRequired,onGetAnnotationsError:_w().func,onGetAnnotationsSuccess:_w().func,onRenderAnnotationLayerError:_w().func,onRenderAnnotationLayerSuccess:_w().func,page:aB,renderForms:_w().bool,rotate:hB,scale:_w().number};const WB=function(t){return e.createElement(Lw.Consumer,null,function(n){return e.createElement(UB.Consumer,null,function(A){return e.createElement(KB,hw({},n,A,t))})})};function jB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(t);e&&(A=A.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,A)}return n}function VB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jB(Object(n),!0).forEach(function(e){(0,ne.A)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jB(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function zB(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ty){return!1}}();return function(){var n,A=bw(t);if(e){var i=bw(this).constructor;n=Reflect.construct(A,arguments,i)}else n=A.apply(this,arguments);return yw(this,n)}}var XB=function(t){Bw(A,t);var n=zB(A);function A(){var t;pw(this,A);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),(0,ne.A)(vw(t),"state",{page:null}),(0,ne.A)(vw(t),"pageElement",(0,e.createRef)()),(0,ne.A)(vw(t),"onLoadSuccess",function(){var e=t.props,n=e.onLoadSuccess,A=e.registerPage,i=t.state.page;n&&n($w(i,t.scale)),A&&A(t.pageIndex,t.pageElement.current)}),(0,ne.A)(vw(t),"onLoadError",function(e){t.setState({page:!1}),Dw(e);var n=t.props.onLoadError;n&&n(e)}),(0,ne.A)(vw(t),"loadPage",function(){var e=t.props.pdf,n=t.getPageNumber();if(n){t.setState(function(t){return t.page?{page:null}:null});var A=Qw(e.getPage(n));t.runningTask=A,A.promise.then(function(e){t.setState({page:e},t.onLoadSuccess)}).catch(function(e){t.onLoadError(e)})}}),t}return mw(A,[{key:"componentDidMount",value:function(){Tw(this.props.pdf),this.loadPage()}},{key:"componentDidUpdate",value:function(t){var e=this.props.pdf;if(t.pdf&&e!==t.pdf||this.getPageNumber()!==this.getPageNumber(t)){var n=this.props.unregisterPage;n&&n(this.getPageIndex(t)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var t=this.props.unregisterPage;t&&t(this.pageIndex),Zw(this.runningTask)}},{key:"childContext",get:function(){var t=this.state.page;if(!t)return{};var e=this.props,n=e.canvasBackground,A=e.customTextRenderer,i=e.devicePixelRatio,r=e.onGetAnnotationsError,s=e.onGetAnnotationsSuccess,a=e.onGetTextError,o=e.onGetTextSuccess,l=e.onRenderAnnotationLayerError,c=e.onRenderAnnotationLayerSuccess,h=e.onRenderError,u=e.onRenderSuccess,d=e.onRenderTextLayerError,p=e.onRenderTextLayerSuccess,g=e.renderForms,f=e.renderInteractiveForms;return{canvasBackground:n,customTextRenderer:A,devicePixelRatio:i,onGetAnnotationsError:r,onGetAnnotationsSuccess:s,onGetTextError:a,onGetTextSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,onRenderError:h,onRenderSuccess:u,onRenderTextLayerError:d,onRenderTextLayerSuccess:p,page:t,renderForms:null!==g&&void 0!==g?g:f,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return zw(t.pageNumber)?t.pageNumber-1:zw(t.pageIndex)?t.pageIndex:null}},{key:"getPageNumber",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return zw(t.pageNumber)?t.pageNumber:zw(t.pageIndex)?t.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var t=this.props.rotate;if(zw(t))return t;var e=this.state.page;return e?e.rotate:null}},{key:"scale",get:function(){var t=this.state.page;if(!t)return null;var e=this.props,n=e.scale,A=e.width,i=e.height,r=this.rotate,s=1,a=null===n?1:n;if(A||i){var o=t.getViewport({scale:1,rotation:r});s=A?A/o.width:i/o.height}return a*s}},{key:"eventProps",get:function(){var t=this;return Uw(this.props,function(){var e=t.state.page;return e?$w(e,t.scale):e})}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var t=this.props,n=t.canvasRef;switch(t.renderMode){case"none":return null;case"svg":return e.createElement(LB,{key:"".concat(this.pageKeyNoScale,"_svg")});default:return e.createElement(IB,{key:"".concat(this.pageKey,"_canvas"),canvasRef:n})}}},{key:"renderTextLayer",value:function(){var t=this.props.renderTextLayer;return t?e.createElement(NB,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){var t=this.props.renderAnnotationLayer;return t?e.createElement(WB,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var t=this.props.children;return e.createElement(UB.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),t)}},{key:"renderContent",value:function(){var t=this.pageNumber,n=this.props.pdf,A=this.state.page;if(!t){var i=this.props.noData;return e.createElement(Rw,{type:"no-data"},"function"===typeof i?i():i)}if(null===n||null===A){var r=this.props.loading;return e.createElement(Rw,{type:"loading"},"function"===typeof r?r():r)}if(!1===n||!1===A){var s=this.props.error;return e.createElement(Rw,{type:"error"},"function"===typeof s?s():s)}return this.renderChildren()}},{key:"render",value:function(){var t=this.pageNumber,n=this.props,A=n.className,i=n.inputRef;return e.createElement("div",hw({className:Mw("react-pdf__Page",A),"data-page-number":t,ref:kB(i,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"}},this.eventProps),this.renderContent())}}]),A}(e.PureComponent);XB.defaultProps={error:"Failed to load the page.",loading:"Loading page\u2026",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:1};var qB=_w().oneOfType([_w().func,_w().node]);XB.propTypes=VB(VB({},nB),{},{canvasBackground:_w().string,children:_w().node,className:iB,customTextRenderer:_w().func,devicePixelRatio:_w().number,error:qB,height:_w().number,imageResourcesPath:_w().string,inputRef:lB,loading:qB,noData:qB,onGetTextError:_w().func,onGetTextSuccess:_w().func,onLoadError:_w().func,onLoadSuccess:_w().func,onRenderError:_w().func,onRenderSuccess:_w().func,onRenderTextLayerError:_w().func,onRenderTextLayerSuccess:_w().func,pageIndex:function(t,e,n){var A=t[e],i=t.pageNumber,r=t.pdf;if(!Vw(r))return null;if(Vw(A)){if("number"!==typeof A)return new Error("`".concat(e,"` of type `").concat((0,dw.A)(A),"` supplied to `").concat(n,"`, expected `number`."));if(A<0)return new Error("Expected `".concat(e,"` to be greater or equal to 0."));var s=r.numPages;if(A+1>s)return new Error("Expected `".concat(e,"` to be less or equal to ").concat(s-1,"."))}else if(!Vw(i))return new Error("`".concat(e,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pageNumber:function(t,e,n){var A=t[e],i=t.pageIndex,r=t.pdf;if(!Vw(r))return null;if(Vw(A)){if("number"!==typeof A)return new Error("`".concat(e,"` of type `").concat((0,dw.A)(A),"` supplied to `").concat(n,"`, expected `number`."));if(A<1)return new Error("Expected `".concat(e,"` to be greater or equal to 1."));var s=r.numPages;if(A>s)return new Error("Expected `".concat(e,"` to be less or equal to ").concat(s,"."))}else if(!Vw(i))return new Error("`".concat(e,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pdf:oB,registerPage:_w().func,renderAnnotationLayer:_w().bool,renderForms:_w().bool,renderInteractiveForms:_w().bool,renderMode:cB,renderTextLayer:_w().bool,rotate:hB,scale:_w().number,unregisterPage:_w().func,width:_w().number});Dw(!jw,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(Yw)),cw.GlobalWorkerOptions.workerSrc="pdf.worker.js";try{__webpack_require__.e(355).then(__webpack_require__.bind(__webpack_require__,355)).then(t=>{cw.GlobalWorkerOptions.workerSrc=t.default}).catch(()=>{cw.GlobalWorkerOptions.workerSrc="".concat(window.location.origin,"/pdf.worker.min.js")})}catch(ty){cw.GlobalWorkerOptions.workerSrc="".concat(window.location.origin,"/pdf.worker.min.js")}function YB(t){let{children:e}=t;return(0,St.jsxs)("div",{className:"chatgpt-workspace-layout full-height-container",children:[(0,St.jsxs)("aside",{className:"main-sidebar",children:[(0,St.jsx)("div",{className:"logo",children:"KABS"}),(0,St.jsxs)("nav",{className:"nav-menu",children:[(0,St.jsx)(Ft,{to:"/pricing",className:"nav-btn",title:"Projects",children:"P"}),(0,St.jsx)(Ft,{to:"/annotation",className:"nav-btn",title:"Annotation Workspace",children:"A"}),(0,St.jsx)(Ft,{to:"/discussion",className:"nav-btn",title:"AI Discussion",children:"D"}),(0,St.jsx)(Ft,{to:"/report",className:"nav-btn",title:"Reports",children:"R"})]})]}),(0,St.jsx)("main",{className:"content-area",children:e})]})}function JB(t){let{children:e}=t;return(0,St.jsx)("div",{className:"full-height-container",style:{padding:"20px"},children:e})}const ZB=function(){return(0,St.jsx)(bt,{children:(0,St.jsxs)(ft,{children:[(0,St.jsx)(pt,{path:"/",element:(0,St.jsx)(YB,{children:(0,St.jsx)(kt,{})})}),(0,St.jsx)(pt,{path:"/pricing",element:(0,St.jsx)(YB,{children:(0,St.jsx)(kt,{})})}),(0,St.jsx)(pt,{path:"/annotation",element:(0,St.jsx)(YB,{children:(0,St.jsx)(Ut,{})})}),(0,St.jsx)(pt,{path:"/annotation_editor",element:(0,St.jsx)(JB,{children:(0,St.jsx)(aw,{})})}),(0,St.jsx)(pt,{path:"/discussion",element:(0,St.jsx)(YB,{children:(0,St.jsx)(ow,{})})}),(0,St.jsx)(pt,{path:"/report",element:(0,St.jsx)(YB,{children:(0,St.jsx)(lw,{})})})]})})},$B=document.getElementById("root");(0,A.H)($B).render((0,St.jsx)(e.StrictMode,{children:(0,St.jsx)(ZB,{})}))})()})();
//# sourceMappingURL=main.2c6e6cb1.js.map